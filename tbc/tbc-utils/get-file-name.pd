#N canvas 875 70 875 894 12;
#X obj 78 79 inlet;
#X obj 78 108 list fromsymbol;
#X obj 78 290 list split 1;
#X obj 78 187 until;
#X obj 78 265 list append;
#X obj 208 290 bang;
#X text 360 153 First store list \, then start the loop;
#X text 357 182 "until" bangs its output until told to stop by a "bang"
to its right inlet.;
#X text 364 263 Store the remaining list.;
#X text 363 289 third outlet of "split" tells us to stop.;
#X text 364 311 Second outlet of "split" becomes the new list for "list
append" above.;
#X text 364 350 First outlet is the output.;
#X obj 120 508 list prepend;
#X obj 213 474 list;
#X obj 78 154 t b b l;
#X obj 166 610 spigot;
#X msg 247 581 1;
#X msg 211 581 0;
#X obj 166 784 list tosymbol;
#X obj 270 475 t b b b;
#X obj 166 809 outlet;
#X text 397 606 When we reach the end of the list \, send the output
;
#X text 380 88 32 is the symbol for space;
#X text 380 108 47 is the symbol for /;
#X obj 120 533 list split 1;
#X text 396 532 Split off the / at the beginning;
#X msg 26 429 47;
#X obj 78 400 t b;
#X obj 78 376 route 47 32;
#X msg 120 401 95;
#X text 380 126 95 is the symbol for _;
#X text 365 378 Use route to separate / and spaces from the rest of
the list. Spaces need to be replaced with _ so 32 is replaced with
95;
#X text 290 709 <-- Truncate characters at beginning if string is too
long;
#N canvas 284 394 370 462 truncate 1;
#X obj 85 72 list length;
#X obj 156 215 >= 0;
#X obj 156 240 sel 0 1;
#X msg 156 272 0, f 1;
#X obj 125 182 f;
#X obj 156 149 t f f;
#X obj 48 22 inlet;
#X obj 48 47 t a a;
#X obj 86 435 outlet;
#X obj 177 24 inlet size;
#X obj 125 301 f;
#X obj 48 329 list split;
#X msg 219 333 46 46 46;
#X obj 86 393 list prepend;
#X obj 156 124 - 99999;
#X connect 0 0 14 0;
#X connect 1 0 2 0;
#X connect 2 0 3 0;
#X connect 2 0 13 1;
#X connect 2 1 12 0;
#X connect 2 1 4 0;
#X connect 3 0 10 0;
#X connect 4 0 10 0;
#X connect 5 0 1 0;
#X connect 5 1 4 1;
#X connect 6 0 7 0;
#X connect 7 0 11 0;
#X connect 7 1 0 0;
#X connect 9 0 14 1;
#X connect 10 0 11 1;
#X connect 11 1 13 0;
#X connect 12 0 13 1;
#X connect 13 0 8 0;
#X connect 14 0 5 0;
#X restore 166 709 pd truncate;
#X obj 211 82 inlet size;
#X obj 335 170 t f;
#X obj 337 662 t f;
#X text 216 22 This patch substrings a path to only get the name of
the file itself. EX: ../folder/file.wav -> file.wav;
#X connect 0 0 1 0;
#X connect 1 0 14 0;
#X connect 2 0 28 0;
#X connect 2 1 4 1;
#X connect 2 2 5 0;
#X connect 2 2 19 0;
#X connect 3 0 4 0;
#X connect 4 0 2 0;
#X connect 5 0 3 1;
#X connect 12 0 13 0;
#X connect 12 0 24 0;
#X connect 13 0 12 1;
#X connect 14 0 3 0;
#X connect 14 1 26 0;
#X connect 14 2 4 1;
#X connect 15 0 33 0;
#X connect 16 0 15 1;
#X connect 17 0 15 1;
#X connect 18 0 20 0;
#X connect 19 0 17 0;
#X connect 19 1 12 0;
#X connect 19 2 16 0;
#X connect 24 1 15 0;
#X connect 26 0 13 0;
#X connect 27 0 26 0;
#X connect 28 0 27 0;
#X connect 28 1 29 0;
#X connect 28 2 12 0;
#X connect 29 0 12 0;
#X connect 33 0 18 0;
#X connect 34 0 35 0;
#X connect 35 0 36 0;
#X connect 36 0 33 1;
