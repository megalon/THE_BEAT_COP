#N struct 1241-template float x float y float rgb;
#N canvas 358 124 1225 797 12;
#X obj 0 123 cnv 15 470 288 empty \$0-cnv-grid empty 20 12 0 14 -71583
-262144 0;
#N canvas 198 58 704 889 clock 0;
#X obj 93 150 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0
1;
#X obj 138 524 s \$0-clock;
#X obj 93 74 inlet;
#X obj 135 549 + 1;
#X msg 101 830 0;
#X obj 101 549 f 0;
#X obj 101 773 sel 15;
#X obj 193 704 s \$0-current-step;
#X obj 31 322 sel 0;
#X msg 31 347 0;
#X obj 101 222 metro 250;
#X obj 350 330 == 0;
#X obj 101 449 spigot;
#X obj 93 170 t f f f;
#X obj 101 377 spigot 1;
#X obj 399 403 spigot 0;
#X obj 131 345 del;
#X obj 189 288 t b f;
#X obj 354 75 inlet step;
#X obj 399 428 t b f;
#X obj 399 210 spigot 0;
#X obj 161 75 inlet bpm;
#N canvas 614 508 379 214 bpm-to-ms 0;
#X obj 40 29 inlet;
#X obj 40 147 outlet;
#X obj 40 54 swap 60000;
#X obj 40 79 /;
#X floatatom 40 104 5 0 0 0 - - -;
#X text 177 27 Convert BPM to ms;
#X connect 0 0 2 0;
#X connect 2 0 3 0;
#X connect 2 1 3 1;
#X connect 3 0 4 0;
#X connect 4 0 1 0;
#X restore 161 120 pd bpm-to-ms;
#X floatatom 206 269 5 0 0 0 - - -;
#X obj 162 349 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 189 246 r \$0-swing;
#X obj 152 319 *;
#X obj 192 178 / 2;
#X text 463 74 External step numbers;
#N canvas 918 186 600 591 get-clock-time-ms 0;
#X obj 136 184 timer;
#X obj 136 83 f 0;
#X obj 169 83 + 1;
#X obj 203 83 sel 1;
#X msg 203 108 0;
#X floatatom 136 108 5 0 0 0 - - -;
#X obj 136 130 sel 1;
#X floatatom 136 209 5 0 0 0 - - -;
#X text 156 15 This patch gets the time in ms between bangs;
#X obj 136 538 s \$0-clock-time-ms;
#X obj 136 155 t b;
#X obj 173 155 t b;
#X obj 136 52 inlet;
#X obj 18 54 inlet;
#X obj 304 538 s \$0-external-bpm;
#X obj 304 486 /;
#X floatatom 304 511 5 0 0 0 - - -;
#X obj 304 461 swap 15000;
#X text 303 152 The sequencer uses quarter notes;
#X obj 136 231 t f f;
#X obj 136 493 t f f;
#X obj 173 406 s \$0-gui-on-off;
#X obj 173 286 change;
#X text 246 276 Turn off gui if going too fast.;
#X obj 173 261 > 40;
#X obj 297 406 s \$0-lcd-2-r;
#X obj 297 313 sel 0 1;
#X msg 323 346 label empty;
#X msg 297 376 label VISUAL_FX_DISABLED!;
#X obj 294 203 r \$0-ext-step-btn-0-s;
#X obj 294 228 sel 0;
#X msg 294 253 1;
#X connect 0 0 7 0;
#X connect 1 0 2 0;
#X connect 1 0 3 0;
#X connect 1 0 5 0;
#X connect 2 0 1 1;
#X connect 3 0 4 0;
#X connect 4 0 1 1;
#X connect 5 0 6 0;
#X connect 6 0 10 0;
#X connect 6 1 11 0;
#X connect 7 0 19 0;
#X connect 10 0 0 0;
#X connect 11 0 0 1;
#X connect 12 0 1 0;
#X connect 13 0 9 0;
#X connect 15 0 16 0;
#X connect 16 0 14 0;
#X connect 17 0 15 0;
#X connect 17 1 15 1;
#X connect 19 0 20 0;
#X connect 19 1 24 0;
#X connect 20 0 9 0;
#X connect 20 1 17 0;
#X connect 22 0 21 0;
#X connect 22 0 26 0;
#X connect 24 0 22 0;
#X connect 26 0 28 0;
#X connect 26 1 27 0;
#X connect 27 0 25 0;
#X connect 28 0 25 0;
#X connect 29 0 30 0;
#X connect 30 0 31 0;
#X connect 31 0 22 0;
#X restore 305 497 pd get-clock-time-ms;
#X obj 101 798 t b b;
#X obj 138 830 s \$0-pattern-end;
#X obj 305 223 t f;
#X floatatom 305 419 5 0 0 0 - - -;
#X obj 161 145 / 2;
#X obj 119 261 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 305 391 spigot 1;
#X obj 124 744 s \$0-step-end;
#X obj 354 138 sel -1;
#X obj 354 112 expr if($f1 >= 0 && $f1 <= 15 \, $f1 \, -1);
#N canvas 0 592 450 377 bpm-display 0;
#X msg 25 273 label \$1;
#X obj 25 300 s \$0-lcd-bpm-r;
#X obj 25 26 r \$0-bpm;
#X obj 25 131 change;
#X obj 25 246 makefilename %d_BPM;
#X obj 25 216 spigot;
#X obj 70 190 > 0;
#X obj 25 156 t f f;
#X obj 299 28 r \$0-external-bpm;
#X obj 25 101 f;
#X obj 112 53 sel 0;
#X obj 112 28 r \$0-ext-step-btn-0-s;
#X connect 0 0 1 0;
#X connect 2 0 9 0;
#X connect 3 0 7 0;
#X connect 4 0 0 0;
#X connect 5 0 4 0;
#X connect 6 0 5 1;
#X connect 7 0 5 0;
#X connect 7 1 6 0;
#X connect 8 0 3 0;
#X connect 9 0 3 0;
#X connect 10 0 9 0;
#X connect 11 0 10 0;
#X restore 36 43 pd bpm-display;
#X obj 170 724 s \$0-current-step-late;
#X obj 460 247 r \$0-ext-step-btn-0-s;
#X obj 93 99 change;
#X obj 101 574 t f b f f;
#N canvas 36 578 546 335 handle-volume-on-pattern-change 0;
#X obj 76 272 s \$0-stop-all-samples;
#X obj 95 77 change;
#X obj 95 102 t b;
#X obj 50 182 spigot;
#X obj 50 29 inlet;
#X msg 95 127 1;
#X msg 122 182 0;
#X obj 50 302 s \$0-apply-new-volumes;
#X obj 50 212 t b b b;
#X obj 253 122 r \$0-playing;
#X obj 253 152 == 0;
#X text 268 182 If paused \, apply immediately;
#X obj 95 52 r \$0-current-pattern;
#X obj 192 92 r \$0-done-loading-pattern;
#X obj 192 182 spigot 1;
#X obj 192 212 t b b b;
#X obj 258 272 s \$0-reset-all-pitch;
#X connect 1 0 2 0;
#X connect 2 0 5 0;
#X connect 3 0 8 0;
#X connect 4 0 3 0;
#X connect 5 0 3 1;
#X connect 6 0 3 1;
#X connect 8 0 7 0;
#X connect 8 1 0 0;
#X connect 8 2 6 0;
#X connect 9 0 10 0;
#X connect 10 0 14 1;
#X connect 12 0 1 0;
#X connect 13 0 14 0;
#X connect 14 0 15 0;
#X connect 15 0 7 0;
#X connect 15 1 16 0;
#X connect 15 2 0 0;
#X restore 170 625 pd handle-volume-on-pattern-change;
#X obj 460 184 r \$0-playing;
#X obj 170 599 sel 0;
#X obj 234 599 r \$0-ext-pattern-load-volume;
#X obj 147 653 t b f f f;
#X obj 216 684 s \$0-current-step-early;
#X text 35 15 Handle the clock for TBC;
#X obj 460 272 t f f;
#X obj 460 311 sel 0;
#X obj 460 336 s \$0-get-bpm;
#X obj 161 98 int;
#X connect 0 0 13 0;
#X connect 2 0 43 0;
#X connect 3 0 5 1;
#X connect 4 0 5 1;
#X connect 5 0 3 0;
#X connect 5 0 44 0;
#X connect 6 0 30 0;
#X connect 8 0 9 0;
#X connect 9 0 5 1;
#X connect 10 0 14 0;
#X connect 10 0 16 0;
#X connect 10 0 35 0;
#X connect 11 0 14 1;
#X connect 11 0 36 1;
#X connect 12 0 5 0;
#X connect 12 0 1 0;
#X connect 13 0 8 0;
#X connect 13 1 10 0;
#X connect 13 2 12 1;
#X connect 14 0 12 0;
#X connect 15 0 19 0;
#X connect 16 0 14 0;
#X connect 16 0 24 0;
#X connect 17 0 26 0;
#X connect 17 1 26 1;
#X connect 18 0 39 0;
#X connect 19 0 1 0;
#X connect 19 0 29 1;
#X connect 19 1 49 0;
#X connect 20 0 15 0;
#X connect 21 0 55 0;
#X connect 22 0 34 0;
#X connect 25 0 17 0;
#X connect 25 0 23 0;
#X connect 26 0 16 1;
#X connect 27 0 26 0;
#X connect 27 0 32 0;
#X connect 30 0 4 0;
#X connect 30 1 31 0;
#X connect 32 0 36 0;
#X connect 33 0 29 0;
#X connect 34 0 10 1;
#X connect 34 0 27 0;
#X connect 36 0 33 0;
#X connect 38 1 20 0;
#X connect 39 0 38 0;
#X connect 42 0 52 0;
#X connect 43 0 0 0;
#X connect 44 0 6 0;
#X connect 44 1 37 0;
#X connect 44 2 49 0;
#X connect 44 3 47 0;
#X connect 46 0 20 1;
#X connect 47 0 45 0;
#X connect 48 0 45 0;
#X connect 49 0 37 0;
#X connect 49 1 41 0;
#X connect 49 2 7 0;
#X connect 49 3 50 0;
#X connect 52 0 53 0;
#X connect 52 1 11 0;
#X connect 52 1 15 1;
#X connect 53 0 54 0;
#X connect 55 0 22 0;
#X restore 735 158 pd clock;
#X obj 170 141 flatgui/knob 30 30 0 1 0 1 \$0-knob-0-s \$0-knob-0-r
VOLUME -3 38 0 10 4.10857e+007 4.10857e+007 4.10857e+007 2700 1;
#X obj 220 141 flatgui/knob 30 30 0 1 0 1 \$0-knob-1-s \$0-knob-1-r
EXT_VOL -4 38 0 10 4.10857e+007 4.10857e+007 4.10857e+007 1700 1;
#X obj 20 141 tgl 30 0 \$0-sound-btn-s \$0-sound-btn-r SOUND 0 38 0
10 -1 -71583 -1 0 1;
#X obj 70 141 tgl 30 0 \$0-pattern-btn-s \$0-pattern-btn-r PATTERN
-5 38 0 10 -1 -71583 -1 0 1;
#X obj 120 141 tgl 30 0 \$0-bpm-btn-s \$0-bpm-btn-r BPM 5 38 0 10 -1
-71583 -1 0 1;
#X obj 220 191 tgl 30 0 \$0-funct-btn-s \$0-funct-btn-r FUNCT 0 38
0 10 -1 -71583 -1 0 1;
#X obj 220 241 tgl 30 0 \$0-fx-btn-s \$0-fx-btn-r FX 8 38 0 10 -1 -71583
-1 0 1;
#X obj 220 291 tgl 30 0 \$0-play-btn-s \$0-play-btn-r PLAY 3 38 0 10
-1 -71583 -1 0 1;
#X obj 220 341 tgl 30 0 \$0-write-btn-s \$0-write-btn-r WRITE 1 38
0 10 -1 -71583 -1 0 1;
#N canvas 72 92 527 174 sequencer 0;
#X text 44 16 Each instrument has it's own 16 step sequence using the
tbc-utils/step-seq object;
#N canvas 286 166 1022 614 handle-current-sequence 0;
#X obj 53 48 r \$0-packed-grid-buttons;
#X obj 53 299 spigot;
#X text 311 86 If we can see the sequencer \, update the sequence;
#X obj 74 488 pack s f;
#X obj 53 564 s;
#X obj 74 538 symbol;
#X floatatom 135 465 5 0 15 1 seq - -;
#X obj 53 344 t a b;
#X obj 96 378 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 478 296 r \$0-current-sound;
#X obj 74 421 symbol \$0-seq-gate;
#X obj 263 299 spigot;
#X obj 284 488 pack s f;
#X obj 263 564 s;
#X obj 284 538 symbol;
#X floatatom 345 465 5 0 15 1 seq - -;
#X obj 263 344 t a b;
#X obj 306 378 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 263 48 r \$0-packed-grid-knobs;
#X obj 284 421 symbol \$0-seq-pitch;
#X msg 478 508 label \$1;
#X obj 478 483 makefilename SOUND:%d;
#X text 479 563 Display current sound to LCD;
#X obj 478 535 s \$0-lcd-1-r;
#X msg 74 513 \$1-\$2-r;
#X msg 284 513 \$1-\$2-r;
#X obj 478 328 t f f;
#X text 554 321 Switch which sequence the grid buttons / knobs are
being saved to.;
#X obj 345 202 del 3;
#X obj 345 227 s \$0-sequence-is-hidden;
#X obj 345 174 sel 0;
#X obj 308 144 t f f;
#X obj 308 114 r \$0-view-sequencer;
#N canvas 334 242 500 582 load-sequence 0;
#X obj 170 455 pack s f;
#X obj 149 530 s;
#X obj 170 505 symbol;
#X floatatom 231 432 5 0 15 1 seq - -;
#X obj 170 318 symbol \$0-get-seq;
#X msg 170 480 \$1-\$2-r;
#X obj 42 143 inlet;
#X obj 42 412 t f;
#X text 37 49 This is done within the load-to-grid subpatch in the
patterns subpatch.;
#X text 37 19 Load correct seq. Load gates (0) \, pitch (1) \, retrig
(2).;
#X text 38 99 load-current-sound: Load gates \, pitch grid.;
#X msg 144 256 0;
#X obj 144 143 r \$0-load-current-gates;
#X obj 164 163 r \$0-load-current-pitches;
#X obj 184 183 r \$0-load-current-retrigs;
#X obj 144 286 t f b b;
#X msg 164 236 1;
#X msg 184 216 2;
#X connect 0 0 5 0;
#X connect 2 0 1 1;
#X connect 3 0 0 1;
#X connect 4 0 0 0;
#X connect 5 0 2 0;
#X connect 6 0 7 0;
#X connect 7 0 3 0;
#X connect 11 0 15 0;
#X connect 12 0 11 0;
#X connect 13 0 16 0;
#X connect 14 0 17 0;
#X connect 15 0 1 0;
#X connect 15 1 4 0;
#X connect 15 2 3 0;
#X connect 16 0 15 0;
#X connect 17 0 15 0;
#X restore 515 421 pd load-sequence;
#X text 65 13 Send the packed grid data into the current sequence.
;
#X connect 0 0 1 0;
#X connect 1 0 7 0;
#X connect 3 0 24 0;
#X connect 5 0 4 1;
#X connect 6 0 3 1;
#X connect 7 0 4 0;
#X connect 7 1 8 0;
#X connect 7 1 10 0;
#X connect 9 0 26 0;
#X connect 10 0 3 0;
#X connect 11 0 16 0;
#X connect 12 0 25 0;
#X connect 14 0 13 1;
#X connect 15 0 12 1;
#X connect 16 0 13 0;
#X connect 16 1 17 0;
#X connect 16 1 19 0;
#X connect 18 0 11 0;
#X connect 19 0 12 0;
#X connect 20 0 23 0;
#X connect 21 0 20 0;
#X connect 24 0 5 0;
#X connect 25 0 14 0;
#X connect 26 0 6 0;
#X connect 26 0 15 0;
#X connect 26 0 21 0;
#X connect 26 1 33 0;
#X connect 28 0 29 0;
#X connect 30 0 28 0;
#X connect 31 0 1 1;
#X connect 31 0 11 1;
#X connect 31 1 30 0;
#X connect 32 0 31 0;
#X restore 81 114 pd handle-current-sequence;
#N canvas 65 123 1215 826 all-16-sequencers 0;
#X obj 566 8 r \$0-current-step;
#X obj 636 181 s \$0-seq-pitch-0-s;
#X obj 566 221 s \$0-seq-gate-0-s;
#X obj 594 28 r \$0-seq-gate-0-r;
#X obj 650 68 r \$0-seq-pitch-0-r;
#X text 31 60 current-step: The current position in the 16 step seq
;
#X text 31 149 seq-load-r#: Recieves a bang when this sequence is to
be loaded to the gui;
#X text 31 198 seq-pitch-r#: Like seq-gate-r# \, but gets the pitch
data from the knobs instead of the buttons.;
#X text 31 429 seq-pitch-s#: The pitch at the current step in this
sequence;
#X text 31 338 seq-gate-s#: The gate at the current step in this sequence
;
#X text 11 318 Outlets:;
#X text 11 39 Inlets:;
#X text 31 89 seq-gate-r#: Input gates from the grid buttons. Only
gets new values when the corresponding # is the sound being edited
;
#X obj 566 117 tbc-utils/step-seq;
#X obj 622 48 r \$0-get-seq-0-r;
#X obj 601 201 s \$0-packed-gate-seq;
#X obj 671 161 s \$0-packed-pitch-seq;
#X obj 916 8 r \$0-current-step;
#X obj 951 201 s \$0-packed-gate-seq;
#X obj 1021 161 s \$0-packed-pitch-seq;
#X obj 944 28 r \$0-seq-gate-1-r;
#X obj 972 48 r \$0-get-seq-1-r;
#X obj 1000 68 r \$0-seq-pitch-1-r;
#X obj 986 181 s \$0-seq-pitch-1-s;
#X obj 916 221 s \$0-seq-gate-1-s;
#X obj 1266 8 r \$0-current-step;
#X obj 1301 201 s \$0-packed-gate-seq;
#X obj 1371 161 s \$0-packed-pitch-seq;
#X obj 1294 28 r \$0-seq-gate-2-r;
#X obj 1322 48 r \$0-get-seq-2-r;
#X obj 1350 68 r \$0-seq-pitch-2-r;
#X obj 1336 181 s \$0-seq-pitch-2-s;
#X obj 1266 221 s \$0-seq-gate-2-s;
#X obj 1616 8 r \$0-current-step;
#X obj 1651 201 s \$0-packed-gate-seq;
#X obj 1721 161 s \$0-packed-pitch-seq;
#X obj 1644 28 r \$0-seq-gate-3-r;
#X obj 1672 48 r \$0-get-seq-3-r;
#X obj 1700 68 r \$0-seq-pitch-3-r;
#X obj 1686 181 s \$0-seq-pitch-3-s;
#X obj 1616 221 s \$0-seq-gate-3-s;
#X obj 566 268 r \$0-current-step;
#X obj 601 461 s \$0-packed-gate-seq;
#X obj 671 421 s \$0-packed-pitch-seq;
#X obj 916 268 r \$0-current-step;
#X obj 951 461 s \$0-packed-gate-seq;
#X obj 1021 421 s \$0-packed-pitch-seq;
#X obj 1266 268 r \$0-current-step;
#X obj 1301 461 s \$0-packed-gate-seq;
#X obj 1371 421 s \$0-packed-pitch-seq;
#X obj 1616 268 r \$0-current-step;
#X obj 1651 461 s \$0-packed-gate-seq;
#X obj 1721 421 s \$0-packed-pitch-seq;
#X obj 566 528 r \$0-current-step;
#X obj 601 721 s \$0-packed-gate-seq;
#X obj 671 681 s \$0-packed-pitch-seq;
#X obj 916 528 r \$0-current-step;
#X obj 951 721 s \$0-packed-gate-seq;
#X obj 1021 681 s \$0-packed-pitch-seq;
#X obj 1266 528 r \$0-current-step;
#X obj 1301 721 s \$0-packed-gate-seq;
#X obj 1371 681 s \$0-packed-pitch-seq;
#X obj 1616 528 r \$0-current-step;
#X obj 1651 721 s \$0-packed-gate-seq;
#X obj 1721 681 s \$0-packed-pitch-seq;
#X obj 566 788 r \$0-current-step;
#X obj 601 981 s \$0-packed-gate-seq;
#X obj 671 941 s \$0-packed-pitch-seq;
#X obj 916 788 r \$0-current-step;
#X obj 951 981 s \$0-packed-gate-seq;
#X obj 1021 941 s \$0-packed-pitch-seq;
#X obj 1266 788 r \$0-current-step;
#X obj 1301 981 s \$0-packed-gate-seq;
#X obj 1371 941 s \$0-packed-pitch-seq;
#X obj 1616 788 r \$0-current-step;
#X obj 1651 981 s \$0-packed-gate-seq;
#X obj 1721 941 s \$0-packed-pitch-seq;
#X obj 594 288 r \$0-seq-gate-4-r;
#X obj 622 308 r \$0-get-seq-4-r;
#X obj 650 328 r \$0-seq-pitch-4-r;
#X obj 636 441 s \$0-seq-pitch-4-s;
#X obj 566 481 s \$0-seq-gate-4-s;
#X obj 944 288 r \$0-seq-gate-5-r;
#X obj 972 308 r \$0-get-seq-5-r;
#X obj 1000 328 r \$0-seq-pitch-5-r;
#X obj 986 441 s \$0-seq-pitch-5-s;
#X obj 916 481 s \$0-seq-gate-5-s;
#X obj 1294 288 r \$0-seq-gate-6-r;
#X obj 1322 308 r \$0-get-seq-6-r;
#X obj 1350 328 r \$0-seq-pitch-6-r;
#X obj 1336 441 s \$0-seq-pitch-6-s;
#X obj 1266 481 s \$0-seq-gate-6-s;
#X obj 1644 288 r \$0-seq-gate-7-r;
#X obj 1672 308 r \$0-get-seq-7-r;
#X obj 1700 328 r \$0-seq-pitch-7-r;
#X obj 1686 441 s \$0-seq-pitch-7-s;
#X obj 1616 481 s \$0-seq-gate-7-s;
#X obj 594 548 r \$0-seq-gate-8-r;
#X obj 622 568 r \$0-get-seq-8-r;
#X obj 650 588 r \$0-seq-pitch-8-r;
#X obj 636 701 s \$0-seq-pitch-8-s;
#X obj 566 741 s \$0-seq-gate-8-s;
#X obj 944 548 r \$0-seq-gate-9-r;
#X obj 972 568 r \$0-get-seq-9-r;
#X obj 1000 588 r \$0-seq-pitch-9-r;
#X obj 986 701 s \$0-seq-pitch-9-s;
#X obj 916 741 s \$0-seq-gate-9-s;
#X obj 1294 548 r \$0-seq-gate-10-r;
#X obj 1322 568 r \$0-get-seq-10-r;
#X obj 1350 588 r \$0-seq-pitch-10-r;
#X obj 1336 701 s \$0-seq-pitch-10-s;
#X obj 1266 741 s \$0-seq-gate-10-s;
#X obj 1644 548 r \$0-seq-gate-11-r;
#X obj 1672 568 r \$0-get-seq-11-r;
#X obj 1700 588 r \$0-seq-pitch-11-r;
#X obj 1686 701 s \$0-seq-pitch-11-s;
#X obj 1616 741 s \$0-seq-gate-11-s;
#X obj 594 808 r \$0-seq-gate-12-r;
#X obj 622 828 r \$0-get-seq-12-r;
#X obj 650 848 r \$0-seq-pitch-12-r;
#X obj 566 1001 s \$0-seq-gate-12-s;
#X obj 636 961 s \$0-seq-pitch-12-s;
#X obj 944 808 r \$0-seq-gate-13-r;
#X obj 972 828 r \$0-get-seq-13-r;
#X obj 1000 848 r \$0-seq-pitch-13-r;
#X obj 986 961 s \$0-seq-pitch-13-s;
#X obj 916 1001 s \$0-seq-gate-13-s;
#X obj 1294 808 r \$0-seq-gate-14-r;
#X obj 1322 828 r \$0-get-seq-14-r;
#X obj 1350 848 r \$0-seq-pitch-14-r;
#X obj 1336 961 s \$0-seq-pitch-14-s;
#X obj 1266 1001 s \$0-seq-gate-14-s;
#X obj 1644 808 r \$0-seq-gate-15-r;
#X obj 1672 828 r \$0-get-seq-15-r;
#X obj 1700 848 r \$0-seq-pitch-15-r;
#X obj 1686 961 s \$0-seq-pitch-15-s;
#X obj 1616 1001 s \$0-seq-gate-15-s;
#X text 31 459 packed-pitch-seq: Like load-gate-seq \, but loads the
pitch data to the knobs in the gui;
#X text 31 369 packed-gate-seq: The packed gate data that is sent to
the load-seq-to-grid subpatch when this sequence is loaded to the gui
;
#X obj 1997 97 r \$0-clock-time-ms;
#X obj 1997 357 t f;
#X obj 1997 617 t f;
#X obj 1997 877 t f;
#X obj 678 88 r \$0-seq-retrig-0-r;
#X obj 707 141 s \$0-packed-retrig-seq;
#X obj 916 117 tbc-utils/step-seq;
#X obj 1266 117 tbc-utils/step-seq;
#X obj 1616 117 tbc-utils/step-seq;
#X obj 566 377 tbc-utils/step-seq;
#X obj 916 377 tbc-utils/step-seq;
#X obj 1266 377 tbc-utils/step-seq;
#X obj 1616 377 tbc-utils/step-seq;
#X obj 566 637 tbc-utils/step-seq;
#X obj 916 637 tbc-utils/step-seq;
#X obj 1266 637 tbc-utils/step-seq;
#X obj 1616 637 tbc-utils/step-seq;
#X obj 566 897 tbc-utils/step-seq;
#X obj 916 897 tbc-utils/step-seq;
#X obj 1266 897 tbc-utils/step-seq;
#X obj 1616 897 tbc-utils/step-seq;
#X obj 1057 141 s \$0-packed-retrig-seq;
#X obj 1028 88 r \$0-seq-retrig-1-r;
#X obj 1378 88 r \$0-seq-retrig-2-r;
#X obj 1728 88 r \$0-seq-retrig-3-r;
#X obj 1407 141 s \$0-packed-retrig-seq;
#X obj 1757 141 s \$0-packed-retrig-seq;
#X obj 707 401 s \$0-packed-retrig-seq;
#X obj 1057 401 s \$0-packed-retrig-seq;
#X obj 1407 401 s \$0-packed-retrig-seq;
#X obj 1757 401 s \$0-packed-retrig-seq;
#X obj 707 661 s \$0-packed-retrig-seq;
#X obj 1057 661 s \$0-packed-retrig-seq;
#X obj 1407 661 s \$0-packed-retrig-seq;
#X obj 1757 661 s \$0-packed-retrig-seq;
#X obj 1757 921 s \$0-packed-retrig-seq;
#X obj 1407 921 s \$0-packed-retrig-seq;
#X obj 1057 921 s \$0-packed-retrig-seq;
#X obj 707 921 s \$0-packed-retrig-seq;
#X obj 678 348 r \$0-seq-retrig-4-r;
#X obj 1028 348 r \$0-seq-retrig-5-r;
#X obj 1378 348 r \$0-seq-retrig-6-r;
#X obj 1728 348 r \$0-seq-retrig-7-r;
#X obj 678 608 r \$0-seq-retrig-8-r;
#X obj 1028 608 r \$0-seq-retrig-9-r;
#X obj 1378 608 r \$0-seq-retrig-10-r;
#X obj 1728 608 r \$0-seq-retrig-11-r;
#X obj 678 868 r \$0-seq-retrig-12-r;
#X obj 1028 868 r \$0-seq-retrig-13-r;
#X obj 1378 868 r \$0-seq-retrig-14-r;
#X obj 1728 868 r \$0-seq-retrig-15-r;
#X text 31 248 seq-retrig-r#: Like seq-gate-r# \, but gets the retrig
data from the knobs if the bpm button is on.;
#X text 31 509 packed-pitch-seq: Like load-gate-seq \, but loads the
retrig data to the knobs if the bpm button is on;
#X connect 0 0 13 0;
#X connect 3 0 13 1;
#X connect 4 0 13 3;
#X connect 13 0 2 0;
#X connect 13 1 15 0;
#X connect 13 2 1 0;
#X connect 13 3 16 0;
#X connect 13 4 144 0;
#X connect 14 0 13 2;
#X connect 17 0 145 0;
#X connect 20 0 145 1;
#X connect 21 0 145 2;
#X connect 22 0 145 3;
#X connect 25 0 146 0;
#X connect 28 0 146 1;
#X connect 29 0 146 2;
#X connect 30 0 146 3;
#X connect 33 0 147 0;
#X connect 36 0 147 1;
#X connect 37 0 147 2;
#X connect 38 0 147 3;
#X connect 41 0 148 0;
#X connect 44 0 149 0;
#X connect 47 0 150 0;
#X connect 50 0 151 0;
#X connect 53 0 152 0;
#X connect 56 0 153 0;
#X connect 59 0 154 0;
#X connect 62 0 155 0;
#X connect 65 0 156 0;
#X connect 68 0 157 0;
#X connect 71 0 158 0;
#X connect 74 0 159 0;
#X connect 77 0 148 1;
#X connect 78 0 148 2;
#X connect 79 0 148 3;
#X connect 82 0 149 1;
#X connect 83 0 149 2;
#X connect 84 0 149 3;
#X connect 87 0 150 1;
#X connect 88 0 150 2;
#X connect 89 0 150 3;
#X connect 92 0 151 1;
#X connect 93 0 151 2;
#X connect 94 0 151 3;
#X connect 97 0 152 1;
#X connect 98 0 152 2;
#X connect 99 0 152 3;
#X connect 102 0 153 1;
#X connect 103 0 153 2;
#X connect 104 0 153 3;
#X connect 107 0 154 1;
#X connect 108 0 154 2;
#X connect 109 0 154 3;
#X connect 112 0 155 1;
#X connect 113 0 155 2;
#X connect 114 0 155 3;
#X connect 117 0 156 1;
#X connect 118 0 156 2;
#X connect 119 0 156 3;
#X connect 122 0 157 1;
#X connect 123 0 157 2;
#X connect 124 0 157 3;
#X connect 127 0 158 1;
#X connect 128 0 158 2;
#X connect 129 0 158 3;
#X connect 132 0 159 1;
#X connect 133 0 159 2;
#X connect 134 0 159 3;
#X connect 139 0 140 0;
#X connect 139 0 13 5;
#X connect 139 0 145 5;
#X connect 139 0 146 5;
#X connect 139 0 147 5;
#X connect 140 0 141 0;
#X connect 140 0 151 5;
#X connect 140 0 150 5;
#X connect 140 0 149 5;
#X connect 140 0 148 5;
#X connect 141 0 142 0;
#X connect 141 0 155 5;
#X connect 141 0 154 5;
#X connect 141 0 153 5;
#X connect 141 0 152 5;
#X connect 142 0 159 5;
#X connect 142 0 158 5;
#X connect 142 0 157 5;
#X connect 142 0 156 5;
#X connect 143 0 13 4;
#X connect 145 0 24 0;
#X connect 145 1 18 0;
#X connect 145 2 23 0;
#X connect 145 3 19 0;
#X connect 145 4 160 0;
#X connect 146 0 32 0;
#X connect 146 1 26 0;
#X connect 146 2 31 0;
#X connect 146 3 27 0;
#X connect 146 4 164 0;
#X connect 147 0 40 0;
#X connect 147 1 34 0;
#X connect 147 2 39 0;
#X connect 147 3 35 0;
#X connect 147 4 165 0;
#X connect 148 0 81 0;
#X connect 148 1 42 0;
#X connect 148 2 80 0;
#X connect 148 3 43 0;
#X connect 148 4 166 0;
#X connect 149 0 86 0;
#X connect 149 1 45 0;
#X connect 149 2 85 0;
#X connect 149 3 46 0;
#X connect 149 4 167 0;
#X connect 150 0 91 0;
#X connect 150 1 48 0;
#X connect 150 2 90 0;
#X connect 150 3 49 0;
#X connect 150 4 168 0;
#X connect 151 0 96 0;
#X connect 151 1 51 0;
#X connect 151 2 95 0;
#X connect 151 3 52 0;
#X connect 151 4 169 0;
#X connect 152 0 101 0;
#X connect 152 1 54 0;
#X connect 152 2 100 0;
#X connect 152 3 55 0;
#X connect 152 4 170 0;
#X connect 153 0 106 0;
#X connect 153 1 57 0;
#X connect 153 2 105 0;
#X connect 153 3 58 0;
#X connect 153 4 171 0;
#X connect 154 0 111 0;
#X connect 154 1 60 0;
#X connect 154 2 110 0;
#X connect 154 3 61 0;
#X connect 154 4 172 0;
#X connect 155 0 116 0;
#X connect 155 1 63 0;
#X connect 155 2 115 0;
#X connect 155 3 64 0;
#X connect 155 4 173 0;
#X connect 156 0 120 0;
#X connect 156 1 66 0;
#X connect 156 2 121 0;
#X connect 156 3 67 0;
#X connect 156 4 177 0;
#X connect 157 0 126 0;
#X connect 157 1 69 0;
#X connect 157 2 125 0;
#X connect 157 3 70 0;
#X connect 157 4 176 0;
#X connect 158 0 131 0;
#X connect 158 1 72 0;
#X connect 158 2 130 0;
#X connect 158 3 73 0;
#X connect 158 4 175 0;
#X connect 159 0 136 0;
#X connect 159 1 75 0;
#X connect 159 2 135 0;
#X connect 159 3 76 0;
#X connect 159 4 174 0;
#X connect 161 0 145 4;
#X connect 162 0 146 4;
#X connect 163 0 147 4;
#X connect 178 0 148 4;
#X connect 179 0 149 4;
#X connect 180 0 150 4;
#X connect 181 0 151 4;
#X connect 182 0 152 4;
#X connect 183 0 153 4;
#X connect 184 0 154 4;
#X connect 185 0 155 4;
#X connect 186 0 156 4;
#X connect 187 0 157 4;
#X connect 188 0 158 4;
#X connect 189 0 159 4;
#X restore 81 84 pd all-16-sequencers;
#X restore 525 363 pd sequencer;
#X floatatom 761 137 5 10 1000 1 bpm - -;
#N canvas 192 99 872 678 key-control 0;
#X floatatom 66 311 5 0 0 0 - - -;
#X obj 66 119 key;
#X obj 247 120 keyup;
#X floatatom 247 145 5 0 0 0 - - -;
#X obj 66 144 spigot;
#X obj 97 558 s \$0-play-btn-r;
#X obj 482 76 keyname;
#X floatatom 482 101 5 0 0 0 - - -;
#X symbolatom 535 101 10 0 0 0 - - -;
#X obj 598 450 s \$0-sound-btn-r;
#X obj 598 168 spigot;
#X symbolatom 598 269 10 0 0 0 - - -;
#X obj 598 223 spigot;
#X obj 564 250 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 535 123 t b a;
#X msg 535 154 0;
#X obj 482 187 sel 0;
#X msg 482 212 1;
#X text 650 291 Handle function keys;
#X obj 627 430 s \$0-pattern-btn-r;
#X obj 656 410 s \$0-bpm-btn-r;
#X text 594 48 Special keys;
#X text 135 49 Normal keys;
#X text 120 310 Send specific keys to specific buttons;
#N canvas 65 81 648 574 grid-buttons 0;
#X obj 21 518 s \$0-grid-btn-0-r;
#X obj 51 498 s \$0-grid-btn-1-r;
#X obj 82 478 s \$0-grid-btn-2-r;
#X obj 113 458 s \$0-grid-btn-3-r;
#X obj 144 438 s \$0-grid-btn-4-r;
#X obj 175 418 s \$0-grid-btn-5-r;
#X obj 205 398 s \$0-grid-btn-6-r;
#X obj 236 378 s \$0-grid-btn-7-r;
#X obj 267 358 s \$0-grid-btn-8-r;
#X obj 298 338 s \$0-grid-btn-9-r;
#X obj 329 318 s \$0-grid-btn-10-r;
#X obj 359 298 s \$0-grid-btn-11-r;
#X obj 390 278 s \$0-grid-btn-12-r;
#X obj 421 258 s \$0-grid-btn-13-r;
#X obj 452 238 s \$0-grid-btn-14-r;
#X obj 483 218 s \$0-grid-btn-15-r;
#X obj 21 175 sel 49 50 51 52 113 119 101 114 97 115 100 102 122 120
99 118, f 62;
#X obj 21 138 inlet;
#X text 108 6 This maps the keys on a computer keyboard to the grid
buttons.;
#X text 139 46 1 2 3 4;
#X text 139 66 q w e r;
#X text 139 86 a s d f;
#X text 139 106 z x c v;
#X connect 16 0 0 0;
#X connect 16 1 1 0;
#X connect 16 2 2 0;
#X connect 16 3 3 0;
#X connect 16 4 4 0;
#X connect 16 5 5 0;
#X connect 16 6 6 0;
#X connect 16 7 7 0;
#X connect 16 8 8 0;
#X connect 16 9 9 0;
#X connect 16 10 10 0;
#X connect 16 11 11 0;
#X connect 16 12 12 0;
#X connect 16 13 13 0;
#X connect 16 14 14 0;
#X connect 16 15 15 0;
#X connect 17 0 16 0;
#X restore 250 369 pd grid-buttons;
#X obj 598 359 sel F1 F2 F3 F4;
#X obj 685 390 s \$0-samples-btn-r;
#X obj 160 518 s \$0-fx-btn-r;
#X obj 191 498 s \$0-funct-btn-r;
#X obj 66 369 sel 32 103 98 116 53;
#X obj 128 538 s \$0-write-btn-r;
#X obj 37 150 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X floatatom 23 202 5 0 0 0 - - -;
#X text 224 556 g to play;
#X obj 66 592 bng 15 250 50 0 empty empty Space 17 7 0 10 -262144 -1
-1;
#X text 66 611 ^ Connect this bang to [s \$0-play-btn-r] to allow space
to play;
#N canvas 167 176 1102 803 handle-multiple-keys 0;
#X obj 398 246 f 0;
#X obj 419 216 + 1;
#X floatatom 398 283 5 0 0 1 Index - -;
#X obj 398 181 bng 15 250 50 0 empty empty +1 17 7 0 10 -262144 -1
-1;
#X obj 261 41 inlet key;
#X obj 617 41 inlet keyup;
#X msg 377 213 0, f 1;
#X floatatom 365 153 5 0 0 0 - - -;
#X floatatom 290 727 5 0 0 0 - - -;
#X obj 290 754 outlet;
#X floatatom 310 505 5 0 0 0 - - -;
#X floatatom 290 455 5 0 0 0 - - -;
#X floatatom 350 605 5 0 0 0 - - -;
#X floatatom 330 555 5 0 0 0 - - -;
#X obj 290 317 pack f f;
#X msg 977 216 reset bang;
#X obj 314 152 t b f;
#X obj 418 144 t b;
#X obj 290 430 tbc-utils/computer-key-handler;
#X text 13 106 0 was causing problems \, so ignore it;
#X floatatom 370 655 5 0 0 0 - - -;
#X floatatom 680 495 5 0 0 0 - - -;
#X floatatom 660 445 5 0 0 0 - - -;
#X floatatom 720 595 5 0 0 0 - - -;
#X floatatom 700 545 5 0 0 0 - - -;
#X floatatom 740 645 5 0 0 0 - - -;
#X obj 290 348 route 0 1 2 3 4;
#X obj 660 368 route 5 6 7 8 9;
#X obj 636 669 t f;
#X obj 617 323 t a;
#X obj 977 357 t a;
#X text 876 189 Reset if they get stuck;
#X obj 770 54 t b;
#X obj 310 480 tbc-utils/computer-key-handler;
#X obj 330 530 tbc-utils/computer-key-handler;
#X obj 350 580 tbc-utils/computer-key-handler;
#X obj 370 630 tbc-utils/computer-key-handler;
#X obj 680 470 tbc-utils/computer-key-handler;
#X obj 660 420 tbc-utils/computer-key-handler;
#X obj 700 520 tbc-utils/computer-key-handler;
#X obj 720 570 tbc-utils/computer-key-handler;
#X obj 740 620 tbc-utils/computer-key-handler;
#X obj 261 80 route 0;
#X text 25 5 Handle multiple key presses (up to 10);
#X connect 0 0 1 0;
#X connect 0 0 2 0;
#X connect 1 0 0 1;
#X connect 2 0 14 0;
#X connect 3 0 0 0;
#X connect 4 0 42 0;
#X connect 5 0 30 0;
#X connect 5 0 29 0;
#X connect 6 0 0 0;
#X connect 8 0 9 0;
#X connect 10 0 8 0;
#X connect 11 0 8 0;
#X connect 12 0 8 0;
#X connect 13 0 8 0;
#X connect 14 0 26 0;
#X connect 15 0 29 0;
#X connect 15 0 30 0;
#X connect 16 0 6 0;
#X connect 16 1 7 0;
#X connect 16 1 14 1;
#X connect 17 0 3 0;
#X connect 18 0 11 0;
#X connect 18 1 17 0;
#X connect 20 0 8 0;
#X connect 21 0 28 0;
#X connect 22 0 28 0;
#X connect 23 0 28 0;
#X connect 24 0 28 0;
#X connect 25 0 28 0;
#X connect 26 0 18 0;
#X connect 26 1 33 0;
#X connect 26 2 34 0;
#X connect 26 3 35 0;
#X connect 26 4 36 0;
#X connect 26 5 27 0;
#X connect 27 0 38 0;
#X connect 27 1 37 0;
#X connect 27 2 39 0;
#X connect 27 3 40 0;
#X connect 27 4 41 0;
#X connect 28 0 8 0;
#X connect 29 0 18 1;
#X connect 29 0 33 1;
#X connect 29 0 34 1;
#X connect 29 0 35 1;
#X connect 29 0 36 1;
#X connect 30 0 37 1;
#X connect 30 0 38 1;
#X connect 30 0 39 1;
#X connect 30 0 40 1;
#X connect 30 0 41 1;
#X connect 32 0 17 0;
#X connect 33 0 10 0;
#X connect 33 1 17 0;
#X connect 34 0 13 0;
#X connect 34 1 17 0;
#X connect 35 0 12 0;
#X connect 35 1 17 0;
#X connect 36 0 20 0;
#X connect 36 1 17 0;
#X connect 37 0 21 0;
#X connect 37 1 32 0;
#X connect 38 0 22 0;
#X connect 38 1 32 0;
#X connect 39 0 24 0;
#X connect 39 1 32 0;
#X connect 40 0 23 0;
#X connect 40 1 32 0;
#X connect 41 0 25 0;
#X connect 41 1 32 0;
#X connect 42 1 16 0;
#X restore 66 234 pd handle-multiple-keys;
#X obj 643 95 r \$0-key-control-btn-0-s;
#X obj 111 71 r \$0-key-control-btn-0-s;
#X text 42 11 Handle computer keyboard control.;
#X connect 0 0 24 0;
#X connect 0 0 29 0;
#X connect 1 0 4 0;
#X connect 1 0 31 0;
#X connect 1 0 32 0;
#X connect 2 0 3 0;
#X connect 3 0 36 1;
#X connect 4 0 36 0;
#X connect 6 0 7 0;
#X connect 6 1 8 0;
#X connect 7 0 16 0;
#X connect 8 0 14 0;
#X connect 10 0 12 0;
#X connect 11 0 25 0;
#X connect 12 0 13 0;
#X connect 12 0 11 0;
#X connect 14 0 15 0;
#X connect 14 1 10 0;
#X connect 15 0 12 1;
#X connect 16 0 17 0;
#X connect 17 0 12 1;
#X connect 25 0 9 0;
#X connect 25 1 19 0;
#X connect 25 2 20 0;
#X connect 25 3 26 0;
#X connect 29 0 34 0;
#X connect 29 1 5 0;
#X connect 29 2 30 0;
#X connect 29 3 27 0;
#X connect 29 4 28 0;
#X connect 36 0 0 0;
#X connect 37 0 10 1;
#X connect 38 0 4 1;
#X restore 871 266 pd key-control;
#N canvas 66 501 368 175 flash-grid-button 0;
#X obj 60 81 s \$0-current-grid-button;
#X obj 23 116 s \$0-flash-current-grid-button;
#X msg 23 81 1;
#X obj 23 25 r \$0-flash-grid-button;
#X obj 23 55 t b f;
#X connect 2 0 1 0;
#X connect 3 0 4 0;
#X connect 4 0 2 0;
#X connect 4 1 0 0;
#X restore 535 439 pd flash-grid-button;
#N canvas 9 101 1241 644 pack-grid-knobs 0;
#X obj 58 421 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 1
1;
#X obj 58 336 r \$0-bang-on-load-1;
#X msg 58 395 1;
#X obj 163 538 pack f f f f f f f f f f f f f f f f;
#X obj 163 602 s \$0-packed-grid-knobs;
#X obj 298 66 r \$0-grid-knob-0-s;
#X obj 308 86 r \$0-grid-knob-1-s;
#X obj 318 106 r \$0-grid-knob-2-s;
#X obj 328 126 r \$0-grid-knob-3-s;
#X obj 338 146 r \$0-grid-knob-4-s;
#X obj 348 166 r \$0-grid-knob-5-s;
#X obj 358 186 r \$0-grid-knob-6-s;
#X obj 368 206 r \$0-grid-knob-7-s;
#X obj 378 226 r \$0-grid-knob-8-s;
#X obj 388 246 r \$0-grid-knob-9-s;
#X obj 398 266 r \$0-grid-knob-10-s;
#X obj 408 286 r \$0-grid-knob-11-s;
#X obj 418 306 r \$0-grid-knob-12-s;
#X obj 428 326 r \$0-grid-knob-13-s;
#X obj 438 346 r \$0-grid-knob-14-s;
#X obj 448 366 r \$0-grid-knob-15-s;
#X text 37 21 Pack all of the grid knobs for easy use;
#X obj 163 507 f;
#X obj 649 86 change;
#X obj 659 106 change;
#X obj 669 126 change;
#X obj 679 146 change;
#X obj 689 166 change;
#X obj 699 186 change;
#X obj 709 206 change;
#X obj 719 226 change;
#X obj 729 246 change;
#X obj 739 266 change;
#X obj 749 286 change;
#X obj 759 306 change;
#X obj 769 326 change;
#X obj 779 346 change;
#X obj 789 366 change;
#X obj 799 386 change;
#X obj 649 418 t b b b;
#X obj 655 498 del 25;
#X obj 655 550 spigot;
#X msg 781 468 0;
#X msg 709 498 1;
#X obj 709 468 del 150;
#X obj 58 446 metro 20;
#X text 779 512 Don't save every time the value changes \, wait until
the value has stopped changing \, then save.;
#X obj 655 575 s \$0-update-pattern;
#X connect 0 0 45 0;
#X connect 1 0 2 0;
#X connect 2 0 0 0;
#X connect 3 0 4 0;
#X connect 5 0 22 1;
#X connect 5 0 23 0;
#X connect 6 0 3 1;
#X connect 6 0 24 0;
#X connect 7 0 3 2;
#X connect 7 0 25 0;
#X connect 8 0 3 3;
#X connect 8 0 26 0;
#X connect 9 0 3 4;
#X connect 9 0 27 0;
#X connect 10 0 3 5;
#X connect 10 0 28 0;
#X connect 11 0 3 6;
#X connect 11 0 29 0;
#X connect 12 0 3 7;
#X connect 12 0 30 0;
#X connect 13 0 3 8;
#X connect 13 0 31 0;
#X connect 14 0 3 9;
#X connect 14 0 32 0;
#X connect 15 0 3 10;
#X connect 15 0 33 0;
#X connect 16 0 3 11;
#X connect 16 0 34 0;
#X connect 17 0 3 12;
#X connect 17 0 35 0;
#X connect 18 0 3 13;
#X connect 18 0 36 0;
#X connect 19 0 3 14;
#X connect 19 0 37 0;
#X connect 20 0 3 15;
#X connect 20 0 38 0;
#X connect 22 0 3 0;
#X connect 23 0 39 0;
#X connect 24 0 39 0;
#X connect 25 0 39 0;
#X connect 26 0 39 0;
#X connect 27 0 39 0;
#X connect 28 0 39 0;
#X connect 29 0 39 0;
#X connect 30 0 39 0;
#X connect 31 0 39 0;
#X connect 32 0 39 0;
#X connect 33 0 39 0;
#X connect 34 0 39 0;
#X connect 35 0 39 0;
#X connect 36 0 39 0;
#X connect 37 0 39 0;
#X connect 38 0 39 0;
#X connect 39 1 44 0;
#X connect 39 2 42 0;
#X connect 40 0 41 0;
#X connect 41 0 47 0;
#X connect 42 0 41 1;
#X connect 43 0 41 1;
#X connect 44 0 43 0;
#X connect 44 0 40 0;
#X connect 45 0 22 0;
#X restore 525 325 pd pack-grid-knobs;
#N canvas 393 210 543 224 init-everything 0;
#X text 160 173 Color all of the GUI elements on startup;
#N canvas 207 70 1177 899 apply-colors 0;
#X obj 224 118 t b b b;
#X msg 162 604 color \$1 \$2 \$3;
#X obj 162 578 pack 0 0 0;
#X obj 162 629 s \$0-cnv-grid;
#X msg 608 492 color \$1 \$2 \$3;
#X obj 608 436 pack 0 0 0;
#X obj 648 773 s \$0-bpm-btn-r;
#X obj 658 753 s \$0-pattern-btn-r;
#X obj 668 733 s \$0-sound-btn-r;
#X obj 638 793 s \$0-funct-btn-r;
#X obj 628 813 s \$0-fx-btn-r;
#X obj 618 833 s \$0-play-btn-r;
#X obj 608 853 s \$0-write-btn-r;
#X obj 758 566 s \$0-knob-1-r;
#X obj 748 586 s \$0-knob-0-r;
#X msg 748 506 color \$1 \$1 \$1;
#X obj 708 653 s \$0-save-btn-r;
#X obj 718 633 s \$0-samples-btn-r;
#X obj 388 594 pack 0 0 0;
#X text 158 659 Background canvases;
#X obj 359 621 list;
#X text 864 574 Non-grid knobs are all black at start;
#X obj 388 564 f;
#X obj 388 527 t b f;
#X obj 909 508 s \$0-cnv-bottom;
#X obj 946 458 s \$0-cnv-top;
#X obj 142 207 list;
#X obj 262 207 list;
#X obj 362 207 list;
#X obj 345 1 r \$0-bg-color;
#X obj 355 51 r \$0-fg-color;
#X msg 909 483 color \$2 \$1 \$1;
#X msg 946 434 color \$1 \$1 \$2;
#X obj 369 736 s \$0-lcd-2-r;
#X obj 359 756 s \$0-lcd-3-r;
#X msg 359 652 color \$1 \$2 \$2;
#X text 349 806 LCD canvases;
#X obj 389 696 s \$0-lcd-0-r;
#X obj 379 716 s \$0-lcd-1-r;
#X obj 217 756 s \$0-lcd-bpm-r;
#X obj 217 776 s \$0-lcd-swing-r;
#X text 527 253 Apply the colors to all of the GUI elements on startup
;
#X obj 574 365 s \$0-modifier-colors-normal;
#X obj 607 385 s \$0-modifier-colors-flashing;
#X obj 750 415 pack f f f;
#X obj 224 52 bng 15 250 50 0 empty empty Recolor 17 7 0 10 -262144
-1 -1;
#X obj 233 433 pack f f f;
#X obj 220 834 s \$0-waveform-canvas-colors;
#X obj 233 517 s \$0-colors-packed;
#X obj 331 433 r \$0-get-colors-packed;
#X obj 331 458 t b;
#X obj 310 488 list;
#X obj 688 693 s \$0-midi-control-btn-r;
#X obj 678 713 s \$0-key-control-btn-r;
#X obj 20 235 tbc-utils/color_helper_for_GUIs;
#X obj 224 82 t b;
#X obj 375 101 r \$0-hi-color;
#X obj 698 673 s \$0-ext-step-btn-r;
#X obj 162 538 t f b;
#X obj 375 126 t a a;
#X obj 355 76 t a a;
#X obj 345 26 t a a;
#X obj 233 458 t a a;
#X connect 0 0 26 0;
#X connect 0 1 27 0;
#X connect 0 2 28 0;
#X connect 1 0 3 0;
#X connect 2 0 1 0;
#X connect 4 0 8 0;
#X connect 4 0 7 0;
#X connect 4 0 6 0;
#X connect 4 0 9 0;
#X connect 4 0 10 0;
#X connect 4 0 11 0;
#X connect 4 0 12 0;
#X connect 4 0 16 0;
#X connect 4 0 17 0;
#X connect 4 0 52 0;
#X connect 4 0 53 0;
#X connect 4 0 57 0;
#X connect 5 0 4 0;
#X connect 5 0 15 0;
#X connect 5 0 31 0;
#X connect 5 0 32 0;
#X connect 5 0 42 0;
#X connect 15 0 14 0;
#X connect 15 0 13 0;
#X connect 18 0 20 1;
#X connect 20 0 35 0;
#X connect 22 0 18 0;
#X connect 23 0 22 0;
#X connect 23 1 18 2;
#X connect 23 1 18 1;
#X connect 26 0 54 1;
#X connect 27 0 54 2;
#X connect 28 0 54 3;
#X connect 29 0 61 0;
#X connect 30 0 60 0;
#X connect 31 0 24 0;
#X connect 32 0 25 0;
#X connect 35 0 33 0;
#X connect 35 0 34 0;
#X connect 35 0 38 0;
#X connect 35 0 37 0;
#X connect 35 0 39 0;
#X connect 35 0 40 0;
#X connect 35 0 47 0;
#X connect 44 0 43 0;
#X connect 45 0 55 0;
#X connect 46 0 62 0;
#X connect 49 0 50 0;
#X connect 50 0 51 0;
#X connect 51 0 48 0;
#X connect 54 0 22 1;
#X connect 54 0 5 0;
#X connect 54 0 5 2;
#X connect 54 0 44 0;
#X connect 54 0 46 0;
#X connect 54 1 5 1;
#X connect 54 1 44 1;
#X connect 54 1 46 1;
#X connect 54 1 58 0;
#X connect 54 2 23 0;
#X connect 54 2 44 2;
#X connect 54 2 46 2;
#X connect 55 0 0 0;
#X connect 56 0 59 0;
#X connect 58 0 2 0;
#X connect 58 1 20 0;
#X connect 59 0 55 0;
#X connect 59 1 28 1;
#X connect 60 0 55 0;
#X connect 60 1 27 1;
#X connect 61 0 55 0;
#X connect 61 1 26 1;
#X connect 62 0 48 0;
#X connect 62 1 51 1;
#X restore 22 172 pd apply-colors;
#N canvas 381 159 567 611 get-colors-for-structs 0;
#X obj 278 214 list split 1;
#X obj 252 353 list;
#X obj 276 301 list;
#X obj 281 326 t a a;
#X obj 324 251 t a;
#X obj 252 182 t b a b;
#N canvas 0 81 542 227 convert 0;
#X obj 25 97 inlet;
#X obj 25 178 outlet;
#X obj 25 122 / 28;
#X obj 25 147 int;
#X text 29 15 Convert R G B values 0 - 255 to the range of 9 - 0;
#X text 28 44 Structs can only be 0 - 9 \, while other objects can
use 0 - 255;
#X text 95 121 255 / 9 ~= 28;
#X text 96 148 Use [int] to round down;
#X connect 0 0 2 0;
#X connect 2 0 3 0;
#X connect 3 0 1 0;
#X restore 278 273 pd convert;
#X obj 252 403 f;
#X obj 117 442 pack s f;
#X msg 117 182 hi;
#X obj 117 213 symbol;
#X text 39 21 Split apart the colors into R G B values \, then convert
each from 0 - 255 to 0 - 9 \, finally combine the R G B values together
again to form a single int such as 950;
#X text 249 491 Pack the two colors into a list;
#X obj 117 467 list trim;
#X msg 203 182 bg;
#X msg 160 182 fg;
#X obj 117 491 route hi fg bg;
#X obj 246 104 r \$0-fg-color;
#X obj 426 103 r \$0-bg-color;
#X obj 117 566 s \$0-hi-color-structs;
#X obj 153 546 s \$0-fg-color-structs;
#X obj 189 526 s \$0-bg-color-structs;
#X obj 45 128 t b a;
#X obj 247 127 t b a;
#X obj 426 128 t b a;
#X msg 252 378 symbol \$1\$2\$3;
#X obj 46 103 r \$0-hi-color;
#X connect 0 0 6 0;
#X connect 0 1 4 0;
#X connect 1 0 25 0;
#X connect 2 0 3 0;
#X connect 3 0 1 1;
#X connect 3 1 2 1;
#X connect 4 0 0 0;
#X connect 5 0 1 0;
#X connect 5 1 0 0;
#X connect 5 2 2 1;
#X connect 6 0 2 0;
#X connect 7 0 8 1;
#X connect 8 0 13 0;
#X connect 9 0 10 0;
#X connect 10 0 8 0;
#X connect 13 0 16 0;
#X connect 14 0 10 0;
#X connect 15 0 10 0;
#X connect 16 0 19 0;
#X connect 16 1 20 0;
#X connect 16 2 21 0;
#X connect 17 0 23 0;
#X connect 18 0 24 0;
#X connect 22 0 9 0;
#X connect 22 1 5 0;
#X connect 23 0 15 0;
#X connect 23 1 5 0;
#X connect 24 0 14 0;
#X connect 24 1 5 0;
#X connect 25 0 7 0;
#X connect 26 0 22 0;
#X restore 22 142 pd get-colors-for-structs;
#N canvas 263 82 985 870 settings 0;
#X obj 69 156 text define \$0-settings;
#X obj 32 13 r \$0-tbc-id;
#X obj 32 68 f;
#X obj 93 543 text get \$0-settings 1;
#X obj 32 791 s \$0-knob-0-r;
#X obj 54 771 s \$0-knob-1-r;
#X obj 70 300 + 1;
#X obj 32 571 pack f f;
#X obj 32 495 t f f;
#X obj 32 244 until;
#X obj 32 218 t f b;
#X obj 32 124 t b a;
#X obj 533 782 s \$0-display-waveform;
#X obj 32 189 text size \$0-settings;
#X obj 44 162 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 76 751 s \$0-bpm;
#X obj 98 731 s \$0-swing;
#X obj 34 820 s \$0-ext-volume;
#X obj 193 845 s \$0-lcd-swing-r;
#X obj 162 641 s \$0-current-sound;
#X obj 32 603 route 0 1 2 3 4 5;
#X obj 582 742 s \$0-display-grid-knob-labels;
#X obj 558 762 s \$0-display-grid-button-labels;
#X obj 607 722 s \$0-gui-label-update-delay;
#X obj 509 802 s \$0-display-animation;
#X obj 86 72 f;
#X obj 98 642 + 1;
#X text 525 598 Display related;
#X obj 631 702 s \$0-flash-buttons-and-knobs;
#X obj 12 840 s \$0-int-volume;
#X msg 93 410 1, f 1;
#X msg 75 410 0, f 1;
#X obj 32 435 spigot 1;
#X msg 193 410 1, f 1;
#X msg 175 410 0, f 1;
#X obj 132 435 spigot 0;
#X obj 32 325 t f f;
#N canvas 1266 386 456 574 handle-colors 0;
#X obj 138 24 inlet;
#X obj 223 109 text get \$0-settings 1 3;
#X obj 176 216 + 1;
#X obj 138 216 f 0;
#X obj 192 24 inlet;
#X msg 159 191 0;
#X obj 192 145 t b;
#X obj 138 55 t b f;
#X obj 138 424 s \$0-bg-color;
#X obj 196 444 s \$0-fg-color;
#X obj 138 284 route 0 1 2;
#X obj 138 254 list append;
#X obj 223 85 + 1;
#X obj 238 366 list;
#X obj 284 366 list;
#X obj 330 366 list;
#X obj 255 272 r \$0-reload-colors;
#X obj 255 297 t b;
#X obj 254 464 s \$0-hi-color;
#X obj 15 494 print bg-color;
#X obj 25 514 print fg-color;
#X obj 35 534 print hi-color;
#X obj 15 424 spigot;
#X obj 25 444 spigot;
#X obj 35 464 spigot;
#X obj 10 347 r \$0-debug-log;
#X connect 0 0 7 0;
#X connect 1 0 11 1;
#X connect 2 0 3 1;
#X connect 3 0 2 0;
#X connect 3 0 11 0;
#X connect 4 0 6 0;
#X connect 5 0 3 1;
#X connect 6 0 5 0;
#X connect 7 0 3 0;
#X connect 7 1 12 0;
#X connect 10 0 8 0;
#X connect 10 0 13 1;
#X connect 10 0 22 0;
#X connect 10 1 9 0;
#X connect 10 1 14 1;
#X connect 10 1 23 0;
#X connect 10 2 15 1;
#X connect 10 2 18 0;
#X connect 10 2 24 0;
#X connect 11 0 10 0;
#X connect 12 0 1 0;
#X connect 13 0 8 0;
#X connect 14 0 9 0;
#X connect 15 0 18 0;
#X connect 16 0 17 0;
#X connect 17 0 13 0;
#X connect 17 0 14 0;
#X connect 17 0 15 0;
#X connect 22 0 19 0;
#X connect 23 0 20 0;
#X connect 24 0 21 0;
#X connect 25 0 22 1;
#X connect 25 0 23 1;
#X connect 25 0 24 1;
#X restore 132 460 pd handle-colors;
#X obj 131 271 t b;
#X msg 53 275 0;
#X obj 32 300 f 0;
#X obj 93 518 + 1;
#X obj 196 733 array set \$0-pattern-chain;
#X obj 137 12 r \$0-save-settings;
#N canvas 169 83 880 832 pack-settings 0;
#X msg 379 276 symbol ext_vol;
#X msg 404 296 symbol bpm;
#X msg 429 316 symbol swing;
#X obj 354 785 text set \$0-settings;
#X obj 389 544 t a;
#X obj 389 569 spigot;
#X msg 434 542 1, f 1;
#X msg 454 542 0, f 1;
#X obj 354 506 t a b;
#X obj 354 605 list split 1;
#X obj 371 660 list;
#X obj 317 634 t b a;
#X obj 406 727 f 0;
#X obj 406 752 t f f;
#X obj 461 727 + 1;
#X obj 354 690 t a b;
#X msg 454 336 symbol current_pattern;
#X msg 354 256 symbol volume;
#X obj 140 287 - 1;
#X obj 46 357 r \$0-int-volume;
#X obj 90 337 r \$0-ext-volume;
#X obj 115 317 r \$0-bpm;
#X obj 140 257 r \$0-swing;
#X obj 165 237 r \$0-current-pattern;
#X obj 190 217 r \$0-current-sound;
#X obj 65 424 pack f f f f f f;
#X obj 25 391 f;
#X obj 65 449 t a b;
#X msg 102 506 1;
#X obj 546 729 t f;
#X obj 25 102 inlet;
#X obj 354 195 t b b;
#X obj 102 731 t f;
#X msg 546 415 -1;
#X msg 306 726 list \$1 0;
#X msg 427 703 1;
#X obj 354 415 pack s s s s s s;
#X obj 477 156 t s b;
#X msg 514 181 0;
#X obj 477 217 text set \$0-settings;
#X obj 25 127 t b b b;
#X msg 479 356 symbol current_sound;
#X obj 190 287 route bang;
#X msg 477 131 symbol ----Settings-------Do-Not-Rearrange----;
#X text 156 13 Build the settings file and the comments that go with
each line. Note that currently not everything that appears in the settings
file is saved. Certain things such as the color of The Beat Cop are
only loaded from the text file \, not saved from this patch. If you
wish to change the color \, simply edit the text file by hand (for
now).;
#X connect 0 0 36 1;
#X connect 1 0 36 2;
#X connect 2 0 36 3;
#X connect 4 0 5 0;
#X connect 5 0 9 0;
#X connect 6 0 5 1;
#X connect 7 0 5 1;
#X connect 8 0 9 0;
#X connect 8 1 6 0;
#X connect 8 1 35 0;
#X connect 9 0 11 0;
#X connect 9 1 10 1;
#X connect 9 2 7 0;
#X connect 10 0 4 0;
#X connect 11 0 10 0;
#X connect 11 1 15 0;
#X connect 12 0 13 0;
#X connect 13 0 3 1;
#X connect 13 1 14 0;
#X connect 14 0 12 1;
#X connect 15 0 34 0;
#X connect 15 1 12 0;
#X connect 16 0 36 4;
#X connect 17 0 36 0;
#X connect 18 0 25 3;
#X connect 19 0 26 1;
#X connect 20 0 25 1;
#X connect 21 0 25 2;
#X connect 22 0 18 0;
#X connect 23 0 25 4;
#X connect 24 0 42 0;
#X connect 25 0 27 0;
#X connect 26 0 25 0;
#X connect 27 0 8 0;
#X connect 27 1 28 0;
#X connect 28 0 32 0;
#X connect 29 0 3 2;
#X connect 30 0 40 0;
#X connect 31 0 17 0;
#X connect 31 1 0 0;
#X connect 31 1 1 0;
#X connect 31 1 2 0;
#X connect 31 1 16 0;
#X connect 31 1 41 0;
#X connect 31 1 33 0;
#X connect 32 0 3 2;
#X connect 33 0 29 0;
#X connect 34 0 3 0;
#X connect 35 0 12 1;
#X connect 36 0 8 0;
#X connect 37 0 39 0;
#X connect 37 1 38 0;
#X connect 38 0 39 1;
#X connect 40 0 26 0;
#X connect 40 1 31 0;
#X connect 40 2 43 0;
#X connect 41 0 36 5;
#X connect 42 1 25 5;
#X connect 43 0 37 0;
#X restore 174 62 pd pack-settings;
#X obj 46 48 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 137 37 t b b;
#X obj 193 771 * 100;
#X msg 193 821 label \$1%_SWING;
#X obj 193 796 int;
#X text 476 11 Load settings from the settings file for the current
TBC;
#X obj 135 711 s \$0-current-pattern;
#X obj 161 691 s \$0-current-pattern-early;
#X obj 135 661 t f f f;
#X msg 86 127 write tbc-state-saves/tbc-\$1/settings.txt;
#X msg 32 99 read tbc-state-saves/tbc-\$1/settings.txt;
#X obj 656 682 s \$0-help-messages;
#X obj 680 662 s \$0-debug-log;
#X obj 509 623 route 6 7 8 9 10 11 12 13 14;
#X obj 257 361 sel 15;
#X obj 433 652 r \$0-gui-on-off;
#X obj 433 682 t f;
#X text 486 548 TODO: Display sends get overridden by "\$0-gui-on-off"
;
#X connect 1 0 2 0;
#X connect 1 0 25 1;
#X connect 2 0 55 0;
#X connect 3 0 7 1;
#X connect 6 0 40 1;
#X connect 7 0 20 0;
#X connect 8 0 7 0;
#X connect 8 1 41 0;
#X connect 9 0 40 0;
#X connect 10 0 9 0;
#X connect 10 1 39 0;
#X connect 10 1 38 0;
#X connect 11 0 13 0;
#X connect 11 1 0 0;
#X connect 13 0 10 0;
#X connect 14 0 13 0;
#X connect 20 0 4 0;
#X connect 20 0 29 0;
#X connect 20 1 5 0;
#X connect 20 1 17 0;
#X connect 20 2 15 0;
#X connect 20 3 26 0;
#X connect 20 3 47 0;
#X connect 20 4 53 0;
#X connect 20 5 19 0;
#X connect 20 6 58 0;
#X connect 25 0 54 0;
#X connect 26 0 16 0;
#X connect 30 0 32 1;
#X connect 31 0 32 1;
#X connect 32 0 8 0;
#X connect 33 0 35 1;
#X connect 34 0 35 1;
#X connect 35 0 37 0;
#X connect 36 0 32 0;
#X connect 36 0 35 0;
#X connect 36 1 59 0;
#X connect 38 0 30 0;
#X connect 38 0 34 0;
#X connect 39 0 40 1;
#X connect 40 0 6 0;
#X connect 40 0 36 0;
#X connect 41 0 3 0;
#X connect 43 0 46 0;
#X connect 45 0 2 0;
#X connect 46 0 25 0;
#X connect 46 1 44 0;
#X connect 47 0 49 0;
#X connect 48 0 18 0;
#X connect 49 0 48 0;
#X connect 53 0 51 0;
#X connect 53 1 52 0;
#X connect 53 2 42 0;
#X connect 54 0 0 0;
#X connect 55 0 11 0;
#X connect 58 0 24 0;
#X connect 58 1 12 0;
#X connect 58 2 22 0;
#X connect 58 3 21 0;
#X connect 58 4 23 0;
#X connect 58 5 28 0;
#X connect 58 6 56 0;
#X connect 58 7 57 0;
#X connect 59 0 31 0;
#X connect 59 0 33 0;
#X connect 59 0 37 1;
#X connect 60 0 61 0;
#X connect 61 0 28 0;
#X connect 61 0 23 0;
#X connect 61 0 21 0;
#X connect 61 0 22 0;
#X connect 61 0 12 0;
#X connect 61 0 24 0;
#X restore 22 82 pd settings;
#N canvas 588 395 818 430 init 0;
#X msg 25 156 label \$1;
#X obj 35 207 s \$0-lcd-2-r;
#X obj 25 227 s \$0-lcd-3-r;
#X obj 45 187 s \$0-lcd-0-r;
#X msg 25 126 symbol empty;
#X obj 25 56 r \$0-bang-on-load-1;
#X msg 544 97 0;
#X obj 505 220 s \$0-one-shot-mode-on-off;
#X msg 505 195 1;
#X text 237 34 Init LCD;
#X text 500 19 Turn on one shot mode;
#X obj 234 86 f \$1;
#X obj 234 56 r \$0-bang-on-load-1;
#X obj 234 122 s \$0-tbc-id;
#X text 276 84 ID is argument 1;
#X obj 33 285 r \$0-bang-on-load-1;
#X obj 33 385 s \$0-write-btn-r;
#X msg 33 355 0;
#X obj 68 327 del 500;
#X obj 468 169 t b b;
#X obj 468 144 del 50;
#X obj 544 58 r \$0-bang-on-load-0;
#X obj 544 124 s \$0-view-sequencer;
#X obj 554 144 s \$0-view-sequencer;
#X obj 175 385 s \$0-get-current-sample-patch-id;
#X connect 0 0 1 0;
#X connect 0 0 2 0;
#X connect 0 0 3 0;
#X connect 4 0 0 0;
#X connect 5 0 4 0;
#X connect 6 0 22 0;
#X connect 6 0 23 0;
#X connect 8 0 7 0;
#X connect 11 0 13 0;
#X connect 12 0 11 0;
#X connect 15 0 17 0;
#X connect 15 0 18 0;
#X connect 17 0 16 0;
#X connect 18 0 17 0;
#X connect 18 0 24 0;
#X connect 19 1 8 0;
#X connect 20 0 19 0;
#X connect 21 0 6 0;
#X connect 21 0 20 0;
#X restore 22 52 pd init;
#N canvas 0 81 651 444 get-colors-for-guis 0;
#X obj 37 155 tbc-utils/color_helper_for_GUIs;
#X obj 159 75 r \$0-bg-color;
#X obj 282 95 r \$0-fg-color;
#X obj 37 345 s \$0-bg-color-converted;
#X obj 221 375 s \$0-fg-color-converted;
#X obj 405 405 s \$0-hi-color-converted;
#X obj 405 115 r \$0-hi-color;
#X text 61 20 Convert the RGB colors to the format the PD expects for
GUI objects.;
#X connect 0 0 3 0;
#X connect 0 1 4 0;
#X connect 0 2 5 0;
#X connect 1 0 0 1;
#X connect 2 0 0 2;
#X connect 6 0 0 3;
#X restore 22 122 pd get-colors-for-guis;
#N canvas 0 50 450 300 \$0-bang-on-load 0;
#X obj 44 117 t b b b b;
#X obj 113 152 s \$0-bang-on-load-0;
#X obj 67 192 s \$0-bang-on-load-2;
#X obj 44 212 s \$0-bang-on-load-3;
#X obj 90 172 s \$0-bang-on-load-1;
#X obj 44 92 loadbang;
#X text 42 36 Sequence loadbangs;
#X connect 0 0 3 0;
#X connect 0 1 2 0;
#X connect 0 2 4 0;
#X connect 0 3 1 0;
#X connect 5 0 0 0;
#X restore 22 22 pd \$0-bang-on-load;
#X obj 391 68 s \$0-debug-log;
#X obj 391 28 tgl 30 0 empty empty Debug_logs 35 7 0 10 -262144 -1
-1 0 1;
#X connect 8 0 7 0;
#X restore 525 228 pd init-everything;
#X obj 270 141 tgl 30 0 \$0-samples-btn-s \$0-samples-btn-r SAMPLES
-6 38 0 10 -1 -71583 -1 0 1;
#N canvas 606 209 463 222 states 1;
#N canvas 76 72 1733 827 handle-global-state-changing 0;
#X obj 325 153 sel 1;
#X msg 325 308 sound-mode;
#X obj 801 153 sel 1;
#X obj 487 153 sel 1;
#X msg 487 308 pattern-mode;
#X obj 658 153 sel 1;
#X obj 28 177 sel 1;
#X obj 145 281 t b;
#X obj 325 535 symbol;
#X msg 145 308 one-shot-mode;
#X msg 658 308 bpm-mode;
#X obj 969 153 sel 1;
#X msg 969 308 fx-mode;
#X text 989 468 Default state is one-shot-mode;
#N canvas 314 182 891 731 turn-off-other-buttons 0;
#X obj 83 686 s \$0-sound-btn-r;
#X obj 129 666 s \$0-pattern-btn-r;
#X obj 176 646 s \$0-bpm-btn-r;
#X obj 223 626 s \$0-samples-btn-r;
#X obj 270 606 s \$0-fx-btn-r;
#X obj 83 210 symbol;
#X obj 57 44 inlet;
#X symbolatom 157 217 30 0 0 0 - - -;
#X obj 411 516 s \$0-funct-btn-r;
#X obj 458 496 s \$0-select-pattern-to-paste;
#X obj 83 385 route sound-mode pattern-mode bpm-mode samples-mode fx-mode
write-mode one-shot-mode funct-mode paste-mode midi-mapper-mode;
#X obj 505 476 s \$0-midi-mapper-state;
#X msg 83 355 \$1 0;
#X obj 57 74 t b b b;
#X obj 110 140 s \$0-can-change-state;
#X msg 110 104 0, f 1;
#X msg 57 104 1, f 1;
#X obj 150 351 s \$0-write-btn-r;
#X obj 83 235 t a a;
#X obj 150 296 t b;
#X msg 150 321 0;
#X obj 128 181 r \$0-global-state-on;
#X obj 317 586 s \$0-write-btn-r;
#X text 312 25 This patch turns off the previously selected modifier
button. For example \, if The Beat Cop is in SOUND mode \, then SOUND
button will be on. If you then switch to SAMPLES mode \, the SOUND
button is turned off here in this patch.;
#X text 356 542 ^Note that one-shot-mode does not turn anything off
\, because one-shot-mode is the default state;
#X text 351 264 If we are in any mode that allows the WRITE button
to be used for something other than switching to write-mode \, we need
to make sure that it is turned off when we switch to a different mode.
;
#X obj 150 266 sel fx-mode funct-mode;
#X connect 5 0 18 0;
#X connect 6 0 13 0;
#X connect 10 0 0 0;
#X connect 10 1 1 0;
#X connect 10 2 2 0;
#X connect 10 3 3 0;
#X connect 10 4 4 0;
#X connect 10 5 22 0;
#X connect 10 7 8 0;
#X connect 10 8 9 0;
#X connect 12 0 10 0;
#X connect 13 0 16 0;
#X connect 13 1 5 0;
#X connect 13 2 15 0;
#X connect 15 0 14 0;
#X connect 16 0 14 0;
#X connect 18 0 12 0;
#X connect 18 1 26 0;
#X connect 19 0 20 0;
#X connect 20 0 17 0;
#X connect 21 0 5 1;
#X connect 21 0 7 0;
#X connect 26 0 19 0;
#X connect 26 1 19 0;
#X restore 362 452 pd turn-off-other-buttons;
#X obj 487 126 spigot 1;
#X obj 325 560 t s s s;
#X obj 317 647 spigot 1;
#X text 457 597 Check that the state has changed;
#X msg 378 621 0;
#X msg 439 621 1;
#X obj 378 597 sel temp;
#X obj 1101 153 sel 1;
#X msg 1101 307 funct-mode;
#X msg 28 308 write-mode;
#X obj 145 183 r \$0-bang-on-load-1;
#X obj 145 208 del 200;
#X obj 1258 150 sel 1;
#X msg 1258 295 paste-mode;
#X msg 801 308 samples-mode;
#X obj 325 426 t a b;
#X obj 1525 147 sel 1;
#X msg 1525 301 midi-mapper-mode;
#X obj 363 727 s \$0-global-state-1;
#X obj 340 747 s \$0-global-state-2;
#X obj 317 767 s \$0-global-state-on;
#X obj 386 707 s \$0-global-state-off;
#X obj 73 118 r \$0-can-switch-to-write-mode;
#X obj 28 147 spigot;
#X text 990 488 This patch handles changing the global state. The global
state determines what mode The Beat Cop is in \, and thus what the
buttons and knobs do.;
#X text 991 549 Note that there are a couple of special cases for the
buttons that are reused for other functions. For example \, you can't
switch into pattern mode if the function button is on. This is because
the pattern button is used to clear the pattern when in function mode.
;
#X obj 28 28 r \$0-write-btn-0-s;
#X obj 325 28 r \$0-sound-btn-0-s;
#X obj 487 26 r \$0-pattern-btn-0-s;
#X obj 658 26 r \$0-bpm-btn-0-s;
#X obj 801 25 r \$0-samples-btn-0-s;
#X obj 969 25 r \$0-fx-btn-0-s;
#X obj 1101 25 r \$0-funct-btn-0-s;
#X obj 1258 25 r \$0-select-pattern-to-paste-0;
#X obj 1525 25 r \$0-midi-mapper-state-0;
#X obj 317 672 t a a a a;
#N canvas 0 50 441 201 funct-check 0;
#X obj 37 123 outlet;
#X obj 37 32 r \$0-global-state-on;
#X msg 37 82 1;
#X obj 207 32 r \$0-global-state-off;
#X msg 316 82 0;
#X obj 207 57 sel funct-mode;
#X obj 37 57 sel funct-mode;
#X connect 1 0 6 0;
#X connect 2 0 0 0;
#X connect 3 0 5 0;
#X connect 4 0 0 0;
#X connect 5 1 4 0;
#X connect 6 0 2 0;
#X restore 548 71 pd funct-check;
#X obj 548 96 == 0;
#X connect 0 0 1 0;
#X connect 0 1 7 0;
#X connect 1 0 30 0;
#X connect 2 0 29 0;
#X connect 2 1 7 0;
#X connect 3 0 4 0;
#X connect 3 1 7 0;
#X connect 4 0 30 0;
#X connect 5 0 10 0;
#X connect 5 1 7 0;
#X connect 6 0 24 0;
#X connect 6 1 7 0;
#X connect 7 0 9 0;
#X connect 8 0 16 0;
#X connect 9 0 30 0;
#X connect 10 0 30 0;
#X connect 11 0 12 0;
#X connect 11 1 7 0;
#X connect 12 0 30 0;
#X connect 15 0 3 0;
#X connect 16 0 21 1;
#X connect 16 1 17 0;
#X connect 16 2 21 0;
#X connect 17 0 50 0;
#X connect 19 0 17 1;
#X connect 20 0 17 1;
#X connect 21 0 19 0;
#X connect 21 1 20 0;
#X connect 22 0 23 0;
#X connect 22 1 7 0;
#X connect 23 0 30 0;
#X connect 24 0 30 0;
#X connect 25 0 26 0;
#X connect 26 0 7 0;
#X connect 27 0 28 0;
#X connect 27 1 7 0;
#X connect 28 0 30 0;
#X connect 29 0 30 0;
#X connect 30 0 8 0;
#X connect 30 1 14 0;
#X connect 31 0 32 0;
#X connect 31 1 7 0;
#X connect 32 0 30 0;
#X connect 37 0 38 1;
#X connect 38 0 6 0;
#X connect 41 0 38 0;
#X connect 42 0 0 0;
#X connect 43 0 15 0;
#X connect 44 0 5 0;
#X connect 45 0 2 0;
#X connect 46 0 11 0;
#X connect 47 0 22 0;
#X connect 48 0 27 0;
#X connect 49 0 31 0;
#X connect 50 0 35 0;
#X connect 50 1 34 0;
#X connect 50 2 33 0;
#X connect 50 3 36 0;
#X connect 51 0 52 0;
#X connect 52 0 15 1;
#X restore 22 22 pd handle-global-state-changing;
#N canvas 662 179 1080 650 change-button-labels 0;
#X msg 921 399 empty empty empty empty empty empty empty empty empty
empty empty empty empty empty empty empty;
#X obj 657 310 t b;
#X obj 196 492 del 30;
#X obj 657 335 del 30;
#N canvas 0 81 450 300 display-computer-keys 0;
#X obj 153 269 outlet;
#X obj 73 271 outlet;
#X obj 73 40 inlet;
#X obj 198 129 == 0;
#X obj 161 68 t f f;
#X obj 139 97 change;
#X obj 139 122 t b;
#X obj 73 175 spigot 0;
#X obj 153 175 spigot 1;
#X obj 161 43 r \$0-key-control-btn-0-s;
#X connect 2 0 7 0;
#X connect 2 0 8 0;
#X connect 3 0 8 1;
#X connect 4 0 5 0;
#X connect 4 1 3 0;
#X connect 4 1 7 1;
#X connect 5 0 6 0;
#X connect 6 0 7 0;
#X connect 6 0 8 0;
#X connect 7 0 1 0;
#X connect 8 0 0 0;
#X connect 9 0 4 0;
#X restore 657 379 pd display-computer-keys;
#X obj 677 255 r \$0-bang-on-load-1;
#X msg 657 407 1 2 3 4 Q W E R A S D F Z X C V;
#N canvas 84 81 578 875 grid-button-labels 0;
#X obj 199 760 pack s f;
#X obj 178 836 s;
#X obj 199 810 symbol;
#X obj 199 663 symbol \$0-grid-btn;
#X floatatom 260 737 5 0 15 1 Grid_button - -;
#X text 263 806 Buttons;
#X msg 178 633 label \$1;
#X obj 178 568 symbol;
#X msg 41 633 label_pos \$1 \$2;
#X msg 41 610 0 38;
#X obj 141 88 inlet;
#X symbolatom 178 606 10 0 0 0 - - -;
#X obj 141 539 t b s b;
#N canvas 286 322 830 633 convert-numbers 0;
#X msg 69 255 symbol 3_;
#X msg 79 275 symbol 4_;
#X obj 49 190 sel 1 2 3 4 5 6 7 8 9 0;
#X msg 89 295 symbol 5_;
#X msg 99 315 symbol 6_;
#X msg 109 335 symbol 7_;
#X msg 119 355 symbol 8_;
#X msg 129 375 symbol 9_;
#X msg 139 395 symbol 0_;
#X obj 49 29 inlet;
#X obj 49 570 outlet;
#X obj 230 415 t a;
#X obj 49 465 symbol;
#X msg 49 215 symbol 1_;
#X msg 59 235 symbol 2_;
#X text 243 51 A symbol cannot contain just a float \, so we have to
convert the float to a symbol that can be displayed. In this case I
added an underscore after the number \, and that was enough.;
#X obj 49 511 t a a;
#X obj 49 101 spigot 1;
#X connect 0 0 12 0;
#X connect 1 0 12 0;
#X connect 2 0 13 0;
#X connect 2 1 14 0;
#X connect 2 2 0 0;
#X connect 2 3 1 0;
#X connect 2 4 3 0;
#X connect 2 5 4 0;
#X connect 2 6 5 0;
#X connect 2 7 6 0;
#X connect 2 8 7 0;
#X connect 2 9 8 0;
#X connect 2 10 11 0;
#X connect 3 0 12 0;
#X connect 4 0 12 0;
#X connect 5 0 12 0;
#X connect 6 0 12 0;
#X connect 7 0 12 0;
#X connect 8 0 12 0;
#X connect 9 0 17 0;
#X connect 11 0 16 0;
#X connect 12 0 16 0;
#X connect 13 0 12 0;
#X connect 14 0 12 0;
#X connect 16 0 10 0;
#X connect 17 0 2 0;
#X restore 141 506 pd convert-numbers;
#X obj 141 431 list split 1;
#X obj 141 385 list append;
#X obj 269 341 bang;
#X obj 141 334 f 0;
#X obj 179 334 + 1;
#X msg 162 306 0;
#X obj 141 359 t b f;
#X obj 187 465 t b a;
#X obj 141 280 spigot;
#X msg 215 225 1;
#X msg 223 252 0;
#X obj 141 185 t b b a b;
#X obj 272 190 r \$0-gui-label-update-delay;
#X obj 141 210 del 50;
#X msg 199 785 \$1-\$2-r;
#X text 25 12 Apply the grid button labels to the correct grid buttons
;
#X obj 141 113 t a b;
#X msg 178 141 stop;
#X connect 0 0 28 0;
#X connect 2 0 1 1;
#X connect 3 0 0 0;
#X connect 4 0 0 1;
#X connect 6 0 1 0;
#X connect 7 0 11 0;
#X connect 8 0 1 0;
#X connect 9 0 8 0;
#X connect 10 0 30 0;
#X connect 11 0 6 0;
#X connect 12 0 9 0;
#X connect 12 1 7 0;
#X connect 12 2 3 0;
#X connect 13 0 12 0;
#X connect 14 0 13 0;
#X connect 14 1 21 0;
#X connect 14 2 16 0;
#X connect 15 0 14 0;
#X connect 16 0 24 0;
#X connect 17 0 18 0;
#X connect 17 0 20 0;
#X connect 18 0 17 1;
#X connect 19 0 17 1;
#X connect 20 0 15 0;
#X connect 20 1 4 0;
#X connect 21 0 27 0;
#X connect 21 1 15 1;
#X connect 22 0 17 0;
#X connect 23 0 22 1;
#X connect 24 0 22 1;
#X connect 25 0 27 0;
#X connect 25 1 19 0;
#X connect 25 2 15 1;
#X connect 25 3 23 0;
#X connect 26 0 27 1;
#X connect 27 0 22 0;
#X connect 28 0 2 0;
#X connect 30 0 25 0;
#X connect 30 1 31 0;
#X connect 31 0 27 0;
#X restore 196 574 pd grid-button-labels;
#X obj 32 108 spigot 1;
#X obj 93 78 r \$0-display-grid-button-labels;
#N canvas 351 116 671 839 create-pattern-labels 0;
#X obj 67 32 inlet;
#X obj 213 791 outlet;
#X obj 67 57 del 30;
#X obj 67 96 array get \$0-pattern-chain;
#N canvas 146 237 959 431 split-up-array 0;
#X obj 101 273 list split 1;
#X obj 101 247 list append;
#X obj 229 203 bang;
#X obj 101 196 f 0;
#X obj 139 196 + 1;
#X msg 122 168 0;
#X obj 101 221 t b f;
#X obj 147 307 t b a;
#X obj 101 142 spigot;
#X msg 175 87 1;
#X msg 183 114 0;
#X obj 101 47 t b b a b;
#X obj 64 367 pack f f;
#X obj 51 308 t b b f;
#X obj 64 397 outlet;
#X obj 101 17 inlet;
#X text 282 89 pattern-number array-index;
#X text 282 119 Example:;
#X text 302 139 INPUT: 0 0 3 5;
#X text 472 139 <--- Play pattern 0 twice \, then pattern 3 \, then
pattern 5;
#X text 322 159 OUTPUT: 0 0;
#X text 322 179 OUTPUT: 0 1;
#X text 322 199 OUTPUT: 3 2;
#X text 322 219 OUTPUT: 5 3;
#X text 262 43 Split off each item in the list then output in the following
format:;
#X connect 0 0 13 0;
#X connect 0 1 7 0;
#X connect 0 2 2 0;
#X connect 1 0 0 0;
#X connect 2 0 10 0;
#X connect 3 0 4 0;
#X connect 3 0 6 0;
#X connect 4 0 3 1;
#X connect 5 0 3 1;
#X connect 6 0 1 0;
#X connect 6 1 12 1;
#X connect 7 1 1 1;
#X connect 8 0 3 0;
#X connect 9 0 8 1;
#X connect 10 0 8 1;
#X connect 11 0 8 0;
#X connect 11 1 5 0;
#X connect 11 2 1 1;
#X connect 11 3 9 0;
#X connect 12 0 14 0;
#X connect 13 0 8 0;
#X connect 13 2 12 0;
#X connect 15 0 11 0;
#X restore 90 309 pd split-up-array;
#X obj 75 512 list split 3;
#X obj 90 414 t b a;
#X obj 127 444 unpack f f;
#X obj 79 601 list append;
#X obj 75 473 list;
#X obj 213 721 spigot;
#X msg 278 666 1, f 1;
#X msg 258 666 0, f 1;
#X obj 142 542 list split 1;
#X obj 103 636 list append;
#X obj 103 673 t a a;
#X obj 213 755 list trim;
#X obj 90 334 t a b;
#N canvas 0 81 369 257 counter 0;
#X obj 145 121 + 1;
#X obj 85 147 t f f;
#X obj 85 122 f 1;
#X msg 106 97 1;
#X obj 85 46 inlet;
#X obj 176 52 inlet;
#X obj 176 77 t b;
#X obj 85 71 t b;
#X obj 85 194 outlet;
#X connect 0 0 2 1;
#X connect 1 0 8 0;
#X connect 1 1 0 0;
#X connect 2 0 1 0;
#X connect 3 0 2 1;
#X connect 4 0 7 0;
#X connect 5 0 6 0;
#X connect 6 0 3 0;
#X connect 7 0 2 0;
#X restore 127 369 pd counter;
#X obj 67 224 t b a b b;
#X obj 258 392 t b;
#X obj 278 429 sel;
#X obj 317 350 array size \$0-pattern-chain;
#X msg 104 259 empty empty empty empty empty empty empty empty empty
empty empty empty empty empty empty empty;
#N canvas 343 179 707 458 combine-list-items 0;
#X obj 57 85 sel empty;
#X obj 57 42 inlet;
#X obj 57 305 outlet;
#X obj 161 42 inlet;
#X obj 57 209 f;
#X obj 161 199 list;
#X obj 161 174 pack s f;
#X msg 161 148 \$1_;
#X msg 161 233 \$1\$2;
#X text 165 311 Note: These can NOT be separated with a comma \, otherwise
pd would treat it as a separate list message.;
#X connect 0 0 4 0;
#X connect 0 1 7 0;
#X connect 1 0 0 0;
#X connect 3 0 4 1;
#X connect 3 0 6 1;
#X connect 4 0 2 0;
#X connect 5 0 8 0;
#X connect 6 0 5 0;
#X connect 7 0 6 0;
#X connect 8 0 2 0;
#X restore 142 572 pd combine-list-items;
#X obj 289 96 r \$0-temp-pattern-chain-labels;
#X obj 299 161 list length;
#X obj 67 156 t a b;
#X obj 289 121 t a a;
#X connect 0 0 2 0;
#X connect 2 0 3 0;
#X connect 3 0 27 0;
#X connect 4 0 17 0;
#X connect 5 0 8 0;
#X connect 5 1 13 0;
#X connect 6 0 9 0;
#X connect 6 1 7 0;
#X connect 7 0 5 1;
#X connect 7 1 24 1;
#X connect 8 0 14 0;
#X connect 9 0 5 0;
#X connect 10 0 16 0;
#X connect 11 0 10 1;
#X connect 12 0 10 1;
#X connect 13 0 24 0;
#X connect 13 1 14 1;
#X connect 14 0 15 0;
#X connect 15 0 10 0;
#X connect 15 1 9 1;
#X connect 16 0 1 0;
#X connect 17 0 6 0;
#X connect 17 1 18 0;
#X connect 18 0 21 0;
#X connect 19 1 4 0;
#X connect 19 2 23 0;
#X connect 19 3 18 1;
#X connect 19 3 20 0;
#X connect 20 0 12 0;
#X connect 21 0 11 0;
#X connect 22 0 21 1;
#X connect 23 0 9 1;
#X connect 24 0 8 1;
#X connect 25 0 28 0;
#X connect 26 0 21 1;
#X connect 27 0 19 0;
#X connect 27 1 22 0;
#X connect 28 0 19 0;
#X connect 28 1 26 0;
#X restore 382 314 pd create-pattern-labels;
#N canvas 866 91 578 875 grid-button-labels-only-numbers 0;
#X obj 199 760 pack s f;
#X obj 178 836 s;
#X obj 199 810 symbol;
#X obj 199 663 symbol \$0-grid-btn;
#X floatatom 260 737 5 0 15 1 Grid_button - -;
#X text 263 806 Buttons;
#X msg 178 633 label \$1;
#X obj 178 568 symbol;
#X msg 41 633 label_pos \$1 \$2;
#X msg 41 610 0 38;
#X obj 141 88 inlet;
#X symbolatom 178 606 10 0 0 0 - - -;
#N canvas 442 148 720 269 convert-numbers 0;
#X obj 49 29 inlet;
#X obj 49 222 outlet;
#X text 210 37 A symbol cannot contain just a float \, so we have to
convert the float to a symbol that can be displayed. In this case I
added an underscore after the number \, and that was enough.;
#X msg 163 118 \$1_;
#X msg 49 135 empty;
#X obj 49 185 t a;
#X text 210 107 I also replace -1 with empty \, because I used -1 to
represent unmapped midi controls.;
#X obj 49 60 sel -1;
#X obj 94 90 sel empty;
#X connect 0 0 7 0;
#X connect 3 0 5 0;
#X connect 4 0 5 0;
#X connect 5 0 1 0;
#X connect 7 0 4 0;
#X connect 7 1 8 0;
#X connect 8 0 4 0;
#X connect 8 1 3 0;
#X restore 141 504 pd convert-numbers;
#X obj 141 431 list split 1;
#X obj 141 385 list append;
#X obj 269 341 bang;
#X obj 141 334 f 0;
#X obj 179 334 + 1;
#X msg 162 306 0;
#X obj 141 359 t b f;
#X obj 187 465 t b a;
#X obj 141 280 spigot;
#X msg 215 225 1;
#X msg 223 252 0;
#X obj 141 185 t b b a b;
#X obj 257 170 r \$0-gui-label-update-delay;
#X obj 141 230 del 50;
#X msg 199 785 \$1-\$2-r;
#X text 25 12 Apply the grid button labels to the correct grid buttons
;
#X obj 141 539 t b a b;
#X obj 141 113 t a b;
#X msg 178 145 stop;
#X connect 0 0 27 0;
#X connect 2 0 1 1;
#X connect 3 0 0 0;
#X connect 4 0 0 1;
#X connect 6 0 1 0;
#X connect 7 0 11 0;
#X connect 8 0 1 0;
#X connect 9 0 8 0;
#X connect 10 0 30 0;
#X connect 11 0 6 0;
#X connect 12 0 29 0;
#X connect 13 0 12 0;
#X connect 13 1 20 0;
#X connect 13 2 15 0;
#X connect 14 0 13 0;
#X connect 15 0 23 0;
#X connect 16 0 17 0;
#X connect 16 0 19 0;
#X connect 17 0 16 1;
#X connect 18 0 16 1;
#X connect 19 0 14 0;
#X connect 19 1 4 0;
#X connect 20 0 26 0;
#X connect 20 1 14 1;
#X connect 21 0 16 0;
#X connect 22 0 21 1;
#X connect 23 0 21 1;
#X connect 24 0 26 0;
#X connect 24 1 18 0;
#X connect 24 2 14 1;
#X connect 24 3 22 0;
#X connect 25 0 26 1;
#X connect 26 0 21 0;
#X connect 27 0 2 0;
#X connect 29 0 9 0;
#X connect 29 1 7 0;
#X connect 29 2 3 0;
#X connect 30 0 24 0;
#X connect 30 1 31 0;
#X connect 31 0 26 0;
#X restore 382 574 pd grid-button-labels-only-numbers;
#N canvas 481 213 698 462 midi-mapper-labels 0;
#X obj 107 130 r \$0-midi-mapper-active;
#X obj 46 33 inlet;
#X obj 160 409 outlet;
#X obj 46 409 outlet;
#X obj 46 283 spigot 1;
#X obj 107 234 == 0;
#X obj 160 233 sel 1 0;
#X text 165 30 If the midi mapper is active \, clear the lables \,
otherwise bang the function labels;
#X obj 240 272 spigot;
#X obj 160 330 list;
#X obj 107 155 t f f f;
#X obj 240 233 r \$0-packed-midi-notes-for-grid-buttons;
#X connect 0 0 10 0;
#X connect 1 0 4 0;
#X connect 4 0 9 0;
#X connect 5 0 4 1;
#X connect 6 0 9 0;
#X connect 8 0 2 0;
#X connect 9 0 2 0;
#X connect 10 0 5 0;
#X connect 10 1 8 1;
#X connect 10 2 6 0;
#X connect 11 0 8 0;
#X connect 11 0 9 1;
#X restore 464 277 pd midi-mapper-labels;
#X msg 196 522 PITCH ROBOT VERB BIT TREM GATE OD COMP PHASE DELAY LPF
HPF WARP RPT1 RPT2 DRY;
#N canvas 311 200 1518 764 grid-btns-cnv 0;
#X obj 1200 67 r \$0-colors-packed;
#X obj 92 345 list;
#X obj 40 15 inlet;
#X text 28 714 Color the background canvas;
#X msg 18 414 label ONE_SHOT_MODE;
#X obj 40 263 t b;
#X obj 92 595 t a;
#X obj 92 675 s \$0-cnv-funct-rand-btn-r;
#X obj 502 345 list;
#X obj 450 263 t b;
#X msg 502 380 color \$1 \$1 \$1;
#X obj 502 585 t a;
#X msg 92 380 color \$2 \$2 \$1;
#X msg 428 414 label RANDOMIZERS;
#X msg 446 438 label_pos 67 95;
#X obj 1352 345 list;
#X obj 1300 263 t b;
#X obj 1352 585 t a;
#X msg 1296 438 label_pos 67 95;
#X msg 1278 414 label empty;
#X msg 1352 380 color \$2 \$2 \$2;
#X obj 302 345 list;
#X obj 250 263 t b;
#X obj 302 595 t a;
#X msg 285 414 label SEQUENCER;
#X msg 302 380 color \$2 \$2 \$1;
#X obj 149 23 r \$0-key-control-btn-0-s;
#X obj 166 453 sel 0 1;
#X msg 108 552 label_pos 60 \$1;
#X msg 250 552 label_pos 72 \$1;
#X msg 166 478 80;
#X msg 200 478 95;
#X obj 108 519 f 80;
#X obj 250 519 f 80;
#X obj 40 82 symbol;
#X obj 149 48 t b f;
#X obj 200 307 t b a;
#X msg 153 282 1, f 1;
#X obj 92 308 spigot 0;
#X obj 712 345 list;
#X obj 660 263 t b;
#X obj 712 585 t a;
#X msg 712 380 color \$2 \$2 \$1;
#X msg 638 414 label SELECT_SOUND;
#X msg 656 438 label_pos 60 95;
#X obj 922 345 list;
#X obj 870 263 t b;
#X obj 922 585 t a;
#X msg 922 380 color \$2 \$2 \$1;
#X msg 866 438 label_pos 60 95;
#X msg 848 414 label SELECT_SAMPLE;
#X obj 1132 345 list;
#X obj 1080 263 t b;
#X obj 1132 585 t a;
#X msg 1132 380 color \$2 \$2 \$1;
#X msg 1076 438 label_pos 60 95;
#X msg 1058 414 label SELECT_PATTERN;
#X obj 40 110 sel one-shot-mode write-mode funct-mode sound-mode samples-mode
pattern-mode bpm-mode;
#X connect 0 0 8 1;
#X connect 0 0 15 1;
#X connect 0 0 21 1;
#X connect 0 0 36 0;
#X connect 0 0 39 1;
#X connect 0 0 45 1;
#X connect 0 0 51 1;
#X connect 1 0 12 0;
#X connect 2 0 34 0;
#X connect 2 0 34 1;
#X connect 4 0 6 0;
#X connect 5 0 4 0;
#X connect 5 0 32 0;
#X connect 5 0 38 0;
#X connect 6 0 7 0;
#X connect 8 0 10 0;
#X connect 9 0 8 0;
#X connect 9 0 13 0;
#X connect 9 0 14 0;
#X connect 10 0 11 0;
#X connect 11 0 7 0;
#X connect 12 0 6 0;
#X connect 13 0 11 0;
#X connect 14 0 11 0;
#X connect 15 0 20 0;
#X connect 16 0 15 0;
#X connect 16 0 19 0;
#X connect 16 0 18 0;
#X connect 17 0 7 0;
#X connect 18 0 17 0;
#X connect 19 0 17 0;
#X connect 20 0 17 0;
#X connect 21 0 25 0;
#X connect 22 0 21 0;
#X connect 22 0 24 0;
#X connect 22 0 33 0;
#X connect 23 0 7 0;
#X connect 24 0 23 0;
#X connect 25 0 23 0;
#X connect 26 0 35 0;
#X connect 27 0 30 0;
#X connect 27 1 31 0;
#X connect 28 0 6 0;
#X connect 29 0 23 0;
#X connect 30 0 33 1;
#X connect 30 0 32 1;
#X connect 31 0 33 1;
#X connect 31 0 32 1;
#X connect 32 0 28 0;
#X connect 33 0 29 0;
#X connect 34 0 57 0;
#X connect 35 0 34 0;
#X connect 35 1 27 0;
#X connect 36 0 37 0;
#X connect 36 1 1 1;
#X connect 36 1 1 0;
#X connect 37 0 38 1;
#X connect 38 0 1 0;
#X connect 39 0 42 0;
#X connect 40 0 39 0;
#X connect 40 0 43 0;
#X connect 40 0 44 0;
#X connect 41 0 7 0;
#X connect 42 0 41 0;
#X connect 43 0 41 0;
#X connect 44 0 41 0;
#X connect 45 0 48 0;
#X connect 46 0 45 0;
#X connect 46 0 50 0;
#X connect 46 0 49 0;
#X connect 47 0 7 0;
#X connect 48 0 47 0;
#X connect 49 0 47 0;
#X connect 50 0 47 0;
#X connect 51 0 54 0;
#X connect 52 0 51 0;
#X connect 52 0 56 0;
#X connect 52 0 55 0;
#X connect 53 0 7 0;
#X connect 54 0 53 0;
#X connect 55 0 53 0;
#X connect 56 0 53 0;
#X connect 57 0 5 0;
#X connect 57 1 22 0;
#X connect 57 2 9 0;
#X connect 57 3 40 0;
#X connect 57 4 46 0;
#X connect 57 5 52 0;
#X connect 57 6 22 0;
#X connect 57 7 16 0;
#X restore 32 203 pd grid-btns-cnv;
#X obj 277 412 del 30;
#X msg 277 450 RVRSE U_SHFT empty COPY L_SHFT D_SHFT R_SHFT SND/PAT
VOLUME GATE PITCH RETRIG FX PARAM START LENGTH;
#X obj 32 50 r \$0-global-state-off;
#X text 22 6 Change the labels on all of the buttons to display what
they do in the current state;
#N canvas 436 250 1043 520 funct-modifier-labels 0;
#X obj 186 52 inlet;
#X obj 828 52 inlet;
#X obj 186 415 s \$0-pattern-btn-r;
#X msg 392 299 label MIDI_MAP;
#X msg 438 356 label MIDI;
#X msg 186 306 label CLEAR;
#X msg 241 356 label PATTERN;
#X msg 251 386 label_pos -5 38;
#X msg 196 336 label_pos 0 38;
#X msg 448 386 label_pos 3 38;
#X msg 402 326 label_pos -8 38;
#X obj 26 182 f 0;
#X obj 58 182 + 1;
#X obj 26 207 mod 2;
#X obj 26 232 sel 1;
#X msg 63 395 label empty;
#X msg 26 120 1;
#X msg 72 120 0;
#X obj 26 157 metro 150;
#X obj 392 415 s \$0-midi-control-btn-r;
#X msg 648 356 label WRITE;
#X msg 658 386 label_pos 1 38;
#X obj 602 415 s \$0-write-btn-r;
#X msg 614 324 label_pos -2 38;
#X obj 782 415 s \$0-play-btn-r;
#X msg 828 356 label PLAY;
#X msg 838 386 label_pos 3 38;
#X msg 602 299 label SAMPLE;
#X msg 782 300 label LIVE;
#X msg 791 326 label_pos 3 38;
#X connect 0 0 5 0;
#X connect 0 0 3 0;
#X connect 0 0 16 0;
#X connect 0 0 27 0;
#X connect 0 0 28 0;
#X connect 1 0 6 0;
#X connect 1 0 4 0;
#X connect 1 0 17 0;
#X connect 1 0 21 0;
#X connect 1 0 25 0;
#X connect 3 0 19 0;
#X connect 3 0 10 0;
#X connect 4 0 19 0;
#X connect 4 0 9 0;
#X connect 5 0 2 0;
#X connect 5 0 8 0;
#X connect 6 0 2 0;
#X connect 6 0 7 0;
#X connect 7 0 2 0;
#X connect 8 0 2 0;
#X connect 9 0 19 0;
#X connect 10 0 19 0;
#X connect 11 0 12 0;
#X connect 11 0 13 0;
#X connect 12 0 11 1;
#X connect 13 0 14 0;
#X connect 14 0 5 0;
#X connect 14 1 15 0;
#X connect 15 0 2 0;
#X connect 16 0 18 0;
#X connect 17 0 18 0;
#X connect 18 0 11 0;
#X connect 20 0 22 0;
#X connect 20 0 21 0;
#X connect 21 0 22 0;
#X connect 23 0 22 0;
#X connect 25 0 26 0;
#X connect 25 0 24 0;
#X connect 26 0 24 0;
#X connect 27 0 22 0;
#X connect 27 0 23 0;
#X connect 28 0 29 0;
#X connect 28 0 24 0;
#X connect 29 0 24 0;
#X restore 301 350 pd funct-modifier-labels;
#N canvas 870 220 383 325 fx-modifier-labels 0;
#X obj 104 36 inlet;
#X obj 159 36 inlet;
#X msg 159 173 label WRITE;
#X msg 169 193 label_pos 1 38;
#X obj 104 232 s \$0-write-btn-r;
#X msg 104 133 label REC_FX;
#X msg 114 153 label_pos -3 38;
#X connect 0 0 5 0;
#X connect 0 0 6 0;
#X connect 1 0 2 0;
#X connect 1 0 3 0;
#X connect 2 0 4 0;
#X connect 3 0 4 0;
#X connect 5 0 4 0;
#X connect 6 0 4 0;
#X restore 211 380 pd fx-modifier-labels;
#X obj 464 249 del 30;
#X obj 196 176 sel fx-mode funct-mode pattern-mode midi-mapper-mode
;
#X obj 32 133 t a a b;
#X connect 0 0 7 0;
#X connect 1 0 3 0;
#X connect 1 0 20 1;
#X connect 1 0 19 1;
#X connect 2 0 13 0;
#X connect 3 0 4 0;
#X connect 4 0 6 0;
#X connect 4 1 0 0;
#X connect 5 0 1 0;
#X connect 6 0 7 0;
#X connect 8 0 23 0;
#X connect 9 0 8 1;
#X connect 10 0 11 0;
#X connect 12 1 11 0;
#X connect 13 0 7 0;
#X connect 15 0 16 0;
#X connect 16 0 7 0;
#X connect 17 0 8 0;
#X connect 21 0 12 0;
#X connect 22 0 2 0;
#X connect 22 0 20 0;
#X connect 22 1 19 0;
#X connect 22 1 15 0;
#X connect 22 2 10 0;
#X connect 22 3 21 0;
#X connect 22 4 1 0;
#X connect 23 0 14 0;
#X connect 23 1 22 0;
#X connect 23 2 19 1;
#X restore 22 82 pd change-button-labels;
#N canvas 687 201 1042 549 change-knob-labels 0;
#N canvas 355 98 957 833 display-data-to-knobs 0;
#X obj 48 499 pack s f;
#X obj 27 785 s;
#X obj 48 549 symbol;
#X floatatom 109 476 5 0 15 1 Grid_button - -;
#X obj 22 206 until;
#X msg 22 177 16;
#X obj 75 281 f 0;
#X obj 113 281 + 1;
#X floatatom 75 306 5 0 0 0 - - -;
#X msg 96 178 0;
#X obj 22 140 t b b a;
#X obj 594 672 f;
#X obj 604 652 f;
#X obj 614 632 f;
#X obj 624 612 f;
#X obj 634 592 f;
#X obj 644 572 f;
#X obj 654 552 f;
#X obj 664 532 f;
#X obj 674 512 f;
#X obj 684 492 f;
#X obj 694 472 f;
#X obj 704 452 f;
#X obj 714 432 f;
#X obj 724 412 f;
#X obj 734 392 f;
#X obj 744 372 f;
#X obj 259 332 sel 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15;
#X obj 615 332 unpack f f f f f f f f f f f f f f f f;
#X obj 744 704 f;
#X obj 75 328 t f f;
#X obj 259 310 f;
#X obj 22 231 t b b b;
#X text 419 209 Unpack the sequence into the float objects \, then
loop through all of the floats and send the data they contain to the
corresponding grid button.;
#X obj 22 14 r \$0-packed-grid-knobs;
#X obj 22 109 spigot 0;
#X obj 143 207 until;
#X msg 143 178 16;
#X msg 143 675 label empty;
#X obj 143 232 t b b b;
#X obj 143 139 t b b;
#X obj 143 110 sel 0;
#X obj 85 63 t f f;
#X text 242 111 There are two loops in the patch. One loop is used
to spit out numbers \, and the other is used to clear the labels.;
#X obj 48 445 symbol \$0-grid-knob;
#X obj 598 734 s \$0-grid-knob-display-data-to-process;
#X obj 27 756 r \$0-grid-knob-display-data-after-processing;
#X obj 254 16 inlet;
#X msg 156 707 label_pos 8 38;
#X msg 48 524 \$1-\$2-r;
#X connect 0 0 49 0;
#X connect 2 0 1 1;
#X connect 3 0 0 1;
#X connect 4 0 32 0;
#X connect 5 0 4 0;
#X connect 6 0 7 0;
#X connect 6 0 8 0;
#X connect 7 0 6 1;
#X connect 8 0 30 0;
#X connect 9 0 6 1;
#X connect 10 0 5 0;
#X connect 10 1 9 0;
#X connect 10 2 28 0;
#X connect 11 0 29 0;
#X connect 12 0 29 0;
#X connect 13 0 29 0;
#X connect 14 0 29 0;
#X connect 15 0 29 0;
#X connect 16 0 29 0;
#X connect 17 0 29 0;
#X connect 18 0 29 0;
#X connect 19 0 29 0;
#X connect 20 0 29 0;
#X connect 21 0 29 0;
#X connect 22 0 29 0;
#X connect 23 0 29 0;
#X connect 24 0 29 0;
#X connect 25 0 29 0;
#X connect 26 0 29 0;
#X connect 27 0 11 0;
#X connect 27 1 12 0;
#X connect 27 2 13 0;
#X connect 27 3 14 0;
#X connect 27 4 15 0;
#X connect 27 5 16 0;
#X connect 27 6 17 0;
#X connect 27 7 18 0;
#X connect 27 8 19 0;
#X connect 27 9 20 0;
#X connect 27 10 21 0;
#X connect 27 11 22 0;
#X connect 27 12 23 0;
#X connect 27 13 24 0;
#X connect 27 14 25 0;
#X connect 27 15 26 0;
#X connect 28 0 11 1;
#X connect 28 1 12 1;
#X connect 28 2 13 1;
#X connect 28 3 14 1;
#X connect 28 4 15 1;
#X connect 28 5 16 1;
#X connect 28 6 17 1;
#X connect 28 7 18 1;
#X connect 28 8 19 1;
#X connect 28 9 20 1;
#X connect 28 10 21 1;
#X connect 28 11 22 1;
#X connect 28 12 23 1;
#X connect 28 13 24 1;
#X connect 28 14 25 1;
#X connect 28 15 26 1;
#X connect 29 0 45 0;
#X connect 30 0 31 1;
#X connect 30 1 3 0;
#X connect 31 0 27 0;
#X connect 32 0 31 0;
#X connect 32 1 44 0;
#X connect 32 2 6 0;
#X connect 34 0 35 0;
#X connect 35 0 10 0;
#X connect 36 0 39 0;
#X connect 37 0 36 0;
#X connect 38 0 1 0;
#X connect 38 0 48 0;
#X connect 39 0 38 0;
#X connect 39 1 44 0;
#X connect 39 2 6 0;
#X connect 40 0 37 0;
#X connect 40 1 9 0;
#X connect 41 0 40 0;
#X connect 42 0 41 0;
#X connect 42 1 35 1;
#X connect 44 0 0 0;
#X connect 46 0 1 0;
#X connect 47 0 42 0;
#X connect 48 0 1 0;
#X connect 49 0 2 0;
#X restore 677 341 pd display-data-to-knobs;
#N canvas 525 81 755 634 get-chromatic-note 0;
#X obj 104 11 inlet;
#X obj 141 104 int;
#X obj 141 129 mod 12;
#X floatatom 141 153 5 0 0 0 - - -;
#X obj 141 176 sel 0 1 2 3 4 5 6 7 8 9 10 11;
#X obj 104 61 t f f;
#X obj 104 36 * 24;
#X msg 141 566 label \$1;
#X msg 141 221 0;
#X msg 151 241 1;
#X msg 161 261 2;
#X msg 171 281 3;
#X msg 181 301 4;
#X msg 191 321 5;
#X msg 201 341 6;
#X msg 211 361 7;
#X msg 221 381 8;
#X msg 231 401 9;
#X msg 241 421 10;
#X msg 251 441 11;
#X obj 141 591 outlet;
#X obj 141 535 makefilename not-yet-set;
#X msg 141 508 set \$1;
#X floatatom 21 423 5 0 0 0 - - -;
#X obj 21 125 / 12;
#X obj 21 150 int;
#X obj 141 483 makefilename %%d|%d;
#X text 208 82 Convert the 0 - 1 value from the knobs into the oct|note
value;
#X text 305 475 "Gang" two makefilename objects together in order to
use two different float values in the symbol it creates. Check the
makefilename help for more info;
#X obj 21 174 - 1;
#X obj 21 446 t f f;
#X obj 22 484 < 0;
#X obj 22 508 sel 0 1;
#X msg 22 536 label_pos 8 38;
#X msg 22 566 label_pos 4 38;
#X connect 0 0 6 0;
#X connect 1 0 2 0;
#X connect 2 0 3 0;
#X connect 3 0 4 0;
#X connect 4 0 8 0;
#X connect 4 1 9 0;
#X connect 4 2 10 0;
#X connect 4 3 11 0;
#X connect 4 4 12 0;
#X connect 4 5 13 0;
#X connect 4 6 14 0;
#X connect 4 7 15 0;
#X connect 4 8 16 0;
#X connect 4 9 17 0;
#X connect 4 10 18 0;
#X connect 4 11 19 0;
#X connect 5 0 24 0;
#X connect 5 1 1 0;
#X connect 6 0 5 0;
#X connect 7 0 20 0;
#X connect 8 0 26 0;
#X connect 9 0 26 0;
#X connect 10 0 26 0;
#X connect 11 0 26 0;
#X connect 12 0 26 0;
#X connect 13 0 26 0;
#X connect 14 0 26 0;
#X connect 15 0 26 0;
#X connect 16 0 26 0;
#X connect 17 0 26 0;
#X connect 18 0 26 0;
#X connect 19 0 26 0;
#X connect 21 0 7 0;
#X connect 22 0 21 0;
#X connect 23 0 30 0;
#X connect 24 0 25 0;
#X connect 25 0 29 0;
#X connect 26 0 22 0;
#X connect 29 0 23 0;
#X connect 30 0 21 0;
#X connect 30 1 31 0;
#X connect 31 0 32 0;
#X connect 32 0 33 0;
#X connect 32 1 34 0;
#X connect 33 0 20 0;
#X connect 34 0 20 0;
#X restore 307 474 pd get-chromatic-note;
#X obj 177 343 r \$0-grid-knob-display-data-to-process;
#X obj 177 511 s \$0-grid-knob-display-data-after-processing;
#X obj 307 442 spigot;
#X msg 340 252 1;
#X obj 177 442 spigot;
#X msg 640 251 0;
#X obj 222 190 t b b;
#X obj 317 190 t b b;
#X msg 222 251 1;
#X obj 72 40 r \$0-global-state-1;
#X floatatom 677 316 5 0 0 0 - - -;
#X obj 640 276 t f f;
#X obj 340 277 t f f;
#X obj 222 276 t f f;
#N canvas 564 494 716 339 get-retrig 0;
#X obj 27 32 inlet current-retrig;
#X obj 27 89 int;
#X floatatom 74 87 5 0 0 0 - - -;
#X msg 27 247 label \$1;
#X obj 27 272 outlet;
#X obj 27 217 symbol;
#X msg 287 169 1/16;
#X msg 187 169 1/8, f 4;
#X msg 108 169 1/4;
#X msg 27 169 1/2;
#X msg 333 169 1/1;
#X obj 27 114 sel 1 2 3 4 5 6 7;
#X msg 67 169 1/3;
#X msg 148 169 1/6;
#X msg 237 169 1/12;
#X obj 27 64 * 7;
#X connect 0 0 15 0;
#X connect 1 0 2 0;
#X connect 1 0 11 0;
#X connect 3 0 4 0;
#X connect 5 0 3 0;
#X connect 6 0 5 0;
#X connect 7 0 5 0;
#X connect 8 0 5 0;
#X connect 9 0 5 0;
#X connect 10 0 5 0;
#X connect 11 0 9 0;
#X connect 11 1 12 0;
#X connect 11 2 8 0;
#X connect 11 3 13 0;
#X connect 11 4 7 0;
#X connect 11 5 14 0;
#X connect 11 6 6 0;
#X connect 11 7 10 0;
#X connect 12 0 5 0;
#X connect 13 0 5 0;
#X connect 14 0 5 0;
#X connect 15 0 1 0;
#X restore 177 474 pd get-retrig;
#X text 39 -3 Change the labels of the grid knobs based on the global
state.;
#N canvas 670 149 538 783 grid-knob-labels 0;
#X obj 173 669 pack s f;
#X obj 152 745 s;
#X obj 173 719 symbol;
#X floatatom 234 646 5 0 15 1 Grid_knob - -;
#X msg 152 542 label \$1;
#X obj 152 477 symbol;
#X obj 115 13 inlet;
#X symbolatom 152 515 10 0 0 0 - - -;
#X obj 115 448 t b s b;
#X obj 173 573 symbol \$0-grid-knob;
#X msg 16 600 label_pos 0 38;
#N canvas 0 81 448 393 convert-numbers 0;
#X msg 59 105 symbol 2_;
#X msg 69 125 symbol 3_;
#X msg 79 145 symbol 4_;
#X msg 49 85 symbol 1_;
#X obj 49 60 sel 1 2 3 4 5 6 7 8 9 0;
#X msg 89 165 symbol 5_;
#X msg 99 185 symbol 6_;
#X msg 109 205 symbol 7_;
#X msg 119 225 symbol 8_;
#X msg 129 245 symbol 9_;
#X msg 139 265 symbol 0_;
#X obj 49 29 inlet;
#X obj 49 335 t f;
#X obj 49 360 outlet;
#X obj 230 285 t a;
#X connect 0 0 12 0;
#X connect 1 0 12 0;
#X connect 2 0 12 0;
#X connect 3 0 12 0;
#X connect 4 0 3 0;
#X connect 4 1 0 0;
#X connect 4 2 1 0;
#X connect 4 3 2 0;
#X connect 4 4 5 0;
#X connect 4 5 6 0;
#X connect 4 6 7 0;
#X connect 4 7 8 0;
#X connect 4 8 9 0;
#X connect 4 9 10 0;
#X connect 4 10 14 0;
#X connect 5 0 12 0;
#X connect 6 0 12 0;
#X connect 7 0 12 0;
#X connect 8 0 12 0;
#X connect 9 0 12 0;
#X connect 10 0 12 0;
#X connect 11 0 4 0;
#X connect 12 0 13 0;
#X connect 14 0 13 0;
#X restore 115 416 pd convert-numbers;
#X obj 115 345 list split 1;
#X obj 115 299 list append;
#X obj 245 345 bang;
#X obj 115 248 f 0;
#X obj 153 248 + 1;
#X msg 136 220 0;
#X obj 115 273 t b f;
#X obj 161 379 t b a;
#X obj 115 194 spigot;
#X msg 189 139 1;
#X msg 197 166 0;
#X obj 115 99 t b b a b;
#X obj 296 90 r \$0-gui-label-update-delay;
#X obj 115 124 del 50;
#X msg 173 694 \$1-\$2-r;
#X connect 0 0 26 0;
#X connect 2 0 1 1;
#X connect 3 0 0 1;
#X connect 4 0 1 0;
#X connect 5 0 7 0;
#X connect 6 0 23 0;
#X connect 7 0 4 0;
#X connect 8 0 10 0;
#X connect 8 1 5 0;
#X connect 8 2 9 0;
#X connect 9 0 0 0;
#X connect 10 0 1 0;
#X connect 11 0 8 0;
#X connect 12 0 11 0;
#X connect 12 1 19 0;
#X connect 12 2 14 0;
#X connect 13 0 12 0;
#X connect 14 0 22 0;
#X connect 15 0 16 0;
#X connect 15 0 18 0;
#X connect 16 0 15 1;
#X connect 17 0 15 1;
#X connect 18 0 13 0;
#X connect 18 1 3 0;
#X connect 19 0 25 0;
#X connect 19 1 13 1;
#X connect 20 0 15 0;
#X connect 21 0 20 1;
#X connect 22 0 20 1;
#X connect 23 0 25 0;
#X connect 23 1 17 0;
#X connect 23 2 13 1;
#X connect 23 3 21 0;
#X connect 24 0 25 1;
#X connect 25 0 20 0;
#X connect 26 0 2 0;
#X restore 539 511 pd grid-knob-labels;
#X obj 412 190 t b b;
#X obj 508 190 t b b;
#X obj 72 98 spigot 1;
#X obj 133 68 r \$0-display-grid-knob-labels;
#X obj 177 397 spigot 1;
#X obj 238 367 r \$0-display-grid-knob-labels;
#N canvas 814 327 850 462 midi-mapper-labels 0;
#X obj 107 130 r \$0-midi-mapper-active;
#X obj 46 33 inlet;
#X obj 160 409 outlet;
#X obj 46 283 spigot 1;
#X obj 107 234 == 0;
#X obj 160 239 sel 1 0;
#X text 165 30 If the midi mapper is active \, clear the lables \,
otherwise bang the function labels;
#X obj 240 248 spigot;
#X obj 160 336 list;
#X obj 107 155 t f f f;
#X obj 240 209 r \$0-packed-midi-notes-for-grid-knobs;
#X obj 333 308 print grid-knob-labels;
#X obj 333 278 spigot;
#X obj 378 248 r \$0-debug-log;
#X connect 0 0 9 0;
#X connect 1 0 3 0;
#X connect 3 0 8 0;
#X connect 4 0 3 1;
#X connect 5 0 8 0;
#X connect 7 0 2 0;
#X connect 7 0 12 0;
#X connect 8 0 2 0;
#X connect 9 0 4 0;
#X connect 9 1 7 1;
#X connect 9 2 5 0;
#X connect 10 0 7 0;
#X connect 10 0 8 1;
#X connect 12 0 11 0;
#X connect 13 0 12 1;
#X restore 603 366 pd midi-mapper-labels;
#N canvas 74 81 548 785 grid-knob-labels-only-numbers 0;
#X obj 199 660 pack s f;
#X obj 178 736 s;
#X obj 199 710 symbol;
#X floatatom 260 637 5 0 15 1 Grid_knob - -;
#X msg 178 533 label \$1;
#X obj 178 468 symbol;
#X msg 41 533 label_pos \$1 \$2;
#X msg 41 510 0 38;
#X obj 141 48 inlet;
#X symbolatom 178 506 10 0 0 0 - - -;
#N canvas 442 148 720 314 convert-numbers 0;
#X obj 49 29 inlet;
#X obj 49 214 outlet;
#X text 210 37 A symbol cannot contain just a float \, so we have to
convert the float to a symbol that can be displayed. In this case I
added an underscore after the number \, and that was enough.;
#X msg 163 148 \$1_;
#X obj 94 100 sel empty;
#X msg 49 141 empty;
#X obj 49 185 t a;
#X text 210 107 I also replace -1 with empty \, because I used -1 to
represent unmapped midi controls.;
#X obj 49 70 sel -1;
#X connect 0 0 8 0;
#X connect 3 0 6 0;
#X connect 4 0 5 0;
#X connect 4 1 3 0;
#X connect 5 0 6 0;
#X connect 6 0 1 0;
#X connect 8 0 5 0;
#X connect 8 1 4 0;
#X restore 141 404 pd convert-numbers;
#X obj 141 331 list split 1;
#X obj 141 285 list append;
#X obj 269 241 bang;
#X obj 141 234 f 0;
#X obj 179 234 + 1;
#X msg 162 206 0;
#X obj 141 259 t b f;
#X obj 187 365 t b a;
#X obj 141 180 spigot;
#X msg 215 125 1;
#X msg 223 152 0;
#X obj 141 85 t b b a b;
#X obj 257 70 r \$0-gui-label-update-delay;
#X obj 141 130 del 50;
#X msg 199 685 \$1-\$2-r;
#X obj 141 439 t b a b;
#X obj 199 563 symbol \$0-grid-knob;
#X text 36 15 Apply the grid knob labels to the correct grid knobs
;
#X connect 0 0 25 0;
#X connect 2 0 1 1;
#X connect 3 0 0 1;
#X connect 4 0 1 0;
#X connect 5 0 9 0;
#X connect 6 0 1 0;
#X connect 7 0 6 0;
#X connect 8 0 22 0;
#X connect 9 0 4 0;
#X connect 10 0 26 0;
#X connect 11 0 10 0;
#X connect 11 1 18 0;
#X connect 11 2 13 0;
#X connect 12 0 11 0;
#X connect 13 0 21 0;
#X connect 14 0 15 0;
#X connect 14 0 17 0;
#X connect 15 0 14 1;
#X connect 16 0 14 1;
#X connect 17 0 12 0;
#X connect 17 1 3 0;
#X connect 18 0 24 0;
#X connect 18 1 12 1;
#X connect 19 0 14 0;
#X connect 20 0 19 1;
#X connect 21 0 19 1;
#X connect 22 0 24 0;
#X connect 22 1 16 0;
#X connect 22 2 12 1;
#X connect 22 3 20 0;
#X connect 23 0 24 1;
#X connect 24 0 19 0;
#X connect 25 0 2 0;
#X connect 26 0 7 0;
#X connect 26 1 5 0;
#X connect 26 2 27 0;
#X connect 27 0 0 0;
#X restore 746 511 pd grid-knob-labels-only-numbers;
#X obj 72 123 t a a;
#N canvas 425 313 1281 613 grid-knobs-cnv 0;
#X obj 1059 66 r \$0-colors-packed;
#X obj 40 35 inlet;
#X text 28 554 Color the background canvas;
#X obj 40 243 t b;
#X obj 92 435 t a;
#X obj 502 285 list;
#X obj 450 243 t b;
#X obj 502 435 t a;
#X msg 92 320 color \$2 \$2 \$1;
#X obj 1152 285 list;
#X obj 1100 243 t b;
#X obj 1152 435 t a;
#X msg 1096 378 label_pos 67 95;
#X msg 1078 354 label empty;
#X msg 1152 320 color \$2 \$2 \$2;
#X obj 302 285 list;
#X obj 250 243 t b;
#X obj 302 435 t a;
#X msg 302 320 color \$2 \$2 \$1;
#X obj 92 485 s \$0-cnv-grid-knobs-label-r;
#X msg 18 354 label VOLUME;
#X msg 228 354 label PITCH;
#X msg 502 320 color \$2 \$2 \$1;
#X msg 36 378 label_pos 80 80;
#X msg 246 378 label_pos 82 95;
#X obj 732 285 list;
#X obj 680 243 t b;
#X obj 721 426 t a;
#X msg 732 320 color \$2 \$2 \$1;
#X msg 428 354 label SAMPLE_START_POSITION;
#X msg 658 354 label SAMPLE_LENGTH;
#X msg 446 378 label_pos 35 80;
#X msg 676 378 label_pos 60 80;
#X obj 40 60 sel one-shot-mode write-mode sound-mode samples-mode bpm-mode
;
#X obj 942 285 list;
#X obj 890 243 t b;
#X obj 931 426 t a;
#X msg 942 320 color \$2 \$2 \$1;
#X msg 868 354 label RETRIG;
#X msg 886 378 label_pos 80 95;
#X obj 92 285 list 0 0 0;
#X connect 0 0 5 1;
#X connect 0 0 5 0;
#X connect 0 0 9 0;
#X connect 0 0 9 1;
#X connect 0 0 15 0;
#X connect 0 0 15 1;
#X connect 0 0 25 0;
#X connect 0 0 25 1;
#X connect 0 0 34 0;
#X connect 0 0 34 1;
#X connect 0 0 40 1;
#X connect 0 0 40 0;
#X connect 1 0 33 0;
#X connect 3 0 20 0;
#X connect 3 0 23 0;
#X connect 3 0 40 0;
#X connect 4 0 19 0;
#X connect 5 0 22 0;
#X connect 6 0 5 0;
#X connect 6 0 29 0;
#X connect 6 0 31 0;
#X connect 7 0 19 0;
#X connect 8 0 4 0;
#X connect 9 0 14 0;
#X connect 10 0 9 0;
#X connect 10 0 13 0;
#X connect 10 0 12 0;
#X connect 11 0 19 0;
#X connect 12 0 11 0;
#X connect 13 0 11 0;
#X connect 14 0 11 0;
#X connect 15 0 18 0;
#X connect 16 0 15 0;
#X connect 16 0 21 0;
#X connect 16 0 24 0;
#X connect 17 0 19 0;
#X connect 18 0 17 0;
#X connect 20 0 4 0;
#X connect 21 0 17 0;
#X connect 22 0 7 0;
#X connect 23 0 4 0;
#X connect 24 0 17 0;
#X connect 25 0 28 0;
#X connect 26 0 25 0;
#X connect 26 0 30 0;
#X connect 26 0 32 0;
#X connect 27 0 19 0;
#X connect 28 0 27 0;
#X connect 29 0 7 0;
#X connect 30 0 27 0;
#X connect 31 0 7 0;
#X connect 32 0 27 0;
#X connect 33 0 3 0;
#X connect 33 1 16 0;
#X connect 33 2 6 0;
#X connect 33 3 26 0;
#X connect 33 4 35 0;
#X connect 33 5 10 0;
#X connect 34 0 37 0;
#X connect 35 0 34 0;
#X connect 35 0 38 0;
#X connect 35 0 39 0;
#X connect 36 0 19 0;
#X connect 37 0 36 0;
#X connect 38 0 36 0;
#X connect 39 0 36 0;
#X connect 40 0 8 0;
#X restore 72 165 pd grid-knobs-cnv;
#X obj 222 165 sel bpm-mode write-mode fx-mode funct-mode midi-mapper-state
;
#X obj 603 190 t b b;
#X msg 539 441 PITCH PITCH MIX CRUSH SPEED SPEED DRIVE COMP SPEED TIME
FREQ FREQ SIZE TIME TIME WET;
#X msg 508 392 empty empty COMP1 METRO empty empty COMP2 RESMPL AMNT
AMNT AMNT AMNT AMNT AMNT AMNT AMNT;
#X connect 1 0 3 0;
#X connect 2 0 23 0;
#X connect 4 0 1 0;
#X connect 5 0 14 0;
#X connect 6 0 16 0;
#X connect 7 0 13 0;
#X connect 8 0 10 0;
#X connect 8 1 7 0;
#X connect 9 0 5 0;
#X connect 9 1 7 0;
#X connect 10 0 15 0;
#X connect 11 0 21 0;
#X connect 12 0 0 0;
#X connect 13 0 4 1;
#X connect 13 0 6 1;
#X connect 13 1 12 0;
#X connect 14 0 4 1;
#X connect 14 1 12 0;
#X connect 15 0 6 1;
#X connect 15 1 12 0;
#X connect 16 0 3 0;
#X connect 19 0 31 0;
#X connect 19 1 7 0;
#X connect 20 0 32 0;
#X connect 20 1 7 0;
#X connect 21 0 27 0;
#X connect 22 0 21 1;
#X connect 23 0 6 0;
#X connect 23 0 4 0;
#X connect 24 0 23 1;
#X connect 25 0 26 0;
#X connect 27 0 28 0;
#X connect 27 1 29 0;
#X connect 29 0 8 0;
#X connect 29 1 9 0;
#X connect 29 2 19 0;
#X connect 29 3 20 0;
#X connect 29 4 30 0;
#X connect 29 5 7 0;
#X connect 30 0 25 0;
#X connect 30 1 7 0;
#X connect 31 0 18 0;
#X connect 32 0 18 0;
#X restore 22 102 pd change-knob-labels;
#N canvas 420 440 570 402 console-help-messages 0;
#X obj 46 116 sel 1;
#X obj 46 288 print TBC_HELP;
#X obj 46 91 r \$0-ext-step-btn-0-s;
#X msg 46 147 . \, _______EXT_STEP_______ \, --- The PLAY button must
be ON to use the EXT_STEP inlet. \, --- To change pattern in EXT_STEP
mode: \, ------ Bang the pattern inlet.;
#X text 23 9 Console help messages displayed here.;
#X text 43 39 Currently EXP_STEP is the only thing I think is worth
having a specific help message printed to the console.;
#X obj 46 249 spigot;
#X obj 91 219 r \$0-help-messages;
#X connect 0 0 3 0;
#X connect 2 0 0 0;
#X connect 3 0 6 0;
#X connect 6 0 1 0;
#X connect 7 0 6 1;
#X restore 22 172 pd console-help-messages;
#N canvas 67 252 806 420 change-other-button-labels 0;
#X obj 117 33 r \$0-midi-mapper-active;
#X obj 170 142 sel 1 0;
#X obj 170 239 list;
#X obj 117 58 t f f f;
#X obj 236 107 r \$0-packed-midi-notes-for-other-buttons;
#X obj 236 239 spigot;
#X text 289 68 Change the labels to show the midi note mapped to that
button;
#X obj 472 137 r \$0-packed-midi-notes-for-a-b-knobs;
#X msg 28 323 SOUND PATTERN BPM SAMPLES EXT_STEP KEYBRD MIDI_MAP FUNCT
FX PLAY WRITE VOLUME EXT_VOL;
#X obj 420 239 list;
#X obj 472 239 spigot;
#N canvas 536 81 643 718 a-b-labels-only-numbers 0;
#X obj 141 38 inlet;
#N canvas 432 138 720 270 convert-numbers 0;
#X obj 49 29 inlet;
#X obj 49 214 outlet;
#X text 210 37 A symbol cannot contain just a float \, so we have to
convert the float to a symbol that can be displayed. In this case I
added an underscore after the number \, and that was enough.;
#X msg 163 154 \$1_;
#X obj 94 96 sel empty;
#X msg 49 141 empty;
#X obj 49 185 t a;
#X obj 49 67 sel -1;
#X text 210 107 I also replace -1 with empty \, because I used -1 to
represent unmapped midi controls.;
#X connect 0 0 7 0;
#X connect 3 0 6 0;
#X connect 4 0 5 0;
#X connect 4 1 3 0;
#X connect 5 0 6 0;
#X connect 6 0 1 0;
#X connect 7 0 5 0;
#X connect 7 1 4 0;
#X restore 141 394 pd convert-numbers;
#X obj 141 321 list split 1;
#X obj 141 275 list append;
#X obj 269 231 bang;
#X obj 141 224 f 0;
#X obj 179 224 + 1;
#X obj 141 249 t b f;
#X obj 187 355 t b a;
#X obj 141 170 spigot;
#X msg 215 115 1;
#X msg 223 142 0;
#X obj 141 75 t b b a b;
#X obj 257 60 r \$0-gui-label-update-delay;
#X obj 141 120 del 50;
#X obj 141 429 t b a b;
#X obj 193 663 s;
#X floatatom 303 422 5 0 15 1 button_num - -;
#X msg 193 530 label \$1;
#X obj 193 465 symbol;
#X symbolatom 193 503 10 0 0 0 - - -;
#X obj 282 449 f;
#X msg 58 531 label_pos 0 38;
#X obj 282 591 symbol \$0-knob-0-r;
#X obj 308 571 symbol \$0-knob-1-r;
#X obj 282 479 sel 0 1;
#X msg 162 199 0, f 2;
#X connect 0 0 12 0;
#X connect 1 0 15 0;
#X connect 2 0 1 0;
#X connect 2 1 8 0;
#X connect 2 2 4 0;
#X connect 3 0 2 0;
#X connect 4 0 11 0;
#X connect 5 0 6 0;
#X connect 5 0 7 0;
#X connect 6 0 5 1;
#X connect 7 0 3 0;
#X connect 7 1 17 0;
#X connect 8 0 14 0;
#X connect 8 1 3 1;
#X connect 9 0 5 0;
#X connect 10 0 9 1;
#X connect 11 0 9 1;
#X connect 12 0 14 0;
#X connect 12 1 26 0;
#X connect 12 2 3 1;
#X connect 12 3 10 0;
#X connect 13 0 14 1;
#X connect 14 0 9 0;
#X connect 15 0 22 0;
#X connect 15 1 19 0;
#X connect 15 2 21 0;
#X connect 17 0 21 1;
#X connect 18 0 16 0;
#X connect 19 0 20 0;
#X connect 20 0 18 0;
#X connect 21 0 25 0;
#X connect 22 0 16 0;
#X connect 23 0 16 1;
#X connect 24 0 16 1;
#X connect 25 0 23 0;
#X connect 25 1 24 0;
#X connect 26 0 5 1;
#X restore 420 375 pd a-b-labels-only-numbers;
#N canvas 332 81 918 837 labels 0;
#X obj 382 810 s;
#X floatatom 493 389 5 0 15 1 - - -;
#X msg 382 497 label \$1;
#X obj 382 432 symbol;
#X obj 345 4 inlet;
#X symbolatom 382 470 10 0 0 0 - - -;
#X obj 345 385 t b s b;
#N canvas 0 81 448 393 convert-numbers 0;
#X msg 59 105 symbol 2_;
#X msg 69 125 symbol 3_;
#X msg 79 145 symbol 4_;
#X msg 49 85 symbol 1_;
#X obj 49 60 sel 1 2 3 4 5 6 7 8 9 0;
#X msg 89 165 symbol 5_;
#X msg 99 185 symbol 6_;
#X msg 109 205 symbol 7_;
#X msg 119 225 symbol 8_;
#X msg 129 245 symbol 9_;
#X msg 139 265 symbol 0_;
#X obj 49 29 inlet;
#X obj 49 335 t f;
#X obj 49 360 outlet;
#X obj 230 285 t a;
#X connect 0 0 12 0;
#X connect 1 0 12 0;
#X connect 2 0 12 0;
#X connect 3 0 12 0;
#X connect 4 0 3 0;
#X connect 4 1 0 0;
#X connect 4 2 1 0;
#X connect 4 3 2 0;
#X connect 4 4 5 0;
#X connect 4 5 6 0;
#X connect 4 6 7 0;
#X connect 4 7 8 0;
#X connect 4 8 9 0;
#X connect 4 9 10 0;
#X connect 4 10 14 0;
#X connect 5 0 12 0;
#X connect 6 0 12 0;
#X connect 7 0 12 0;
#X connect 8 0 12 0;
#X connect 9 0 12 0;
#X connect 10 0 12 0;
#X connect 11 0 4 0;
#X connect 12 0 13 0;
#X connect 14 0 13 0;
#X restore 345 351 pd convert-numbers;
#X obj 345 280 list split 1;
#X obj 345 234 list append;
#X obj 496 280 bang;
#X obj 345 183 f 0;
#X obj 383 183 + 1;
#X msg 366 155 0;
#X obj 345 208 t b f;
#X obj 391 314 t b a;
#X obj 345 129 spigot;
#X msg 419 74 1;
#X msg 421 102 0;
#X obj 345 34 t b b a b;
#X obj 526 25 r \$0-gui-label-update-delay;
#X obj 345 69 del 50;
#X obj 472 416 f;
#X obj 423 752 symbol \$0-pattern-btn-r;
#X obj 443 732 symbol \$0-bpm-btn-r;
#X obj 463 712 symbol \$0-samples-btn-r;
#X obj 403 772 symbol \$0-sound-btn-r;
#X obj 483 692 symbol \$0-ext-step-btn-r;
#X obj 523 652 symbol \$0-midi-control-btn-r;
#X obj 543 632 symbol \$0-funct-btn-r;
#X obj 563 612 symbol \$0-fx-btn-r;
#X obj 583 592 symbol \$0-play-btn-r;
#X obj 603 572 symbol \$0-write-btn-r;
#X obj 503 672 symbol \$0-key-control-btn-r;
#X floatatom 87 434 5 0 15 1 - - -;
#X obj 66 461 f;
#X msg 66 773 label_pos 0 38;
#X msg 206 633 label_pos 0 38;
#X obj 284 761 t a;
#X msg 86 753 label_pos -5 38;
#X msg 106 733 label_pos 5 38;
#X msg 126 713 label_pos -6 38;
#X msg 146 693 label_pos -7 38;
#X msg 167 673 label_pos -3 38;
#X msg 226 613 label_pos 8 38;
#X msg 246 593 label_pos 3 38;
#X msg 266 573 label_pos 1 38;
#X msg 186 653 label_pos -8 38;
#X msg 286 553 label_pos 0 38;
#X msg 306 533 label_pos 0 38;
#X obj 66 491 sel 0 1 2 3 4 5 6 7 8 9 10 11 12;
#X obj 472 446 sel 0 1 2 3 4 5 6 7 8 9 10 11 12;
#X obj 623 552 symbol \$0-knob-0-r;
#X obj 643 532 symbol \$0-knob-1-r;
#X connect 1 0 22 1;
#X connect 2 0 0 0;
#X connect 3 0 5 0;
#X connect 4 0 19 0;
#X connect 5 0 2 0;
#X connect 6 0 35 0;
#X connect 6 1 3 0;
#X connect 6 2 22 0;
#X connect 7 0 6 0;
#X connect 8 0 7 0;
#X connect 8 1 15 0;
#X connect 8 2 10 0;
#X connect 9 0 8 0;
#X connect 10 0 18 0;
#X connect 11 0 12 0;
#X connect 11 0 14 0;
#X connect 12 0 11 1;
#X connect 13 0 11 1;
#X connect 14 0 9 0;
#X connect 14 1 1 0;
#X connect 14 1 34 0;
#X connect 15 0 21 0;
#X connect 15 1 9 1;
#X connect 16 0 11 0;
#X connect 17 0 16 1;
#X connect 18 0 16 1;
#X connect 19 0 21 0;
#X connect 19 1 13 0;
#X connect 19 2 9 1;
#X connect 19 3 17 0;
#X connect 20 0 21 1;
#X connect 21 0 16 0;
#X connect 22 0 51 0;
#X connect 23 0 0 1;
#X connect 24 0 0 1;
#X connect 25 0 0 1;
#X connect 26 0 0 1;
#X connect 27 0 0 1;
#X connect 28 0 0 1;
#X connect 29 0 0 1;
#X connect 30 0 0 1;
#X connect 31 0 0 1;
#X connect 32 0 0 1;
#X connect 33 0 0 1;
#X connect 34 0 35 1;
#X connect 35 0 50 0;
#X connect 36 0 38 0;
#X connect 37 0 38 0;
#X connect 38 0 0 0;
#X connect 39 0 38 0;
#X connect 40 0 38 0;
#X connect 41 0 38 0;
#X connect 42 0 38 0;
#X connect 43 0 38 0;
#X connect 44 0 38 0;
#X connect 45 0 38 0;
#X connect 46 0 38 0;
#X connect 47 0 38 0;
#X connect 48 0 38 0;
#X connect 49 0 38 0;
#X connect 50 0 36 0;
#X connect 50 1 39 0;
#X connect 50 2 40 0;
#X connect 50 3 41 0;
#X connect 50 4 42 0;
#X connect 50 5 43 0;
#X connect 50 6 47 0;
#X connect 50 7 37 0;
#X connect 50 8 44 0;
#X connect 50 9 45 0;
#X connect 50 10 46 0;
#X connect 50 11 48 0;
#X connect 50 12 49 0;
#X connect 51 0 26 0;
#X connect 51 1 23 0;
#X connect 51 2 24 0;
#X connect 51 3 25 0;
#X connect 51 4 27 0;
#X connect 51 5 33 0;
#X connect 51 6 28 0;
#X connect 51 7 29 0;
#X connect 51 8 30 0;
#X connect 51 9 31 0;
#X connect 51 10 32 0;
#X connect 51 11 52 0;
#X connect 51 12 53 0;
#X connect 52 0 0 1;
#X connect 53 0 0 1;
#X restore 28 375 pd labels;
#N canvas 536 81 643 875 labels-only-numbers 0;
#X obj 141 38 inlet;
#N canvas 432 138 720 292 convert-numbers 0;
#X obj 49 29 inlet;
#X obj 49 214 outlet;
#X text 210 37 A symbol cannot contain just a float \, so we have to
convert the float to a symbol that can be displayed. In this case I
added an underscore after the number \, and that was enough.;
#X msg 163 140 \$1_;
#X obj 94 82 sel empty;
#X msg 49 111 empty;
#X obj 49 185 t a;
#X text 210 107 I also replace -1 with empty \, because I used -1 to
represent unmapped midi controls.;
#X obj 49 54 sel -1;
#X connect 0 0 8 0;
#X connect 3 0 6 0;
#X connect 4 0 5 0;
#X connect 4 1 3 0;
#X connect 5 0 6 0;
#X connect 6 0 1 0;
#X connect 8 0 5 0;
#X connect 8 1 4 0;
#X restore 141 394 pd convert-numbers;
#X obj 141 321 list split 1;
#X obj 141 275 list append;
#X obj 269 231 bang;
#X obj 141 224 f 0;
#X obj 179 224 + 1;
#X obj 141 249 t b f;
#X obj 187 355 t b a;
#X obj 141 170 spigot;
#X msg 215 115 1;
#X msg 223 142 0;
#X obj 141 75 t b b a b;
#X obj 257 60 r \$0-gui-label-update-delay;
#X obj 141 120 del 50;
#X text 51 6 Apply the grid button labels to the correct grid buttons
;
#X obj 141 429 t b a b;
#X obj 193 843 s;
#X floatatom 304 422 5 0 15 1 button_num - -;
#X msg 193 530 label \$1;
#X obj 193 465 symbol;
#X symbolatom 193 503 10 0 0 0 - - -;
#X obj 283 449 f;
#X obj 234 785 symbol \$0-pattern-btn-r;
#X obj 254 765 symbol \$0-bpm-btn-r;
#X obj 274 745 symbol \$0-samples-btn-r;
#X obj 214 805 symbol \$0-sound-btn-r;
#X obj 294 725 symbol \$0-ext-step-btn-r;
#X obj 334 685 symbol \$0-midi-control-btn-r;
#X obj 354 665 symbol \$0-funct-btn-r;
#X obj 374 645 symbol \$0-fx-btn-r;
#X obj 394 625 symbol \$0-play-btn-r;
#X obj 414 605 symbol \$0-write-btn-r;
#X obj 314 705 symbol \$0-key-control-btn-r;
#X msg 58 531 label_pos 0 38;
#X obj 283 489 sel 0 1 2 3 4 5 6 7 8 9 10;
#X msg 164 198 0;
#X connect 0 0 12 0;
#X connect 1 0 16 0;
#X connect 2 0 1 0;
#X connect 2 1 8 0;
#X connect 2 2 4 0;
#X connect 3 0 2 0;
#X connect 4 0 11 0;
#X connect 5 0 6 0;
#X connect 5 0 7 0;
#X connect 6 0 5 1;
#X connect 7 0 3 0;
#X connect 7 1 18 0;
#X connect 8 0 14 0;
#X connect 8 1 3 1;
#X connect 9 0 5 0;
#X connect 10 0 9 1;
#X connect 11 0 9 1;
#X connect 12 0 14 0;
#X connect 12 1 36 0;
#X connect 12 2 3 1;
#X connect 12 3 10 0;
#X connect 13 0 14 1;
#X connect 14 0 9 0;
#X connect 16 0 34 0;
#X connect 16 1 20 0;
#X connect 16 2 22 0;
#X connect 18 0 22 1;
#X connect 19 0 17 0;
#X connect 20 0 21 0;
#X connect 21 0 19 0;
#X connect 22 0 35 0;
#X connect 23 0 17 1;
#X connect 24 0 17 1;
#X connect 25 0 17 1;
#X connect 26 0 17 1;
#X connect 27 0 17 1;
#X connect 28 0 17 1;
#X connect 29 0 17 1;
#X connect 30 0 17 1;
#X connect 31 0 17 1;
#X connect 32 0 17 1;
#X connect 33 0 17 1;
#X connect 34 0 17 0;
#X connect 35 0 26 0;
#X connect 35 1 23 0;
#X connect 35 2 24 0;
#X connect 35 3 25 0;
#X connect 35 4 27 0;
#X connect 35 5 33 0;
#X connect 35 6 28 0;
#X connect 35 7 29 0;
#X connect 35 8 30 0;
#X connect 35 9 31 0;
#X connect 35 10 32 0;
#X connect 36 0 5 1;
#X restore 170 375 pd labels-only-numbers;
#X connect 0 0 3 0;
#X connect 1 0 2 0;
#X connect 1 0 9 0;
#X connect 1 1 8 0;
#X connect 2 0 13 0;
#X connect 3 1 5 1;
#X connect 3 1 10 1;
#X connect 3 2 1 0;
#X connect 4 0 2 1;
#X connect 4 0 5 0;
#X connect 5 0 13 0;
#X connect 7 0 10 0;
#X connect 7 0 9 1;
#X connect 8 0 12 0;
#X connect 9 0 11 0;
#X connect 10 0 11 0;
#X restore 22 122 pd change-other-button-labels;
#N canvas 229 492 380 207 handle-play-pause 0;
#X obj 44 53 r \$0-play-btn-0-s;
#X obj 44 143 s \$0-playing;
#X obj 44 113 spigot 1;
#X obj 105 83 r \$0-can-play-pattern;
#X connect 0 0 2 0;
#X connect 2 0 1 0;
#X connect 3 0 2 1;
#X restore 22 152 pd handle-play-pause;
#N canvas 224 71 872 581 handle-special-state-changes 0;
#X obj 69 147 r \$0-global-state-1;
#X obj 69 297 s \$0-can-switch-to-write-mode;
#X msg 69 227 0;
#X msg 242 227 1;
#X text 37 15 Handle special case state changes here.;
#X obj 69 177 sel fx-mode funct-mode;
#X text 67 45 In FX mode \, the WRITE button is used to turn on FX
record;
#X text 67 75 In FUNCT mode \, the WRITE button is used to turn on
one-shot record \, aka "looper" mode;
#X obj 68 467 symbol;
#X obj 68 497 s \$0-global-state-stored;
#X obj 113 437 r \$0-global-state-on;
#X obj 68 407 r \$0-get-global-state;
#X text 269 496 <-- This is used for expander modules;
#X text 301 423 Expander modules can be created at any point. When
they first appear in the patch they need to know what state TBC is
in.;
#X obj 319 147 r \$0-global-state-1;
#X msg 319 227 0;
#X msg 428 227 1;
#X obj 319 177 sel funct-mode;
#X obj 319 297 s \$0-can-play-pattern;
#X connect 0 0 5 0;
#X connect 2 0 1 0;
#X connect 3 0 1 0;
#X connect 5 0 2 0;
#X connect 5 1 2 0;
#X connect 5 2 3 0;
#X connect 8 0 9 0;
#X connect 10 0 8 1;
#X connect 11 0 8 0;
#X connect 14 0 17 0;
#X connect 15 0 18 0;
#X connect 16 0 18 0;
#X connect 17 0 15 0;
#X connect 17 1 16 0;
#X restore 22 52 pd handle-special-state-changes;
#X restore 525 247 pd states;
#N canvas 292 156 501 350 patterns 0;
#N canvas 813 139 853 607 load-to-grid 0;
#X obj 38 479 t a b;
#X msg 75 509 gate;
#N canvas 688 144 648 770 load-seq-to-grid 0;
#X obj 66 581 pack s f;
#X obj 40 689 s;
#X obj 66 631 symbol;
#X obj 66 527 symbol \$0-grid-btn;
#X floatatom 127 558 5 0 15 1 Grid_position - -;
#X obj 40 248 until;
#X msg 40 219 16;
#X obj 77 305 f 0;
#X obj 115 305 + 1;
#X floatatom 77 330 5 0 0 0 - - -;
#X msg 98 220 0;
#X obj 40 182 t b b a;
#X obj 77 352 t f f;
#X obj 40 157 inlet packed-seq;
#X obj 40 398 f;
#X obj 40 273 t b b b;
#X obj 207 466 symbol \$0-grid-btn;
#X obj 227 486 symbol \$0-grid-knob;
#X obj 207 157 inlet btn-or-knob;
#X obj 207 204 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 269 204 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 207 182 route gate pitch retrig;
#X obj 327 204 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X msg 66 606 \$1-\$2-r;
#X obj 318 277 array set \$0-load-to-grid;
#X obj 318 307 array define \$0-load-to-grid 16;
#X obj 40 427 array get \$0-load-to-grid 0 1;
#X text 76 34 Load the input sequence into the corresponding grid button
or knob;
#X connect 0 0 23 0;
#X connect 2 0 1 1;
#X connect 3 0 0 0;
#X connect 4 0 0 1;
#X connect 5 0 15 0;
#X connect 6 0 5 0;
#X connect 7 0 8 0;
#X connect 7 0 9 0;
#X connect 8 0 7 1;
#X connect 9 0 12 0;
#X connect 10 0 7 1;
#X connect 11 0 6 0;
#X connect 11 1 10 0;
#X connect 11 2 24 0;
#X connect 12 0 14 1;
#X connect 12 1 4 0;
#X connect 13 0 11 0;
#X connect 14 0 26 0;
#X connect 15 0 14 0;
#X connect 15 1 3 0;
#X connect 15 2 7 0;
#X connect 16 0 3 1;
#X connect 17 0 3 1;
#X connect 18 0 21 0;
#X connect 19 0 16 0;
#X connect 20 0 17 0;
#X connect 21 0 19 0;
#X connect 21 1 20 0;
#X connect 21 2 22 0;
#X connect 22 0 17 0;
#X connect 23 0 2 0;
#X connect 26 0 1 0;
#X restore 38 550 pd load-seq-to-grid;
#X obj 150 479 t a b;
#X msg 187 509 pitch;
#X obj 38 49 r \$0-packed-gate-seq;
#X obj 150 79 r \$0-packed-pitch-seq;
#X obj 38 441 spigot;
#X obj 150 441 spigot;
#X obj 310 297 == 0;
#X obj 310 269 r \$0-saving-to-disk;
#X text 366 294 Only load to grid if we are not saving or loading from
disk;
#X obj 320 347 == 0;
#X obj 320 322 r \$0-loading-from-disk;
#X obj 265 109 r \$0-packed-retrig-seq;
#X obj 265 481 t a b;
#X obj 265 443 spigot;
#X msg 302 511 retrig;
#X text 36 16 Load the selected seq to the grid;
#X obj 331 397 == 0;
#X obj 331 372 r \$0-updating-pattern;
#X obj 38 231 spigot 1;
#X obj 150 231 spigot 1;
#X obj 265 231 spigot 1;
#X obj 326 186 == 0;
#X obj 326 156 r \$0-getting-packed-seq-for-record-mode;
#X connect 0 0 2 0;
#X connect 0 1 1 0;
#X connect 1 0 2 1;
#X connect 3 0 2 0;
#X connect 3 1 4 0;
#X connect 4 0 2 1;
#X connect 5 0 21 0;
#X connect 6 0 22 0;
#X connect 7 0 0 0;
#X connect 8 0 3 0;
#X connect 9 0 7 1;
#X connect 9 0 8 1;
#X connect 9 0 16 1;
#X connect 10 0 9 0;
#X connect 12 0 7 1;
#X connect 12 0 8 1;
#X connect 12 0 16 1;
#X connect 13 0 12 0;
#X connect 14 0 23 0;
#X connect 15 0 2 0;
#X connect 15 1 17 0;
#X connect 16 0 15 0;
#X connect 17 0 2 1;
#X connect 19 0 7 1;
#X connect 19 0 8 1;
#X connect 19 0 16 1;
#X connect 20 0 19 0;
#X connect 21 0 7 0;
#X connect 22 0 8 0;
#X connect 23 0 16 0;
#X connect 24 0 23 1;
#X connect 24 0 22 1;
#X connect 24 0 21 1;
#X connect 25 0 24 0;
#X restore 37 204 pd load-to-grid;
#N canvas 65 81 1215 885 load-pattern-from-disk 0;
#N canvas 0 81 450 300 loop-16 0;
#X obj 64 137 until;
#X msg 64 110 16;
#X obj 64 17 inlet bang;
#X obj 58 264 outlet;
#X obj 64 42 t b b;
#X obj 138 266 outlet done;
#X obj 64 187 t a a;
#X msg 101 110 0;
#X obj 64 162 f 0;
#X obj 138 242 sel 15;
#X obj 105 162 + 1;
#X connect 0 0 8 0;
#X connect 1 0 0 0;
#X connect 2 0 4 0;
#X connect 4 0 1 0;
#X connect 4 1 7 0;
#X connect 6 0 9 0;
#X connect 6 1 3 0;
#X connect 7 0 8 1;
#X connect 8 0 6 0;
#X connect 8 0 10 0;
#X connect 9 0 5 0;
#X connect 10 0 8 1;
#X restore 195 506 pd loop-16;
#X obj 150 91 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X msg 176 195 1;
#X msg 216 195 0;
#X obj 176 224 s \$0-loading-from-disk;
#X text 682 139 Load pattern from text file into sequences;
#X obj 787 1020 pack s f;
#X obj 766 1096 s;
#X obj 787 1070 symbol;
#X floatatom 848 997 5 0 15 1 seq - -;
#X obj 766 866 t a b;
#X obj 809 900 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 787 923 symbol \$0-seq-gate;
#X obj 564 1020 pack s f;
#X obj 543 1096 s;
#X obj 564 1070 symbol;
#X floatatom 625 997 5 0 15 1 seq - -;
#X obj 543 866 t a b;
#X obj 586 900 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 564 923 symbol \$0-seq-pitch;
#X msg 34 610 bang;
#X obj 232 575 s \$0-loading-seq-num;
#X obj 1023 937 r \$0-loading-seq-num;
#X obj 766 836 spigot;
#X obj 811 604 t b b;
#X msg 811 746 1;
#X msg 851 746 0;
#X obj 543 836 spigot;
#X msg 588 746 1;
#X msg 629 745 0;
#X obj 588 604 t b b;
#X text 346 1124 These sends are recieved in the sequencer subpatch
;
#X obj 462 12 r \$0-current-pattern;
#X msg 617 279 read \$1;
#X obj 150 111 t b b b;
#X obj 617 224 f 0;
#X msg 655 224 set \$1;
#X obj 617 253 makefilename not-set-yet;
#X obj 655 174 r \$0-tbc-id;
#N canvas 14 654 523 278 lcd-messages 0;
#X obj 27 34 inlet loading;
#X obj 235 17 inlet done;
#X msg 27 88 label LOADING_PATTERN;
#X msg 265 141 label empty;
#X msg 235 87 label LOADED_PATTERN_\$1;
#X obj 265 52 t b;
#X obj 265 119 del 1000;
#X obj 27 197 s \$0-lcd-2-r;
#X connect 0 0 2 0;
#X connect 1 0 4 0;
#X connect 1 0 5 0;
#X connect 2 0 7 0;
#X connect 3 0 7 0;
#X connect 4 0 7 0;
#X connect 5 0 6 0;
#X connect 6 0 3 0;
#X restore 204 274 pd lcd-messages;
#X obj 263 1020 pack s f;
#X obj 242 1096 s;
#X obj 263 1070 symbol;
#X floatatom 324 997 5 0 15 1 seq - -;
#X obj 242 866 t a b;
#X obj 285 900 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 242 836 spigot;
#X msg 287 747 1;
#X msg 325 746 0;
#X obj 263 923 symbol \$0-seq-retrig;
#X obj 250 604 t b b;
#X obj 462 71 t b f;
#X text 674 43 Check that the current pattern isn't the old pattern
;
#N canvas 0 50 493 420 check-if-same-pattern 0;
#X obj 109 87 inlet;
#X obj 141 313 outlet;
#X obj 80 190 !=;
#X obj 141 256 f;
#X obj 109 114 t f b f;
#X obj 80 147 f -1;
#X floatatom 80 170 5 0 0 0 - - -;
#X floatatom 141 286 5 0 0 0 - - -;
#X floatatom 162 137 5 0 0 0 - - -;
#X obj 80 215 sel 1;
#X text 20 33 Check if the new pattern is the same as the old pattern
;
#X connect 0 0 4 0;
#X connect 2 0 9 0;
#X connect 3 0 7 0;
#X connect 4 0 5 1;
#X connect 4 1 5 0;
#X connect 4 2 8 0;
#X connect 5 0 6 0;
#X connect 6 0 2 0;
#X connect 7 0 1 0;
#X connect 8 0 2 1;
#X connect 8 0 3 1;
#X connect 9 0 3 0;
#X restore 462 44 pd check-if-same-pattern;
#X msg 564 1045 \$1-\$2-r;
#X msg 787 1045 \$1-\$2-r;
#X msg 263 1045 \$1-\$2-r;
#X obj 617 328 text define \$0-pattern-text;
#X obj 34 746 text get \$0-pattern-text;
#N canvas 112 132 338 218 counter 0;
#X obj 51 35 inlet;
#X obj 51 90 f 0;
#X obj 86 91 + 1;
#X obj 105 35 inlet reset;
#X msg 105 60 0;
#X obj 51 135 outlet;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 1 0 5 0;
#X connect 2 0 1 1;
#X connect 3 0 4 0;
#X connect 4 0 1 1;
#X restore 34 635 pd counter;
#X obj 167 139 r \$0-reload-pattern;
#X obj 902 285 r \$0-pattern-text-inlet;
#X obj 321 250 f;
#X obj 774 460 t b b;
#X obj 195 535 t b f;
#X obj 150 273 t b b;
#X obj 551 460 t b b;
#X obj 195 460 t b b;
#X obj 325 674 t b;
#X obj 272 532 t b b b;
#X obj 150 380 t b b b b b b;
#X obj 994 460 t b b b;
#X obj 975 836 spigot;
#X msg 1020 747 1;
#X msg 1058 746 0;
#X obj 1020 604 t b b;
#X obj 150 423 s \$0-done-loading-pattern;
#X obj 216 103 r \$0-done-loading-pattern;
#X text 393 532 <---This series of bangs skips 2 lines in the text
file \, and turns off all spigots below;
#X obj 617 131 t b;
#N canvas 34 555 1572 358 load-fx-and-others 0;
#X obj 106 223 spigot;
#X msg 188 162 0;
#X obj 106 277 array set \$0-fx-array;
#X obj 288 222 spigot;
#X msg 333 165 1;
#X text 119 300 Load fx array;
#X text 319 302 Load fx parameters;
#X msg 370 164 0;
#X obj 288 277 s \$0-fx-parameters-to-load;
#X msg 151 162 1;
#X obj 766 43 t f;
#X obj 766 18 inlet select;
#X obj 151 128 sel 0;
#X obj 333 129 sel 1;
#X obj 508 222 spigot;
#X msg 553 165 1;
#X msg 590 164 0;
#X obj 553 129 sel 2;
#X obj 798 222 spigot;
#X msg 843 165 1;
#X msg 880 164 0;
#X text 829 302 Load sample lengths;
#X obj 843 129 sel 3;
#X text 529 302 Load sample start positions;
#X obj 798 277 s \$0-sample-lengths-to-load;
#X obj 508 277 s \$0-sample-start-positions-to-load;
#X obj 41 37 inlet text;
#X obj 41 182 t a;
#X obj 1028 222 spigot;
#X msg 1073 165 1;
#X msg 1110 164 0;
#X obj 1073 129 sel 4;
#X obj 1028 277 s \$0-sample-volumes-to-load;
#X text 1059 302 Load sample volumes;
#X obj 1268 222 spigot;
#X msg 1313 165 1;
#X msg 1350 164 0;
#X text 1299 302 Load funct params;
#X obj 1313 129 sel 5;
#X obj 1268 277 s \$0-funct-parameters-to-load;
#X connect 0 0 2 0;
#X connect 1 0 0 1;
#X connect 3 0 8 0;
#X connect 4 0 3 1;
#X connect 7 0 3 1;
#X connect 9 0 0 1;
#X connect 10 0 12 0;
#X connect 10 0 13 0;
#X connect 10 0 17 0;
#X connect 10 0 22 0;
#X connect 10 0 31 0;
#X connect 10 0 38 0;
#X connect 11 0 10 0;
#X connect 12 0 9 0;
#X connect 12 1 1 0;
#X connect 13 0 4 0;
#X connect 13 1 7 0;
#X connect 14 0 25 0;
#X connect 15 0 14 1;
#X connect 16 0 14 1;
#X connect 17 0 15 0;
#X connect 17 1 16 0;
#X connect 18 0 24 0;
#X connect 19 0 18 1;
#X connect 20 0 18 1;
#X connect 22 0 19 0;
#X connect 22 1 20 0;
#X connect 26 0 27 0;
#X connect 27 0 0 0;
#X connect 27 0 3 0;
#X connect 27 0 14 0;
#X connect 27 0 18 0;
#X connect 27 0 28 0;
#X connect 27 0 34 0;
#X connect 28 0 32 0;
#X connect 29 0 28 1;
#X connect 30 0 28 1;
#X connect 31 0 29 0;
#X connect 31 1 30 0;
#X connect 34 0 39 0;
#X connect 35 0 34 1;
#X connect 36 0 34 1;
#X connect 38 0 35 0;
#X connect 38 1 36 0;
#X restore 975 1076 pd load-fx-and-others;
#X obj 167 164 t b b;
#X obj 655 199 makefilename tbc-state-saves/tbc-%d/pattern%%d.txt;
#X connect 0 0 64 0;
#X connect 0 1 69 0;
#X connect 1 0 34 0;
#X connect 2 0 4 0;
#X connect 2 0 39 0;
#X connect 3 0 4 0;
#X connect 6 0 55 0;
#X connect 8 0 7 1;
#X connect 9 0 6 1;
#X connect 10 0 7 0;
#X connect 10 1 11 0;
#X connect 10 1 12 0;
#X connect 12 0 6 0;
#X connect 13 0 54 0;
#X connect 15 0 14 1;
#X connect 16 0 13 1;
#X connect 17 0 14 0;
#X connect 17 1 18 0;
#X connect 17 1 19 0;
#X connect 19 0 13 0;
#X connect 20 0 59 0;
#X connect 22 0 9 0;
#X connect 22 0 16 0;
#X connect 22 0 43 0;
#X connect 22 0 80 1;
#X connect 23 0 10 0;
#X connect 24 0 25 0;
#X connect 24 1 68 0;
#X connect 25 0 23 1;
#X connect 26 0 23 1;
#X connect 27 0 17 0;
#X connect 28 0 27 1;
#X connect 29 0 27 1;
#X connect 30 0 28 0;
#X connect 30 1 68 0;
#X connect 32 0 53 0;
#X connect 33 0 57 0;
#X connect 34 0 65 0;
#X connect 34 1 2 0;
#X connect 34 2 79 0;
#X connect 35 0 37 0;
#X connect 36 0 37 0;
#X connect 37 0 33 0;
#X connect 38 0 82 0;
#X connect 40 0 56 0;
#X connect 42 0 41 1;
#X connect 43 0 40 1;
#X connect 44 0 41 0;
#X connect 44 1 45 0;
#X connect 44 1 49 0;
#X connect 46 0 44 0;
#X connect 47 0 46 1;
#X connect 48 0 46 1;
#X connect 49 0 40 0;
#X connect 50 0 47 0;
#X connect 50 1 68 0;
#X connect 51 0 1 0;
#X connect 51 1 35 1;
#X connect 51 1 62 1;
#X connect 53 0 51 0;
#X connect 54 0 15 0;
#X connect 55 0 8 0;
#X connect 56 0 42 0;
#X connect 58 0 23 0;
#X connect 58 0 27 0;
#X connect 58 0 46 0;
#X connect 58 0 72 0;
#X connect 59 0 58 0;
#X connect 60 0 81 0;
#X connect 61 0 57 0;
#X connect 62 0 39 1;
#X connect 63 0 0 0;
#X connect 63 1 24 0;
#X connect 64 0 20 0;
#X connect 64 1 21 0;
#X connect 65 0 70 0;
#X connect 65 1 59 1;
#X connect 66 0 0 0;
#X connect 66 1 30 0;
#X connect 67 0 0 0;
#X connect 67 1 50 0;
#X connect 68 0 26 0;
#X connect 68 0 29 0;
#X connect 68 0 48 0;
#X connect 68 0 74 0;
#X connect 69 0 20 0;
#X connect 69 1 20 0;
#X connect 69 2 68 0;
#X connect 70 0 76 0;
#X connect 70 1 67 0;
#X connect 70 2 66 0;
#X connect 70 3 63 0;
#X connect 70 4 71 0;
#X connect 71 0 0 0;
#X connect 71 1 75 0;
#X connect 71 2 69 0;
#X connect 72 0 80 0;
#X connect 73 0 72 1;
#X connect 74 0 72 1;
#X connect 75 0 73 0;
#X connect 75 1 68 0;
#X connect 77 0 62 0;
#X connect 77 0 3 0;
#X connect 79 0 35 0;
#X connect 81 0 65 0;
#X connect 81 1 2 0;
#X connect 82 0 36 0;
#X restore 37 124 pd load-pattern-from-disk;
#N canvas 420 648 306 179 display-pattern-name 0;
#X obj 58 48 r \$0-current-pattern;
#X obj 58 98 s \$0-lcd-0-r;
#X msg 58 73 label PATTERN:\$1;
#X connect 0 0 2 0;
#X connect 2 0 1 0;
#X restore 37 234 pd display-pattern-name;
#N canvas 917 138 831 747 pattern-chaining 0;
#X obj 389 650 s \$0-current-pattern;
#X obj 326 77 r \$0-pattern-end;
#X text 413 19 Handle pattern chaining;
#X obj 326 305 f 0;
#X obj 360 305 + 1;
#X msg 347 280 0;
#X obj 363 400 tabread \$0-pattern-chain;
#X floatatom 363 425 5 0 0 0 - - -;
#X obj 419 217 array size \$0-pattern-chain;
#X obj 419 198 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 326 330 t f f;
#X obj 326 156 t b b;
#X obj 419 242 - 1;
#X floatatom 435 271 5 0 0 0 - - -;
#X obj 398 330 sel 1;
#X obj 398 305 >=;
#X obj 24 207 s \$0-get-new-pattern-immediately;
#X obj 24 174 == 0;
#X text 32 150 pattern right away;
#X text 31 127 If not playing \, switch to new;
#X text 30 17 Create the pattern chain array;
#X obj 326 102 t b b;
#X obj 24 44 array define \$0-pattern-chain 1;
#X obj 363 129 s \$0-save-pattern;
#X text 464 186 Get the size of the pattern chain array;
#X text 470 307 <---Step through patterns in chain;
#N canvas 268 195 946 752 update-grid-in-current-state 0;
#X obj 11 165 inlet;
#X obj 186 115 r \$0-global-state-1;
#X obj 125 289 spigot 0;
#X msg 186 243 1, f 1;
#X msg 223 164 0, f 1;
#X obj 145 414 spigot 0;
#X obj 186 140 t a b;
#X msg 265 243 1, f 1;
#X obj 145 439 s \$0-load-fx-params-to-grid;
#X obj 165 469 spigot 0;
#X msg 345 243 1, f 1;
#X obj 11 197 t a;
#X msg 424 243 1, f 1;
#X obj 185 524 spigot 0;
#X obj 185 549 s \$0-load-sample-lengths-to-grid;
#X obj 165 494 s \$0-load-sample-start-positions-to-grid;
#X obj 205 579 spigot 0;
#X msg 504 243 1, f 1;
#X obj 205 604 s \$0-load-sample-volumes-to-grid;
#X text 55 9 Update the grid-buttons and grid-knobs to the new pattern
\, based on the state the TBC is in. For example \, if we are in FX
mode \, we need to load the FX params for new pattern.;
#X obj 186 190 sel write-mode fx-mode sound-mode samples-mode one-shot-mode
bpm-mode;
#X msg 583 243 1, f 1;
#X obj 225 634 spigot 0;
#X obj 162 340 s \$0-load-current-gates;
#X obj 125 314 t b b;
#X obj 125 360 s \$0-load-current-pitches;
#X obj 262 686 s \$0-load-current-gates;
#X obj 225 660 t b b;
#X obj 225 706 s \$0-load-current-retrigs;
#X connect 0 0 11 0;
#X connect 1 0 6 0;
#X connect 2 0 24 0;
#X connect 3 0 2 1;
#X connect 4 0 2 1;
#X connect 4 0 5 1;
#X connect 4 0 9 1;
#X connect 4 0 13 1;
#X connect 4 0 16 1;
#X connect 4 0 22 1;
#X connect 5 0 8 0;
#X connect 6 0 20 0;
#X connect 6 1 4 0;
#X connect 7 0 5 1;
#X connect 9 0 15 0;
#X connect 10 0 9 1;
#X connect 11 0 2 0;
#X connect 11 0 5 0;
#X connect 11 0 9 0;
#X connect 11 0 13 0;
#X connect 11 0 16 0;
#X connect 11 0 22 0;
#X connect 12 0 13 1;
#X connect 13 0 14 0;
#X connect 16 0 18 0;
#X connect 17 0 16 1;
#X connect 20 0 3 0;
#X connect 20 1 7 0;
#X connect 20 2 10 0;
#X connect 20 3 12 0;
#X connect 20 4 17 0;
#X connect 20 5 21 0;
#X connect 21 0 22 1;
#X connect 22 0 27 0;
#X connect 24 0 25 0;
#X connect 24 1 23 0;
#X connect 27 0 28 0;
#X connect 27 1 26 0;
#X restore 363 680 pd update-grid-in-current-state;
#X obj 24 84 r \$0-playing;
#X obj 416 540 t b;
#X obj 363 485 t b f f;
#X obj 416 515 change -1;
#X msg 449 484 set \$1;
#N canvas 0 81 707 273 get-init-pattern 0;
#X obj 75 217 outlet;
#X obj 38 28 r \$0-current-pattern;
#X obj 38 83 t b f;
#X obj 38 53 spigot 1;
#X msg 38 113 0;
#X text 213 55 When The Beat Cop starts up \, we need to store the
initial pattern in the change object \, so that we know when the pattern
has actually changed. Otherwise it would register a pattern change
the first time you press play \, because the pattern that is loaded
on startup is taken from the settings file \, so it could be any of
the 16 patterns. If it doesn't match the default value in the change
\, it would think the pattern changed.;
#X connect 1 0 3 0;
#X connect 2 0 4 0;
#X connect 2 1 0 0;
#X connect 3 0 2 0;
#X connect 4 0 3 1;
#X restore 449 454 pd get-init-pattern;
#X obj 413 160 r \$0-restart-pattern-chain;
#X obj 389 600 t f f;
#X obj 426 630 s \$0-current-pattern-early;
#X obj 416 570 s \$0-pattern-has-changed;
#X connect 1 0 21 0;
#X connect 3 0 4 0;
#X connect 3 0 10 0;
#X connect 4 0 3 1;
#X connect 5 0 3 1;
#X connect 6 0 7 0;
#X connect 7 0 29 0;
#X connect 8 0 12 0;
#X connect 9 0 8 0;
#X connect 10 0 15 0;
#X connect 10 1 6 0;
#X connect 11 0 3 0;
#X connect 11 1 9 0;
#X connect 12 0 13 0;
#X connect 12 0 15 1;
#X connect 14 0 5 0;
#X connect 15 0 14 0;
#X connect 17 0 16 0;
#X connect 21 0 11 0;
#X connect 21 1 23 0;
#X connect 27 0 17 0;
#X connect 28 0 36 0;
#X connect 29 0 26 0;
#X connect 29 1 34 0;
#X connect 29 2 30 0;
#X connect 30 0 28 0;
#X connect 31 0 30 0;
#X connect 32 0 31 0;
#X connect 33 0 5 0;
#X connect 34 0 0 0;
#X connect 34 1 35 0;
#X restore 37 264 pd pattern-chaining;
#N canvas 158 641 606 217 pattern-shifts-and-rand 0;
#N canvas 186 256 801 489 randomize-fx 0;
#X obj 43 402 list append;
#X obj 128 372 list append;
#X obj 155 402 t a;
#N canvas 65 81 450 300 loop-16 0;
#X obj 64 137 until;
#X msg 64 110 16;
#X obj 64 17 inlet bang;
#X obj 58 264 outlet;
#X obj 64 42 t b b;
#X obj 138 266 outlet done;
#X obj 64 187 t a a;
#X msg 101 110 0;
#X obj 64 162 f 0;
#X obj 138 242 sel 15;
#X obj 105 162 + 1;
#X connect 0 0 8 0;
#X connect 1 0 0 0;
#X connect 2 0 4 0;
#X connect 4 0 1 0;
#X connect 4 1 7 0;
#X connect 6 0 9 0;
#X connect 6 1 3 0;
#X connect 7 0 8 1;
#X connect 8 0 6 0;
#X connect 8 0 10 0;
#X connect 9 0 5 0;
#X connect 10 0 8 1;
#X restore 128 106 pd loop-16;
#X obj 43 164 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 128 51 t b b;
#X msg 165 77 bang;
#X obj 128 25 r \$0-randomize-fx;
#X obj 165 204 random 16;
#X obj 43 437 array set \$0-fx-array;
#X obj 302 25 r \$0-funct-parameter-12;
#X obj 156 338 f;
#X obj 257 229 sel 0;
#X obj 294 253 t b;
#X obj 128 163 t b b;
#X msg 172 232 15;
#X obj 128 269 f;
#X obj 257 204 random;
#X obj 302 100 -;
#X floatatom 302 125 5 0 0 0 - - -;
#X obj 302 50 * 10;
#X obj 302 75 swap 10;
#X text 319 150 The funct-parameter-12 inlet controls the chance that
the randomizer will select a new FX \, or stick with the current FX.
Default FX is 15 \, dry signal;
#X connect 0 0 9 0;
#X connect 1 0 0 1;
#X connect 1 0 2 0;
#X connect 2 0 1 1;
#X connect 3 0 14 0;
#X connect 3 1 4 0;
#X connect 4 0 0 0;
#X connect 5 0 3 0;
#X connect 5 1 6 0;
#X connect 6 0 1 1;
#X connect 6 0 15 0;
#X connect 7 0 5 0;
#X connect 8 0 16 1;
#X connect 10 0 20 0;
#X connect 11 0 1 0;
#X connect 12 0 16 0;
#X connect 12 1 13 0;
#X connect 13 0 11 0;
#X connect 14 0 17 0;
#X connect 14 1 8 0;
#X connect 15 0 16 1;
#X connect 16 0 1 0;
#X connect 16 0 11 1;
#X connect 17 0 12 0;
#X connect 18 0 19 0;
#X connect 19 0 17 1;
#X connect 20 0 21 0;
#X connect 21 0 18 0;
#X connect 21 1 18 1;
#X restore 37 90 pd randomize-fx;
#N canvas 503 159 777 408 randomize-fx-params 0;
#X obj 43 312 list append;
#X obj 128 282 list append;
#X obj 172 311 t a;
#X floatatom 128 171 5 0 0 0 - - -;
#X obj 199 179 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 128 56 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 128 91 t b b;
#X msg 165 117 bang;
#X obj 43 357 s \$0-fx-parameters-to-load;
#X obj 128 25 r \$0-randomize-fx-params;
#N canvas 0 81 450 300 loop 0;
#X obj 64 137 until;
#X obj 64 17 inlet bang;
#X obj 58 264 outlet;
#X obj 138 266 outlet done;
#X obj 64 187 t a a;
#X msg 90 110 0;
#X obj 64 162 f 0;
#X obj 138 242 sel 15;
#X obj 105 162 + 1;
#X obj 183 218 - 1;
#X obj 64 82 t f b f;
#X connect 0 0 6 0;
#X connect 1 0 10 0;
#X connect 4 0 7 0;
#X connect 4 1 2 0;
#X connect 5 0 6 1;
#X connect 6 0 4 0;
#X connect 6 0 8 0;
#X connect 7 0 3 0;
#X connect 8 0 6 1;
#X connect 9 0 7 1;
#X connect 10 0 0 0;
#X connect 10 1 5 0;
#X connect 10 2 9 0;
#X restore 128 146 pd loop;
#X msg 128 116 15;
#X text 266 58 Randomize every param but FX 15;
#X text 263 81 In this case \, simply loop from 0 - 14 so that the
message doesn't include anything for param 15;
#N canvas 301 390 575 570 get-new-value 0;
#X obj 85 333 random 1000;
#X obj 85 358 / 1000;
#X obj 285 165 * 1000;
#X obj 197 358 text get \$0-pattern-text;
#X obj 197 333 f;
#X obj 85 192 t b b f;
#X obj 85 55 inlet;
#X obj 218 53 inlet;
#X floatatom 109 428 5 0 0 0 - - -;
#X floatatom 197 383 5 0 0 0 - - -;
#X obj 176 460 +;
#X obj 85 383 - 0.5;
#X obj 176 505 clip 0 1;
#X obj 176 530 outlet;
#X obj 122 300 / 2;
#X obj 285 53 r \$0-funct-parameter-13;
#X connect 0 0 1 0;
#X connect 1 0 11 0;
#X connect 2 0 0 1;
#X connect 3 0 9 0;
#X connect 4 0 3 0;
#X connect 5 0 0 0;
#X connect 5 1 4 0;
#X connect 5 2 3 1;
#X connect 6 0 5 0;
#X connect 7 0 4 1;
#X connect 8 0 10 0;
#X connect 9 0 10 1;
#X connect 10 0 12 0;
#X connect 11 0 8 0;
#X connect 12 0 13 0;
#X connect 14 0 11 1;
#X connect 15 0 2 0;
#X connect 15 0 14 0;
#X restore 128 239 pd get-new-value;
#X msg 253 210 3;
#X connect 0 0 8 0;
#X connect 1 0 0 1;
#X connect 1 0 2 0;
#X connect 2 0 1 1;
#X connect 3 0 14 0;
#X connect 4 0 0 0;
#X connect 5 0 6 0;
#X connect 6 0 11 0;
#X connect 6 1 7 0;
#X connect 6 1 15 0;
#X connect 7 0 1 1;
#X connect 9 0 5 0;
#X connect 10 0 3 0;
#X connect 10 1 4 0;
#X connect 11 0 10 0;
#X connect 14 0 1 0;
#X connect 15 0 14 1;
#X restore 37 110 pd randomize-fx-params;
#N canvas 63 117 1329 776 shifts-and-randomizations 0;
#N canvas 0 50 450 300 loop-16 0;
#X obj 64 137 until;
#X msg 64 110 16;
#X obj 64 17 inlet bang;
#X obj 58 264 outlet;
#X obj 64 42 t b b;
#X obj 138 266 outlet done;
#X obj 64 187 t a a;
#X msg 101 110 0;
#X obj 64 162 f 0;
#X obj 138 242 sel 15;
#X obj 105 162 + 1;
#X connect 0 0 8 0;
#X connect 1 0 0 0;
#X connect 2 0 4 0;
#X connect 4 0 1 0;
#X connect 4 1 7 0;
#X connect 6 0 9 0;
#X connect 6 1 3 0;
#X connect 7 0 8 1;
#X connect 8 0 6 0;
#X connect 8 0 10 0;
#X connect 9 0 5 0;
#X connect 10 0 8 1;
#X restore 124 417 pd loop-16;
#X floatatom 124 448 5 0 0 0 - - -;
#X obj 201 575 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 58 156 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 201 594 s \$0-reload-pattern;
#X obj 426 63 r \$0-randomize-gates;
#X obj 58 343 f;
#X obj 79 295 r \$0-current-sound;
#X obj 58 233 sel sound pattern;
#X obj 58 207 symbol;
#X obj 124 260 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 58 261 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 103 180 r \$0-randomize-sound-or-pattern;
#X floatatom 58 368 5 0 0 0 - - -;
#X obj 79 319 route float;
#X obj 58 390 t b f;
#N canvas 498 308 602 451 randomize-gates 0;
#X obj 55 394 text set \$0-pattern-text;
#X obj 55 343 list append;
#X obj 140 313 list append;
#X obj 181 352 t a;
#N canvas 0 50 450 300 loop-16 0;
#X obj 64 137 until;
#X msg 64 110 16;
#X obj 64 17 inlet bang;
#X obj 58 264 outlet;
#X obj 64 42 t b b;
#X obj 138 266 outlet done;
#X obj 64 187 t a a;
#X msg 101 110 0;
#X obj 64 162 f 0;
#X obj 138 242 sel 15;
#X obj 105 162 + 1;
#X connect 0 0 8 0;
#X connect 1 0 0 0;
#X connect 2 0 4 0;
#X connect 4 0 1 0;
#X connect 4 1 7 0;
#X connect 6 0 9 0;
#X connect 6 1 3 0;
#X connect 7 0 8 1;
#X connect 8 0 6 0;
#X connect 8 0 10 0;
#X connect 9 0 5 0;
#X connect 10 0 8 1;
#X restore 140 177 pd loop-16;
#X floatatom 140 202 5 0 0 0 - - -;
#X obj 217 201 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 140 224 t b;
#X obj 140 122 t b b;
#X msg 225 132 bang;
#X obj 81 83 t b f;
#X obj 140 255 random 4;
#X obj 140 280 == 0;
#X obj 81 6 inlet;
#X obj 265 194 * 10;
#X obj 265 120 r \$0-funct-parameter-9;
#X obj 265 219 + 1;
#X obj 81 56 + 16;
#X text 129 36 <- Skip comments;
#X text 130 55 <- Skip settings;
#X obj 81 31 + 4;
#X obj 265 145 swap 1;
#X obj 265 170 -;
#X connect 1 0 0 0;
#X connect 2 0 1 1;
#X connect 2 0 3 0;
#X connect 3 0 2 1;
#X connect 4 0 5 0;
#X connect 4 1 6 0;
#X connect 5 0 7 0;
#X connect 6 0 1 0;
#X connect 7 0 11 0;
#X connect 8 0 4 0;
#X connect 8 1 9 0;
#X connect 9 0 2 1;
#X connect 9 0 1 1;
#X connect 10 0 8 0;
#X connect 10 1 0 1;
#X connect 11 0 12 0;
#X connect 12 0 2 0;
#X connect 13 0 20 0;
#X connect 14 0 16 0;
#X connect 15 0 21 0;
#X connect 16 0 11 1;
#X connect 17 0 10 0;
#X connect 20 0 17 0;
#X connect 21 0 22 0;
#X connect 21 1 22 1;
#X connect 22 0 14 0;
#X restore 418 718 pd randomize-gates;
#X obj 418 557 pack s f;
#X obj 426 88 t b b;
#X obj 418 527 symbol;
#X obj 442 482 t b f;
#N canvas 101 445 470 460 randomize-pitch 0;
#X obj 42 401 text set \$0-pattern-text;
#X obj 42 350 list append;
#X obj 127 320 list append;
#X obj 168 359 t a;
#N canvas 0 50 450 300 loop-16 0;
#X obj 64 137 until;
#X msg 64 110 16;
#X obj 64 17 inlet bang;
#X obj 58 264 outlet;
#X obj 64 42 t b b;
#X obj 138 266 outlet done;
#X obj 64 187 t a a;
#X msg 101 110 0;
#X obj 64 162 f 0;
#X obj 138 242 sel 15;
#X obj 105 162 + 1;
#X connect 0 0 8 0;
#X connect 1 0 0 0;
#X connect 2 0 4 0;
#X connect 4 0 1 0;
#X connect 4 1 7 0;
#X connect 6 0 9 0;
#X connect 6 1 3 0;
#X connect 7 0 8 1;
#X connect 8 0 6 0;
#X connect 8 0 10 0;
#X connect 9 0 5 0;
#X connect 10 0 8 1;
#X restore 127 214 pd loop-16;
#X floatatom 127 239 5 0 0 0 - - -;
#X obj 204 238 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 127 159 t b b;
#X msg 164 185 bang;
#X obj 68 106 t b f;
#X obj 68 17 inlet;
#X obj 68 42 + 6;
#X obj 68 67 + 32;
#X text 122 45 <- Skip comments;
#X text 123 64 <- Skip settings and gate;
#N canvas 688 389 575 570 get-new-value 0;
#X obj 85 333 random 1000;
#X obj 85 358 / 1000;
#X obj 285 165 * 1000;
#X obj 285 53 r \$0-funct-parameter-10;
#X obj 197 358 text get \$0-pattern-text;
#X obj 197 333 f;
#X obj 85 192 t b b f;
#X obj 85 55 inlet;
#X obj 218 53 inlet;
#X floatatom 109 428 5 0 0 0 - - -;
#X floatatom 197 383 5 0 0 0 - - -;
#X obj 176 460 +;
#X obj 85 383 - 0.5;
#X obj 176 485 clip 0 1;
#X obj 176 510 outlet;
#X obj 122 300 / 2;
#X connect 0 0 1 0;
#X connect 1 0 12 0;
#X connect 2 0 0 1;
#X connect 3 0 2 0;
#X connect 3 0 15 0;
#X connect 4 0 10 0;
#X connect 5 0 4 0;
#X connect 6 0 0 0;
#X connect 6 1 5 0;
#X connect 6 2 4 1;
#X connect 7 0 6 0;
#X connect 8 0 5 1;
#X connect 9 0 11 0;
#X connect 10 0 11 1;
#X connect 11 0 13 0;
#X connect 12 0 9 0;
#X connect 13 0 14 0;
#X connect 15 0 12 1;
#X restore 127 288 pd get-new-value;
#X obj 252 141 t f;
#X connect 1 0 0 0;
#X connect 2 0 1 1;
#X connect 2 0 3 0;
#X connect 3 0 2 1;
#X connect 4 0 5 0;
#X connect 4 1 6 0;
#X connect 5 0 15 0;
#X connect 6 0 1 0;
#X connect 7 0 4 0;
#X connect 7 1 8 0;
#X connect 8 0 2 1;
#X connect 8 0 1 1;
#X connect 9 0 7 0;
#X connect 9 1 0 1;
#X connect 9 1 16 0;
#X connect 10 0 11 0;
#X connect 11 0 12 0;
#X connect 12 0 9 0;
#X connect 15 0 2 0;
#X connect 16 0 15 1;
#X restore 475 698 pd randomize-pitch;
#N canvas 901 418 510 478 randomize-retrig 0;
#X obj 30 426 text set \$0-pattern-text;
#X obj 30 375 list append;
#X obj 115 345 list append;
#X obj 156 384 t a;
#N canvas 0 50 450 300 loop-16 0;
#X obj 64 137 until;
#X msg 64 110 16;
#X obj 64 17 inlet bang;
#X obj 58 264 outlet;
#X obj 64 42 t b b;
#X obj 138 266 outlet done;
#X obj 64 187 t a a;
#X msg 101 110 0;
#X obj 64 162 f 0;
#X obj 138 242 sel 15;
#X obj 105 162 + 1;
#X connect 0 0 8 0;
#X connect 1 0 0 0;
#X connect 2 0 4 0;
#X connect 4 0 1 0;
#X connect 4 1 7 0;
#X connect 6 0 9 0;
#X connect 6 1 3 0;
#X connect 7 0 8 1;
#X connect 8 0 6 0;
#X connect 8 0 10 0;
#X connect 9 0 5 0;
#X connect 10 0 8 1;
#X restore 115 209 pd loop-16;
#X floatatom 115 234 5 0 0 0 - - -;
#X obj 192 233 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 115 154 t b b;
#X msg 152 180 bang;
#X obj 56 103 t b f;
#X obj 56 15 inlet;
#X obj 56 40 + 8;
#X obj 56 65 + 48;
#X text 105 41 <- Skip comments;
#X text 106 64 <- Skip settings \, gate \, and pitch;
#N canvas 688 389 575 570 get-new-value 0;
#X obj 85 333 random 1000;
#X obj 85 358 / 1000;
#X obj 285 165 * 1000;
#X obj 197 358 text get \$0-pattern-text;
#X obj 197 333 f;
#X obj 85 192 t b b f;
#X obj 85 55 inlet;
#X obj 218 53 inlet;
#X floatatom 109 428 5 0 0 0 - - -;
#X floatatom 197 383 5 0 0 0 - - -;
#X obj 176 460 +;
#X obj 85 383 - 0.5;
#X obj 176 485 clip 0 1;
#X obj 176 510 outlet;
#X obj 122 300 / 2;
#X obj 285 53 r \$0-funct-parameter-11;
#X connect 0 0 1 0;
#X connect 1 0 11 0;
#X connect 2 0 0 1;
#X connect 3 0 9 0;
#X connect 4 0 3 0;
#X connect 5 0 0 0;
#X connect 5 1 4 0;
#X connect 5 2 3 1;
#X connect 6 0 5 0;
#X connect 7 0 4 1;
#X connect 8 0 10 0;
#X connect 9 0 10 1;
#X connect 10 0 12 0;
#X connect 11 0 8 0;
#X connect 12 0 13 0;
#X connect 14 0 11 1;
#X connect 15 0 2 0;
#X connect 15 0 14 0;
#X restore 115 298 pd get-new-value;
#X obj 240 147 t f;
#X connect 1 0 0 0;
#X connect 2 0 1 1;
#X connect 2 0 3 0;
#X connect 3 0 2 1;
#X connect 4 0 5 0;
#X connect 4 1 6 0;
#X connect 5 0 15 0;
#X connect 6 0 1 0;
#X connect 7 0 4 0;
#X connect 7 1 8 0;
#X connect 8 0 2 1;
#X connect 8 0 1 1;
#X connect 9 0 7 0;
#X connect 9 1 0 1;
#X connect 9 1 16 0;
#X connect 10 0 11 0;
#X connect 11 0 12 0;
#X connect 12 0 9 0;
#X connect 15 0 2 0;
#X connect 16 0 15 1;
#X restore 532 678 pd randomize-retrig;
#X obj 606 88 t b b;
#X obj 426 136 t b;
#X obj 606 63 r \$0-randomize-pitch;
#X obj 776 88 t b b;
#X obj 776 63 r \$0-randomize-retrig;
#X msg 463 250 symbol gate;
#X msg 643 245 symbol pitch;
#X msg 813 245 symbol retrig;
#X obj 463 345 t a;
#X obj 403 65 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 418 582 list trim;
#N canvas 110 187 699 579 shift-pattern 0;
#X obj 42 410 text get \$0-pattern-text;
#X floatatom 42 212 5 0 0 0 - - -;
#N canvas 65 85 322 348 loop 0;
#X obj 64 137 until;
#X obj 64 17 inlet bang;
#X obj 58 264 outlet;
#X obj 138 266 outlet done;
#X obj 64 187 t a a;
#X msg 90 110 0;
#X obj 64 162 f 0;
#X obj 138 242 sel 15;
#X obj 105 162 + 1;
#X obj 183 218 - 1;
#X obj 64 82 t f b f;
#X connect 0 0 6 0;
#X connect 1 0 10 0;
#X connect 4 0 7 0;
#X connect 4 1 2 0;
#X connect 5 0 6 1;
#X connect 6 0 4 0;
#X connect 6 0 8 0;
#X connect 7 0 3 0;
#X connect 8 0 6 1;
#X connect 9 0 7 1;
#X connect 10 0 0 0;
#X connect 10 1 5 0;
#X connect 10 2 9 0;
#X restore 42 187 pd loop;
#X floatatom 42 114 5 0 0 1 Seq_to_get - -;
#X obj 42 86 inlet;
#X obj 266 188 inlet;
#X obj 42 365 t f f;
#X obj 42 502 text set \$0-pattern-text;
#X obj 42 136 t b f;
#X msg 42 161 3;
#X obj 110 91 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 42 320 +;
#X obj 42 259 * 18;
#X obj 42 284 + 2;
#X obj 42 234 + 1;
#X text 159 233 Shift Gate \, Pitch \, and Retrig. Skip to the correct
lines in the file to apply the shift. Also skip over the comments.
;
#X text 197 87 Shift the pattern up down left or right or reverse.
This is done by modifying the text object that contains the pattern
data.;
#N canvas 65 81 652 562 shift-and-rev 0;
#X obj 39 174 t a a;
#N canvas 185 551 312 293 left-shift 0;
#X obj 59 78 list split 1;
#X obj 59 154 list prepend;
#X obj 59 31 inlet;
#X obj 59 219 outlet;
#X connect 0 0 1 0;
#X connect 0 1 1 1;
#X connect 1 0 3 0;
#X connect 2 0 0 0;
#X restore 39 353 pd left-shift;
#N canvas 233 547 312 293 right-shift 0;
#X obj 59 154 list prepend;
#X obj 59 31 inlet;
#X obj 59 219 outlet;
#X obj 59 78 list split 15;
#X connect 0 0 2 0;
#X connect 1 0 3 0;
#X connect 3 0 0 0;
#X connect 3 1 0 1;
#X restore 159 353 pd right-shift;
#X obj 39 318 spigot;
#X msg 67 286 0, f 1;
#X msg 84 286 1, f 1;
#X obj 159 318 spigot;
#X msg 187 286 0, f 1;
#X msg 204 286 1, f 1;
#X obj 289 318 spigot;
#X msg 317 286 0, f 1;
#X msg 334 286 1, f 1;
#X obj 409 318 spigot;
#X msg 437 286 0, f 1;
#X msg 454 286 1, f 1;
#X obj 362 118 t b;
#X obj 325 93 t a b;
#N canvas 900 522 312 293 up-shift 0;
#X obj 59 154 list prepend;
#X obj 59 31 inlet;
#X obj 59 219 outlet;
#X obj 59 78 list split 4;
#X connect 0 0 2 0;
#X connect 1 0 3 0;
#X connect 3 0 0 0;
#X connect 3 1 0 1;
#X restore 289 353 pd up-shift;
#N canvas 855 522 312 293 down-shift 0;
#X obj 59 154 list prepend;
#X obj 59 31 inlet;
#X obj 59 219 outlet;
#X obj 59 78 list split 12;
#X connect 0 0 2 0;
#X connect 1 0 3 0;
#X connect 3 0 0 0;
#X connect 3 1 0 1;
#X restore 409 353 pd down-shift;
#X obj 539 318 spigot;
#X msg 567 286 0, f 1;
#X msg 584 286 1, f 1;
#N canvas 705 322 387 473 reverse 0;
#X obj 59 31 inlet;
#X obj 59 419 outlet;
#X obj 55 63 cnv 15 250 350 empty empty Reverse 180 12 0 14 -233017
-66577 0;
#X obj 59 86 t a a;
#X obj 59 151 list split 1;
#X obj 59 199 list prepend;
#X obj 59 241 t a;
#X obj 59 266 t a b;
#X obj 59 371 spigot 0;
#X obj 204 169 t b a;
#X obj 70 126 list;
#X obj 172 269 list length;
#X obj 172 294 - 1;
#X obj 96 294 f 0;
#X obj 134 294 + 1;
#X obj 96 339 ==;
#X msg 117 266 0;
#X connect 0 0 3 0;
#X connect 3 0 4 0;
#X connect 3 1 9 0;
#X connect 4 0 5 0;
#X connect 4 1 10 0;
#X connect 5 0 6 0;
#X connect 6 0 7 0;
#X connect 6 0 5 1;
#X connect 7 0 8 0;
#X connect 7 1 13 0;
#X connect 8 0 1 0;
#X connect 9 0 16 0;
#X connect 9 0 5 1;
#X connect 9 1 11 0;
#X connect 10 0 4 0;
#X connect 11 0 12 0;
#X connect 12 0 15 1;
#X connect 13 0 14 0;
#X connect 13 0 15 0;
#X connect 14 0 13 1;
#X connect 15 0 8 1;
#X connect 16 0 13 1;
#X restore 539 353 pd reverse;
#X obj 325 171 sel left right up down reverse;
#X obj 39 481 outlet;
#X obj 39 138 inlet;
#X obj 325 57 inlet;
#X connect 0 0 3 0;
#X connect 0 0 6 0;
#X connect 0 0 9 0;
#X connect 0 0 12 0;
#X connect 0 0 19 0;
#X connect 1 0 24 0;
#X connect 2 0 24 0;
#X connect 3 0 1 0;
#X connect 4 0 3 1;
#X connect 5 0 3 1;
#X connect 6 0 2 0;
#X connect 7 0 6 1;
#X connect 8 0 6 1;
#X connect 9 0 17 0;
#X connect 10 0 9 1;
#X connect 11 0 9 1;
#X connect 12 0 18 0;
#X connect 13 0 12 1;
#X connect 14 0 12 1;
#X connect 15 0 4 0;
#X connect 15 0 7 0;
#X connect 15 0 10 0;
#X connect 15 0 13 0;
#X connect 15 0 20 0;
#X connect 16 0 23 0;
#X connect 16 1 15 0;
#X connect 17 0 24 0;
#X connect 18 0 24 0;
#X connect 19 0 22 0;
#X connect 20 0 19 1;
#X connect 21 0 19 1;
#X connect 22 0 24 0;
#X connect 23 0 5 0;
#X connect 23 1 8 0;
#X connect 23 2 11 0;
#X connect 23 3 14 0;
#X connect 23 4 21 0;
#X connect 25 0 0 0;
#X connect 26 0 16 0;
#X restore 42 454 pd shift-and-rev;
#X msg 125 319 2;
#X obj 125 183 inlet shift-fx;
#X connect 0 0 17 0;
#X connect 1 0 14 0;
#X connect 2 0 1 0;
#X connect 3 0 8 0;
#X connect 4 0 3 0;
#X connect 5 0 17 1;
#X connect 6 0 0 0;
#X connect 6 1 7 1;
#X connect 8 0 9 0;
#X connect 8 1 11 1;
#X connect 9 0 2 0;
#X connect 10 0 3 0;
#X connect 11 0 6 0;
#X connect 12 0 13 0;
#X connect 13 0 11 0;
#X connect 14 0 12 0;
#X connect 17 0 7 0;
#X connect 18 0 6 0;
#X connect 19 0 18 0;
#X restore 589 648 pd shift-pattern;
#X obj 973 62 r \$0-shift-pattern;
#X obj 973 87 t b b s;
#X msg 999 245 symbol shift;
#X text 23 3 The randomization patches for gate \, pitch \, and retrig
are all very similar \, so they are collected in this subpatch.;
#X obj 1137 62 r \$0-reverse-pattern;
#X msg 1190 245 symbol reverse;
#X text 43 722 These functions modify the text object ->>;
#X obj 418 616 route gate pitch retrig shift;
#X obj 1137 87 t b b b;
#X obj 201 481 t b b;
#X connect 0 0 1 0;
#X connect 0 1 44 0;
#X connect 1 0 20 0;
#X connect 2 0 4 0;
#X connect 3 0 9 0;
#X connect 5 0 18 0;
#X connect 6 0 13 0;
#X connect 7 0 14 0;
#X connect 8 0 11 0;
#X connect 8 1 10 0;
#X connect 9 0 8 0;
#X connect 10 0 0 0;
#X connect 11 0 6 0;
#X connect 12 0 9 1;
#X connect 13 0 15 0;
#X connect 14 0 6 1;
#X connect 15 0 2 0;
#X connect 15 1 1 0;
#X connect 17 0 33 0;
#X connect 18 0 24 0;
#X connect 18 1 28 0;
#X connect 19 0 17 0;
#X connect 20 0 19 0;
#X connect 20 1 17 1;
#X connect 23 0 24 0;
#X connect 23 1 29 0;
#X connect 24 0 3 0;
#X connect 25 0 23 0;
#X connect 26 0 24 0;
#X connect 26 1 30 0;
#X connect 27 0 26 0;
#X connect 28 0 31 0;
#X connect 29 0 31 0;
#X connect 30 0 31 0;
#X connect 31 0 19 1;
#X connect 32 0 18 0;
#X connect 33 0 42 0;
#X connect 35 0 36 0;
#X connect 36 0 24 0;
#X connect 36 1 37 0;
#X connect 36 2 34 2;
#X connect 37 0 31 0;
#X connect 39 0 43 0;
#X connect 40 0 34 2;
#X connect 42 0 16 0;
#X connect 42 1 21 0;
#X connect 42 2 22 0;
#X connect 42 3 34 0;
#X connect 43 0 24 0;
#X connect 43 1 37 0;
#X connect 43 2 40 0;
#X connect 44 0 2 0;
#X connect 44 1 34 1;
#X restore 37 70 pd shifts-and-randomizations;
#N canvas 473 189 494 380 randomize-sample-start-positions 0;
#X obj 70 145 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 136 112 r \$0-randomize-sound-or-pattern;
#N canvas 0 81 401 365 rand-all-samples 0;
#X obj 63 285 list append;
#X obj 148 255 list append;
#X obj 192 284 t a;
#X floatatom 148 144 5 0 0 0 - - -;
#X obj 219 152 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 148 64 t b b;
#X msg 185 90 bang;
#N canvas 0 81 450 300 loop 0;
#X obj 64 137 until;
#X obj 64 17 inlet bang;
#X obj 58 264 outlet;
#X obj 138 266 outlet done;
#X obj 64 187 t a a;
#X msg 90 110 0;
#X obj 64 162 f 0;
#X obj 138 242 sel 15;
#X obj 105 162 + 1;
#X obj 183 218 - 1;
#X obj 64 82 t f b f;
#X connect 0 0 6 0;
#X connect 1 0 10 0;
#X connect 4 0 7 0;
#X connect 4 1 2 0;
#X connect 5 0 6 1;
#X connect 6 0 4 0;
#X connect 6 0 8 0;
#X connect 7 0 3 0;
#X connect 8 0 6 1;
#X connect 9 0 7 1;
#X connect 10 0 0 0;
#X connect 10 1 5 0;
#X connect 10 2 9 0;
#X restore 148 119 pd loop;
#N canvas 301 390 575 570 get-new-value 0;
#X obj 85 333 random 1000;
#X obj 85 358 / 1000;
#X obj 285 165 * 1000;
#X obj 197 358 text get \$0-pattern-text;
#X obj 197 333 f;
#X obj 85 192 t b b f;
#X obj 85 55 inlet;
#X obj 218 53 inlet;
#X floatatom 109 428 5 0 0 0 - - -;
#X floatatom 197 383 5 0 0 0 - - -;
#X obj 176 460 +;
#X obj 85 383 - 0.5;
#X obj 176 505 clip 0 1;
#X obj 176 530 outlet;
#X obj 122 300 / 2;
#X obj 285 53 r \$0-funct-parameter-14;
#X connect 0 0 1 0;
#X connect 1 0 11 0;
#X connect 2 0 0 1;
#X connect 3 0 9 0;
#X connect 4 0 3 0;
#X connect 5 0 0 0;
#X connect 5 1 4 0;
#X connect 5 2 3 1;
#X connect 6 0 5 0;
#X connect 7 0 4 1;
#X connect 8 0 10 0;
#X connect 9 0 10 1;
#X connect 10 0 12 0;
#X connect 11 0 8 0;
#X connect 12 0 13 0;
#X connect 14 0 11 1;
#X connect 15 0 2 0;
#X connect 15 0 14 0;
#X restore 148 212 pd get-new-value;
#X msg 273 183 4;
#X msg 148 89 16;
#X obj 148 34 inlet;
#X obj 63 310 outlet;
#X connect 0 0 12 0;
#X connect 1 0 0 1;
#X connect 1 0 2 0;
#X connect 2 0 1 1;
#X connect 3 0 8 0;
#X connect 4 0 0 0;
#X connect 5 0 10 0;
#X connect 5 1 6 0;
#X connect 5 1 9 0;
#X connect 6 0 1 1;
#X connect 7 0 3 0;
#X connect 7 1 4 0;
#X connect 8 0 1 0;
#X connect 9 0 8 1;
#X connect 10 0 7 0;
#X connect 11 0 5 0;
#X restore 250 248 pd rand-all-samples;
#X obj 250 218 spigot;
#X msg 295 190 1, f 1;
#X msg 315 190 0, f 1;
#X obj 136 137 sel sound pattern;
#X obj 70 218 spigot;
#X msg 115 190 1, f 1;
#X msg 135 190 0, f 1;
#N canvas 385 214 700 598 rand-current-sound 0;
#X obj 88 8 inlet;
#X obj 88 534 outlet;
#N canvas 949 300 575 570 get-new-value 0;
#X obj 85 333 random 1000;
#X obj 85 358 / 1000;
#X obj 285 165 * 1000;
#X obj 197 358 text get \$0-pattern-text;
#X obj 197 333 f;
#X obj 85 192 t b b f;
#X obj 85 55 inlet;
#X obj 218 53 inlet;
#X floatatom 109 428 5 0 0 0 - - -;
#X floatatom 197 383 5 0 0 0 - - -;
#X obj 176 460 +;
#X obj 85 383 - 0.5;
#X obj 176 505 clip 0 1;
#X obj 176 530 outlet;
#X obj 122 300 / 2;
#X obj 285 53 r \$0-funct-parameter-14;
#X text 398 356 <-- Get old value;
#X text 211 458 <-- Add randomization;
#X connect 0 0 1 0;
#X connect 1 0 11 0;
#X connect 2 0 0 1;
#X connect 3 0 9 0;
#X connect 4 0 3 0;
#X connect 5 0 0 0;
#X connect 5 1 4 0;
#X connect 5 2 3 1;
#X connect 6 0 5 0;
#X connect 7 0 4 1;
#X connect 8 0 10 0;
#X connect 9 0 10 1;
#X connect 10 0 12 0;
#X connect 11 0 8 0;
#X connect 12 0 13 0;
#X connect 14 0 11 1;
#X connect 15 0 2 0;
#X connect 15 0 14 0;
#X restore 266 316 pd get-new-value;
#X obj 88 343 text get \$0-pattern-text;
#X obj 88 417 list split;
#X obj 126 452 list split 1;
#X floatatom 266 456 5 0 0 1 New_value - -;
#X obj 173 478 list prepend;
#X obj 88 504 list append;
#X floatatom 165 395 5 0 0 1 split_index - -;
#X obj 88 138 t b f f;
#X obj 88 207 t f b f;
#X obj 266 286 f;
#X text 195 120 Get the list of start positions \, split off the value
we want to modify \, replace it with the new value \, then append the
list back together.;
#X msg 88 182 4;
#X obj 109 38 r \$0-current-sound;
#X obj 88 108 f;
#X obj 109 63 route bang;
#X connect 0 0 16 0;
#X connect 2 0 6 0;
#X connect 3 0 4 0;
#X connect 4 0 8 0;
#X connect 4 1 5 0;
#X connect 5 1 7 0;
#X connect 6 0 7 1;
#X connect 7 0 8 1;
#X connect 8 0 1 0;
#X connect 9 0 4 1;
#X connect 10 0 14 0;
#X connect 10 1 12 1;
#X connect 10 2 9 0;
#X connect 11 0 3 0;
#X connect 11 1 12 0;
#X connect 11 2 2 1;
#X connect 12 0 2 0;
#X connect 14 0 11 0;
#X connect 15 0 17 0;
#X connect 16 0 10 0;
#X connect 17 1 16 1;
#X restore 70 248 pd rand-current-sound;
#X obj 70 34 r \$0-randomize-sample-start-positions;
#X obj 70 319 s \$0-sample-start-positions-to-load;
#X connect 0 0 3 0;
#X connect 0 0 7 0;
#X connect 1 0 6 0;
#X connect 2 0 12 0;
#X connect 3 0 2 0;
#X connect 4 0 3 1;
#X connect 5 0 3 1;
#X connect 6 0 5 0;
#X connect 6 0 8 0;
#X connect 6 1 4 0;
#X connect 6 1 9 0;
#X connect 7 0 10 0;
#X connect 8 0 7 1;
#X connect 9 0 7 1;
#X connect 10 0 12 0;
#X connect 11 0 0 0;
#X restore 37 130 pd randomize-sample-start-positions;
#N canvas 1229 336 494 380 randomize-sample-lengths 0;
#X obj 70 145 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 136 112 r \$0-randomize-sound-or-pattern;
#N canvas 0 81 401 365 rand-all-samples 0;
#X obj 63 285 list append;
#X obj 148 255 list append;
#X obj 192 284 t a;
#X floatatom 148 144 5 0 0 0 - - -;
#X obj 219 152 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 148 64 t b b;
#X msg 185 90 bang;
#N canvas 0 81 450 300 loop 0;
#X obj 64 137 until;
#X obj 64 17 inlet bang;
#X obj 58 264 outlet;
#X obj 138 266 outlet done;
#X obj 64 187 t a a;
#X msg 90 110 0;
#X obj 64 162 f 0;
#X obj 138 242 sel 15;
#X obj 105 162 + 1;
#X obj 183 218 - 1;
#X obj 64 82 t f b f;
#X connect 0 0 6 0;
#X connect 1 0 10 0;
#X connect 4 0 7 0;
#X connect 4 1 2 0;
#X connect 5 0 6 1;
#X connect 6 0 4 0;
#X connect 6 0 8 0;
#X connect 7 0 3 0;
#X connect 8 0 6 1;
#X connect 9 0 7 1;
#X connect 10 0 0 0;
#X connect 10 1 5 0;
#X connect 10 2 9 0;
#X restore 148 119 pd loop;
#N canvas 301 390 575 570 get-new-value 0;
#X obj 85 333 random 1000;
#X obj 85 358 / 1000;
#X obj 285 165 * 1000;
#X obj 197 358 text get \$0-pattern-text;
#X obj 197 333 f;
#X obj 85 192 t b b f;
#X obj 85 55 inlet;
#X obj 218 53 inlet;
#X floatatom 109 428 5 0 0 0 - - -;
#X floatatom 197 383 5 0 0 0 - - -;
#X obj 176 460 +;
#X obj 85 383 - 0.5;
#X obj 176 505 clip 0 1;
#X obj 176 530 outlet;
#X obj 122 300 / 2;
#X obj 285 53 r \$0-funct-parameter-15;
#X connect 0 0 1 0;
#X connect 1 0 11 0;
#X connect 2 0 0 1;
#X connect 3 0 9 0;
#X connect 4 0 3 0;
#X connect 5 0 0 0;
#X connect 5 1 4 0;
#X connect 5 2 3 1;
#X connect 6 0 5 0;
#X connect 7 0 4 1;
#X connect 8 0 10 0;
#X connect 9 0 10 1;
#X connect 10 0 12 0;
#X connect 11 0 8 0;
#X connect 12 0 13 0;
#X connect 14 0 11 1;
#X connect 15 0 2 0;
#X connect 15 0 14 0;
#X restore 148 212 pd get-new-value;
#X msg 148 89 16;
#X obj 148 34 inlet;
#X obj 63 310 outlet;
#X msg 273 183 5;
#X connect 0 0 11 0;
#X connect 1 0 0 1;
#X connect 1 0 2 0;
#X connect 2 0 1 1;
#X connect 3 0 8 0;
#X connect 4 0 0 0;
#X connect 5 0 9 0;
#X connect 5 1 6 0;
#X connect 5 1 12 0;
#X connect 6 0 1 1;
#X connect 7 0 3 0;
#X connect 7 1 4 0;
#X connect 8 0 1 0;
#X connect 9 0 7 0;
#X connect 10 0 5 0;
#X connect 12 0 8 1;
#X restore 250 248 pd rand-all-samples;
#X obj 250 218 spigot;
#X msg 295 190 1, f 1;
#X msg 315 190 0, f 1;
#X obj 136 137 sel sound pattern;
#X obj 70 218 spigot;
#X msg 115 190 1, f 1;
#X msg 135 190 0, f 1;
#N canvas 489 142 700 569 rand-current-sound 0;
#X obj 88 8 inlet;
#X obj 88 520 outlet;
#N canvas 321 452 575 570 get-new-value 0;
#X obj 85 333 random 1000;
#X obj 85 358 / 1000;
#X obj 285 165 * 1000;
#X obj 197 358 text get \$0-pattern-text;
#X obj 197 333 f;
#X obj 85 192 t b b f;
#X obj 85 55 inlet;
#X obj 218 53 inlet;
#X floatatom 109 428 5 0 0 0 - - -;
#X floatatom 197 383 5 0 0 0 - - -;
#X obj 176 460 +;
#X obj 85 383 - 0.5;
#X obj 176 505 clip 0 1;
#X obj 176 530 outlet;
#X obj 122 300 / 2;
#X obj 285 53 r \$0-funct-parameter-15;
#X connect 0 0 1 0;
#X connect 1 0 11 0;
#X connect 2 0 0 1;
#X connect 3 0 9 0;
#X connect 4 0 3 0;
#X connect 5 0 0 0;
#X connect 5 1 4 0;
#X connect 5 2 3 1;
#X connect 6 0 5 0;
#X connect 7 0 4 1;
#X connect 8 0 10 0;
#X connect 9 0 10 1;
#X connect 10 0 12 0;
#X connect 11 0 8 0;
#X connect 12 0 13 0;
#X connect 14 0 11 1;
#X connect 15 0 2 0;
#X connect 15 0 14 0;
#X restore 266 302 pd get-new-value;
#X obj 88 329 text get \$0-pattern-text;
#X obj 88 403 list split;
#X obj 126 438 list split 1;
#X floatatom 266 442 5 0 0 1 New_value - -;
#X obj 173 464 list prepend;
#X obj 88 490 list append;
#X floatatom 165 381 5 0 0 1 split_index - -;
#X obj 88 203 t f b f;
#X obj 266 272 f;
#X text 201 125 Get the list of start positions \, split off the value
we want to modify \, replace it with the new value \, then append the
list back together.;
#X msg 88 178 5;
#X obj 88 104 f;
#X obj 109 38 r \$0-current-sound;
#X obj 109 63 route bang;
#X obj 88 134 t f f f f;
#X connect 0 0 14 0;
#X connect 2 0 6 0;
#X connect 3 0 4 0;
#X connect 4 0 8 0;
#X connect 4 1 5 0;
#X connect 5 1 7 0;
#X connect 6 0 7 1;
#X connect 7 0 8 1;
#X connect 8 0 1 0;
#X connect 9 0 4 1;
#X connect 10 0 3 0;
#X connect 10 1 11 0;
#X connect 10 2 2 1;
#X connect 11 0 2 0;
#X connect 13 0 10 0;
#X connect 14 0 17 0;
#X connect 15 0 16 0;
#X connect 16 1 14 1;
#X connect 17 0 13 0;
#X connect 17 1 11 1;
#X connect 17 2 9 0;
#X restore 70 248 pd rand-current-sound;
#X obj 70 34 r \$0-randomize-sample-lengths;
#X obj 70 319 s \$0-sample-lengths-to-load;
#X connect 0 0 3 0;
#X connect 0 0 7 0;
#X connect 1 0 6 0;
#X connect 2 0 12 0;
#X connect 3 0 2 0;
#X connect 4 0 3 1;
#X connect 5 0 3 1;
#X connect 6 0 5 0;
#X connect 6 0 8 0;
#X connect 6 1 4 0;
#X connect 6 1 9 0;
#X connect 7 0 10 0;
#X connect 8 0 7 1;
#X connect 9 0 7 1;
#X connect 10 0 12 0;
#X connect 11 0 0 0;
#X restore 37 150 pd randomize-sample-lengths;
#N canvas 614 486 614 405 randomize-sample-volumes 0;
#X obj 70 145 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 136 112 r \$0-randomize-sound-or-pattern;
#X obj 260 218 spigot;
#X msg 305 190 1, f 1;
#X msg 325 190 0, f 1;
#X obj 136 137 sel sound pattern;
#X obj 70 218 spigot;
#X msg 115 190 1, f 1;
#X msg 135 190 0, f 1;
#N canvas 489 142 700 571 rand-current-volume 0;
#X obj 88 8 inlet;
#X obj 88 539 outlet;
#N canvas 301 390 575 570 get-new-value 0;
#X obj 85 333 random 1000;
#X obj 85 358 / 1000;
#X obj 285 165 * 1000;
#X obj 197 358 text get \$0-pattern-text;
#X obj 197 333 f;
#X obj 85 192 t b b f;
#X obj 85 55 inlet;
#X obj 218 53 inlet;
#X floatatom 109 428 5 0 0 0 - - -;
#X floatatom 197 383 5 0 0 0 - - -;
#X obj 176 460 +;
#X obj 85 383 - 0.5;
#X obj 176 505 clip 0 1;
#X obj 176 530 outlet;
#X obj 122 300 / 2;
#X obj 285 53 r \$0-funct-parameter-8;
#X connect 0 0 1 0;
#X connect 1 0 11 0;
#X connect 2 0 0 1;
#X connect 3 0 9 0;
#X connect 4 0 3 0;
#X connect 5 0 0 0;
#X connect 5 1 4 0;
#X connect 5 2 3 1;
#X connect 6 0 5 0;
#X connect 7 0 4 1;
#X connect 8 0 10 0;
#X connect 9 0 10 1;
#X connect 10 0 12 0;
#X connect 11 0 8 0;
#X connect 12 0 13 0;
#X connect 14 0 11 1;
#X connect 15 0 2 0;
#X connect 15 0 14 0;
#X restore 266 311 pd get-new-value;
#X obj 88 348 text get \$0-pattern-text;
#X obj 88 422 list split;
#X obj 126 457 list split 1;
#X floatatom 266 461 5 0 0 1 New_value - -;
#X obj 173 483 list prepend;
#X obj 88 509 list append;
#X floatatom 165 400 5 0 0 1 split_index - -;
#X obj 88 143 t b f f;
#X obj 88 212 t f b f;
#X obj 266 281 f;
#X text 193 134 Get the list of start positions \, split off the value
we want to modify \, replace it with the new value \, then append the
list back together.;
#X msg 88 187 6;
#X obj 109 38 r \$0-current-sound;
#X obj 88 108 f;
#X obj 109 63 route bang;
#X connect 0 0 16 0;
#X connect 2 0 6 0;
#X connect 3 0 4 0;
#X connect 4 0 8 0;
#X connect 4 1 5 0;
#X connect 5 1 7 0;
#X connect 6 0 7 1;
#X connect 7 0 8 1;
#X connect 8 0 1 0;
#X connect 9 0 4 1;
#X connect 10 0 14 0;
#X connect 10 1 12 1;
#X connect 10 2 9 0;
#X connect 11 0 3 0;
#X connect 11 1 12 0;
#X connect 11 2 2 1;
#X connect 12 0 2 0;
#X connect 14 0 11 0;
#X connect 15 0 17 0;
#X connect 16 0 10 0;
#X connect 17 1 16 1;
#X restore 70 248 pd rand-current-volume;
#N canvas 0 81 401 365 rand-all-volumes 0;
#X obj 63 285 list append;
#X obj 148 255 list append;
#X obj 192 284 t a;
#X floatatom 148 144 5 0 0 0 - - -;
#X obj 219 152 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 148 64 t b b;
#X msg 185 90 bang;
#N canvas 0 81 450 300 loop 0;
#X obj 64 137 until;
#X obj 64 17 inlet bang;
#X obj 58 264 outlet;
#X obj 138 266 outlet done;
#X obj 64 187 t a a;
#X msg 90 110 0;
#X obj 64 162 f 0;
#X obj 138 242 sel 15;
#X obj 105 162 + 1;
#X obj 183 218 - 1;
#X obj 64 82 t f b f;
#X connect 0 0 6 0;
#X connect 1 0 10 0;
#X connect 4 0 7 0;
#X connect 4 1 2 0;
#X connect 5 0 6 1;
#X connect 6 0 4 0;
#X connect 6 0 8 0;
#X connect 7 0 3 0;
#X connect 8 0 6 1;
#X connect 9 0 7 1;
#X connect 10 0 0 0;
#X connect 10 1 5 0;
#X connect 10 2 9 0;
#X restore 148 119 pd loop;
#N canvas 522 387 575 570 get-new-value 0;
#X obj 85 333 random 1000;
#X obj 85 358 / 1000;
#X obj 285 165 * 1000;
#X obj 197 358 text get \$0-pattern-text;
#X obj 197 333 f;
#X obj 85 192 t b b f;
#X obj 85 55 inlet;
#X obj 218 53 inlet;
#X floatatom 109 428 5 0 0 0 - - -;
#X floatatom 197 383 5 0 0 0 - - -;
#X obj 176 460 +;
#X obj 85 383 - 0.5;
#X obj 176 505 clip 0 1;
#X obj 176 530 outlet;
#X obj 122 300 / 2;
#X obj 285 53 r \$0-funct-parameter-8;
#X connect 0 0 1 0;
#X connect 1 0 11 0;
#X connect 2 0 0 1;
#X connect 3 0 9 0;
#X connect 4 0 3 0;
#X connect 5 0 0 0;
#X connect 5 1 4 0;
#X connect 5 2 3 1;
#X connect 6 0 5 0;
#X connect 7 0 4 1;
#X connect 8 0 10 0;
#X connect 9 0 10 1;
#X connect 10 0 12 0;
#X connect 11 0 8 0;
#X connect 12 0 13 0;
#X connect 14 0 11 1;
#X connect 15 0 2 0;
#X connect 15 0 14 0;
#X restore 148 212 pd get-new-value;
#X msg 148 89 16;
#X obj 148 34 inlet;
#X obj 63 310 outlet;
#X msg 273 183 6;
#X connect 0 0 11 0;
#X connect 1 0 0 1;
#X connect 1 0 2 0;
#X connect 2 0 1 1;
#X connect 3 0 8 0;
#X connect 4 0 0 0;
#X connect 5 0 9 0;
#X connect 5 1 6 0;
#X connect 5 1 12 0;
#X connect 6 0 1 1;
#X connect 7 0 3 0;
#X connect 7 1 4 0;
#X connect 8 0 1 0;
#X connect 9 0 7 0;
#X connect 10 0 5 0;
#X connect 12 0 8 1;
#X restore 260 248 pd rand-all-volumes;
#X obj 107 325 s \$0-sample-volumes-to-load;
#X obj 70 34 r \$0-randomize-volumes;
#X obj 70 296 t b a;
#X obj 70 355 s \$0-apply-new-volumes;
#X connect 0 0 2 0;
#X connect 0 0 6 0;
#X connect 1 0 5 0;
#X connect 2 0 10 0;
#X connect 3 0 2 1;
#X connect 4 0 2 1;
#X connect 5 0 4 0;
#X connect 5 0 7 0;
#X connect 5 1 3 0;
#X connect 5 1 8 0;
#X connect 6 0 9 0;
#X connect 7 0 6 1;
#X connect 8 0 6 1;
#X connect 9 0 13 0;
#X connect 10 0 13 0;
#X connect 12 0 0 0;
#X connect 13 0 14 0;
#X connect 13 1 11 0;
#X restore 37 170 pd randomize-sample-volumes;
#X text 34 19 The gate / pitch / retrig shifts and randomizers modify
the text object \, then the pattern is reloaded.;
#X restore 37 304 pd pattern-shifts-and-rand;
#N canvas 369 163 686 743 save-pattern-to-disk 0;
#X obj 29 231 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X msg 82 336 1;
#X msg 122 336 0;
#X obj 82 376 s \$0-saving-to-disk;
#X obj 182 468 f 0;
#X msg 182 642 write \$1;
#X obj 201 403 r \$0-current-pattern;
#X msg 227 523 set \$1;
#X obj 182 562 makefilename not-set-yet;
#X obj 227 473 r \$0-tbc-id;
#X obj 269 652 print saving-pattern;
#X obj 122 301 t b b;
#X obj 29 118 r \$0-save-pattern;
#N canvas 650 169 835 690 check-if-we-can-save 0;
#X msg 90 99 1;
#X obj 90 50 r \$0-bang-on-load-1;
#X obj 90 75 del 100;
#X obj 29 122 spigot 0;
#X obj 29 24 inlet;
#X obj 29 654 outlet;
#X text 198 81 Don't let the pattern be saved until we have loaded
the first pattern.;
#X obj 90 171 == 0;
#X obj 90 146 r \$0-loading-from-disk;
#X obj 29 209 spigot 0;
#X text 284 147 Make sure we aren't loading from the disk;
#X obj 29 596 spigot 1;
#X obj 90 462 r \$0-update-pattern;
#X obj 29 621 t b b;
#X msg 116 621 0;
#X msg 90 572 1;
#X obj 99 272 print;
#X obj 99 209 spigot 0;
#X msg 99 239 ERROR: Could not save because we are loading from disk!
;
#X obj 90 302 r \$0-global-state-1;
#X obj 90 407 t f;
#X msg 90 372 0;
#X msg 215 369 1;
#X obj 29 432 spigot 0;
#X obj 90 547 spigot 1;
#X obj 151 489 r \$0-loading-from-disk;
#X obj 151 514 == 0;
#X text 205 530 Do not consider the pattern "updated" if it was actually
just a different pattern that was loaded onto the grid.;
#X text 156 596 Check that the pattern was actually updated before
saving;
#X obj 90 327 sel pattern-mode;
#X connect 0 0 3 1;
#X connect 1 0 2 0;
#X connect 2 0 0 0;
#X connect 3 0 9 0;
#X connect 3 0 17 0;
#X connect 4 0 3 0;
#X connect 7 0 9 1;
#X connect 8 0 7 0;
#X connect 8 0 17 1;
#X connect 9 0 23 0;
#X connect 11 0 13 0;
#X connect 12 0 24 0;
#X connect 13 0 5 0;
#X connect 13 1 14 0;
#X connect 14 0 11 1;
#X connect 15 0 11 1;
#X connect 17 0 18 0;
#X connect 18 0 16 0;
#X connect 19 0 29 0;
#X connect 20 0 23 1;
#X connect 21 0 20 0;
#X connect 22 0 20 0;
#X connect 23 0 11 0;
#X connect 24 0 15 0;
#X connect 25 0 26 0;
#X connect 26 0 24 1;
#X connect 29 0 21 0;
#X connect 29 1 22 0;
#X restore 29 207 pd check-if-we-can-save;
#X obj 182 686 s \$0-pattern-text-inlet;
#X obj 192 143 t b b f;
#X obj 192 433 f;
#X obj 192 118 r \$0-paste-pattern-number;
#X obj 29 250 t b b b;
#X text 441 652 Save pattern to text file;
#X text 28 8 Save the pattern to disk.;
#X obj 55 273 s \$0-save-settings;
#X obj 227 498 makefilename tbc-state-saves/tbc-%d/pattern%%d.txt;
#X text 28 69 example: tbc-state-saves/tbc-0/pattern0.txt;
#X text 27 29 Patterns are saved to text files found in tbc-state-saves/tbc-(tbc#)/pattern(pattern#).txt
;
#X obj 269 622 spigot;
#X obj 314 592 r \$0-debug-log;
#X connect 0 0 18 0;
#X connect 1 0 3 0;
#X connect 2 0 3 0;
#X connect 4 0 8 0;
#X connect 5 0 14 0;
#X connect 6 0 16 0;
#X connect 7 0 8 0;
#X connect 8 0 5 0;
#X connect 8 0 25 0;
#X connect 9 0 22 0;
#X connect 11 0 2 0;
#X connect 11 1 4 0;
#X connect 12 0 13 0;
#X connect 13 0 0 0;
#X connect 15 0 16 0;
#X connect 15 1 13 0;
#X connect 15 2 4 1;
#X connect 16 0 4 1;
#X connect 17 0 15 0;
#X connect 18 0 11 0;
#X connect 18 1 21 0;
#X connect 18 2 1 0;
#X connect 22 0 7 0;
#X connect 25 0 10 0;
#X connect 26 0 25 1;
#X restore 37 164 pd save-pattern-to-disk;
#N canvas 69 103 1215 862 update-pattern-in-memory 0;
#X obj 657 555 r \$0-packed-gate-seq;
#X obj 831 555 r \$0-packed-pitch-seq;
#N canvas 0 50 450 300 loop-16 0;
#X obj 64 137 until;
#X msg 64 110 16;
#X obj 64 17 inlet bang;
#X obj 58 264 outlet;
#X obj 64 42 t b b;
#X obj 138 266 outlet done;
#X obj 64 187 t a a;
#X msg 101 110 0;
#X obj 64 162 f 0;
#X obj 138 242 sel 15;
#X obj 105 162 + 1;
#X connect 0 0 8 0;
#X connect 1 0 0 0;
#X connect 2 0 4 0;
#X connect 4 0 1 0;
#X connect 4 1 7 0;
#X connect 6 0 9 0;
#X connect 6 1 3 0;
#X connect 7 0 8 1;
#X connect 8 0 6 0;
#X connect 8 0 10 0;
#X connect 9 0 5 0;
#X connect 10 0 8 1;
#X restore 91 466 pd loop-16;
#X floatatom 91 496 5 0 0 0 - - -;
#X obj 209 639 pack s f;
#X obj 188 714 s;
#X obj 209 689 symbol;
#X floatatom 270 616 5 0 15 1 seq - -;
#X obj 209 592 symbol \$0-get-seq;
#X text 228 714 Send bang to load correct seq;
#X obj 39 95 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X msg 92 222 1;
#X msg 132 222 0;
#X obj 132 197 r \$0-bang-on-load-1;
#X text 663 526 The packed gate seq is recieved first \, then the pitch
;
#X obj 91 520 t f b b f;
#X msg 135 592 2, f 1;
#X msg 161 592 1, f 1;
#X msg 188 592 0, f 1;
#X obj 1013 575 r \$0-packed-retrig-seq;
#X msg 209 664 \$1-\$2-r;
#X msg 657 663 \$1 \$2 \$3 \$4 \$5 \$6 \$7 \$8 \$9 \$10 \$11 \$12 \$13
\$14 \$15 \$16;
#X obj 633 727 t a b;
#X obj 633 784 text set \$0-pattern-text;
#X obj 657 630 spigot 0;
#X obj 203 2 r \$0-paste-pattern-number;
#X obj 39 2 r \$0-update-pattern;
#X obj 92 263 s \$0-updating-pattern;
#X obj 718 580 r \$0-updating-pattern;
#X obj 110 171 s \$0-pattern-text-inlet;
#X msg 110 143 clear;
#N canvas 750 114 737 778 check-if-we-can-update 0;
#X msg 90 129 1;
#X obj 90 80 r \$0-bang-on-load-1;
#X obj 90 105 del 100;
#X obj 29 152 spigot 0;
#X obj 29 54 inlet;
#X obj 29 722 outlet;
#X obj 111 568 == 0;
#X obj 111 543 r \$0-loading-from-disk;
#X obj 29 667 spigot 0;
#X obj 90 515 ||;
#X msg 157 247 0;
#X obj 111 340 r \$0-global-state-1;
#X msg 548 416 0;
#X obj 90 307 t f;
#X text 317 572 Make sure we aren't loading from the disk;
#X obj 90 636 &&;
#X obj 111 435 del 50;
#X obj 90 222 sel 1;
#X msg 90 271 1;
#X msg 111 460 1;
#X obj 90 247 del 50;
#X floatatom 148 517 5 0 0 0 - - -;
#X obj 111 485 t b f;
#X floatatom 107 666 5 0 0 0 - - -;
#X obj 111 593 t b f;
#X floatatom 152 621 5 0 0 0 - - -;
#X text 198 111 Don't let the pattern be updated until we have loaded
the first pattern.;
#X obj 116 731 print;
#X msg 116 703 updating-pattern;
#X text 317 683 Bug;
#X text 276 703 <--- Triggers twice (connect to test);
#X text 272 339 Check if anything is being modified;
#X obj 111 365 sel fx-mode bpm-mode paste-mode funct-mode samples-mode
sound-mode one-shot-mode;
#X obj 90 198 r \$0-view-sequencer;
#X connect 0 0 3 1;
#X connect 1 0 2 0;
#X connect 2 0 0 0;
#X connect 3 0 8 0;
#X connect 4 0 3 0;
#X connect 6 0 24 0;
#X connect 7 0 6 0;
#X connect 8 0 5 0;
#X connect 9 0 15 0;
#X connect 10 0 13 0;
#X connect 11 0 32 0;
#X connect 12 0 22 0;
#X connect 13 0 9 0;
#X connect 15 0 8 1;
#X connect 15 0 23 0;
#X connect 16 0 19 0;
#X connect 17 0 20 0;
#X connect 17 1 10 0;
#X connect 18 0 13 0;
#X connect 19 0 22 0;
#X connect 20 0 18 0;
#X connect 22 0 9 0;
#X connect 22 1 9 1;
#X connect 22 1 21 0;
#X connect 24 0 15 0;
#X connect 24 1 15 1;
#X connect 24 1 25 0;
#X connect 28 0 27 0;
#X connect 32 0 16 0;
#X connect 32 1 16 0;
#X connect 32 2 16 0;
#X connect 32 3 16 0;
#X connect 32 4 16 0;
#X connect 32 5 16 0;
#X connect 32 6 16 0;
#X connect 32 7 12 0;
#X connect 33 0 17 0;
#X restore 39 71 pd check-if-we-can-update;
#X obj 114 636 f;
#X obj 39 115 t b b b;
#X obj 65 296 t b b b b b;
#X msg 691 236 list Gate data for all 16 sequences in the pattern \;
;
#X msg 691 286 list Pitch data for all 16 sequences in the pattern
\;;
#X msg 691 336 list Retrig data for all 16 sequences in the pattern
\;;
#X obj 633 432 t a;
#X obj 593 126 t b b;
#X obj 223 405 t b b b;
#X obj 149 405 t b b b;
#X obj 65 405 t b b b;
#X obj 592 176 t b b;
#X obj 592 226 t b b;
#X obj 592 276 t b b;
#X text 494 26 This patch updates the text object \$0-pattern-text
to include the current pattern data.;
#X msg 691 150 list The Beat Cop save file. Comments are auto generated
\;;
#X msg 691 216 list \;;
#X msg 691 266 list \;;
#X msg 691 316 list \;;
#X msg 670 751 1e+006;
#N canvas 0 81 661 483 fx-and-others-to-save 0;
#X obj 50 344 array get \$0-fx-array;
#N canvas 155 287 571 519 get-fx-parameters 0;
#X obj 227 63 r \$0-fx-parameter-0;
#X obj 206 114 f;
#X obj 216 134 f;
#X obj 226 154 f;
#X obj 236 174 f;
#X obj 246 194 f;
#X obj 256 214 f;
#X obj 266 234 f;
#X obj 276 254 f;
#X obj 286 274 f;
#X obj 296 294 f;
#X obj 306 314 f;
#X obj 316 334 f;
#X obj 326 354 f;
#X obj 336 374 f;
#X obj 346 394 f;
#X obj 356 414 f;
#X obj 71 454 pack f f f f f f f f f f f f f f f f;
#X obj 71 479 outlet;
#X obj 72 65 t b b;
#X obj 72 35 inlet bang;
#X obj 237 83 r \$0-fx-parameter-1;
#X obj 247 103 r \$0-fx-parameter-2;
#X obj 257 123 r \$0-fx-parameter-3;
#X obj 267 143 r \$0-fx-parameter-4;
#X obj 277 163 r \$0-fx-parameter-5;
#X obj 287 183 r \$0-fx-parameter-6;
#X obj 297 203 r \$0-fx-parameter-7;
#X obj 307 223 r \$0-fx-parameter-8;
#X obj 317 243 r \$0-fx-parameter-9;
#X obj 327 263 r \$0-fx-parameter-10;
#X obj 337 283 r \$0-fx-parameter-11;
#X obj 347 303 r \$0-fx-parameter-12;
#X obj 357 323 r \$0-fx-parameter-13;
#X obj 367 343 r \$0-fx-parameter-14;
#X obj 377 363 r \$0-fx-parameter-15;
#X connect 0 0 1 1;
#X connect 1 0 17 0;
#X connect 2 0 17 1;
#X connect 3 0 17 2;
#X connect 4 0 17 3;
#X connect 5 0 17 4;
#X connect 6 0 17 5;
#X connect 7 0 17 6;
#X connect 8 0 17 7;
#X connect 9 0 17 8;
#X connect 10 0 17 9;
#X connect 11 0 17 10;
#X connect 12 0 17 11;
#X connect 13 0 17 12;
#X connect 14 0 17 13;
#X connect 15 0 17 14;
#X connect 16 0 17 15;
#X connect 17 0 18 0;
#X connect 19 0 1 0;
#X connect 19 1 2 0;
#X connect 19 1 3 0;
#X connect 19 1 4 0;
#X connect 19 1 5 0;
#X connect 19 1 6 0;
#X connect 19 1 7 0;
#X connect 19 1 8 0;
#X connect 19 1 9 0;
#X connect 19 1 10 0;
#X connect 19 1 11 0;
#X connect 19 1 12 0;
#X connect 19 1 13 0;
#X connect 19 1 14 0;
#X connect 19 1 15 0;
#X connect 19 1 16 0;
#X connect 20 0 19 0;
#X connect 21 0 2 1;
#X connect 22 0 3 1;
#X connect 23 0 4 1;
#X connect 24 0 5 1;
#X connect 25 0 6 1;
#X connect 26 0 7 1;
#X connect 27 0 8 1;
#X connect 28 0 9 1;
#X connect 29 0 10 1;
#X connect 30 0 11 1;
#X connect 31 0 12 1;
#X connect 32 0 13 1;
#X connect 33 0 14 1;
#X connect 34 0 15 1;
#X connect 35 0 16 1;
#X restore 69 314 pd get-fx-parameters;
#X msg 167 164 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
#N canvas 0 81 450 300 loop-16 0;
#X obj 64 137 until;
#X msg 64 110 16;
#X obj 64 17 inlet bang;
#X obj 58 264 outlet;
#X obj 64 42 t b b;
#X obj 138 266 outlet done;
#X obj 64 187 t a a;
#X msg 101 110 0;
#X obj 64 162 f 0;
#X obj 138 242 sel 15;
#X obj 105 162 + 1;
#X connect 0 0 8 0;
#X connect 1 0 0 0;
#X connect 2 0 4 0;
#X connect 4 0 1 0;
#X connect 4 1 7 0;
#X connect 6 0 9 0;
#X connect 6 1 3 0;
#X connect 7 0 8 1;
#X connect 8 0 6 0;
#X connect 8 0 10 0;
#X connect 9 0 5 0;
#X connect 10 0 8 1;
#X restore 50 65 pd loop-16;
#X obj 50 379 outlet;
#X obj 50 32 inlet;
#N canvas 155 287 645 528 get-sample-start-positions 0;
#X obj 206 114 f;
#X obj 216 134 f;
#X obj 226 154 f;
#X obj 236 174 f;
#X obj 246 194 f;
#X obj 256 214 f;
#X obj 266 234 f;
#X obj 276 254 f;
#X obj 286 274 f;
#X obj 296 294 f;
#X obj 306 314 f;
#X obj 316 334 f;
#X obj 326 354 f;
#X obj 336 374 f;
#X obj 346 394 f;
#X obj 356 414 f;
#X obj 71 454 pack f f f f f f f f f f f f f f f f;
#X obj 71 479 outlet;
#X obj 72 65 t b b;
#X obj 72 35 inlet bang;
#X obj 227 63 r \$0-sample-start-position-0;
#X obj 237 83 r \$0-sample-start-position-1;
#X obj 247 103 r \$0-sample-start-position-2;
#X obj 257 123 r \$0-sample-start-position-3;
#X obj 267 143 r \$0-sample-start-position-4;
#X obj 277 163 r \$0-sample-start-position-5;
#X obj 287 183 r \$0-sample-start-position-6;
#X obj 297 203 r \$0-sample-start-position7;
#X obj 307 223 r \$0-sample-start-position-8;
#X obj 317 243 r \$0-sample-start-position-9;
#X obj 327 263 r \$0-sample-start-position-10;
#X obj 337 283 r \$0-sample-start-position-11;
#X obj 347 303 r \$0-sample-start-position-12;
#X obj 357 323 r \$0-sample-start-position-13;
#X obj 367 343 r \$0-sample-start-position-14;
#X obj 377 363 r \$0-sample-start-position-15;
#X connect 0 0 16 0;
#X connect 1 0 16 1;
#X connect 2 0 16 2;
#X connect 3 0 16 3;
#X connect 4 0 16 4;
#X connect 5 0 16 5;
#X connect 6 0 16 6;
#X connect 7 0 16 7;
#X connect 8 0 16 8;
#X connect 9 0 16 9;
#X connect 10 0 16 10;
#X connect 11 0 16 11;
#X connect 12 0 16 12;
#X connect 13 0 16 13;
#X connect 14 0 16 14;
#X connect 15 0 16 15;
#X connect 16 0 17 0;
#X connect 18 0 0 0;
#X connect 18 1 1 0;
#X connect 18 1 2 0;
#X connect 18 1 3 0;
#X connect 18 1 4 0;
#X connect 18 1 5 0;
#X connect 18 1 6 0;
#X connect 18 1 7 0;
#X connect 18 1 8 0;
#X connect 18 1 9 0;
#X connect 18 1 10 0;
#X connect 18 1 11 0;
#X connect 18 1 12 0;
#X connect 18 1 13 0;
#X connect 18 1 14 0;
#X connect 18 1 15 0;
#X connect 19 0 18 0;
#X connect 20 0 0 1;
#X connect 21 0 1 1;
#X connect 22 0 2 1;
#X connect 23 0 3 1;
#X connect 24 0 4 1;
#X connect 25 0 5 1;
#X connect 26 0 6 1;
#X connect 27 0 7 1;
#X connect 28 0 8 1;
#X connect 29 0 9 1;
#X connect 30 0 10 1;
#X connect 31 0 11 1;
#X connect 32 0 12 1;
#X connect 33 0 13 1;
#X connect 34 0 14 1;
#X connect 35 0 15 1;
#X restore 89 284 pd get-sample-start-positions;
#N canvas 155 287 579 538 get-sample-lengths 0;
#X obj 206 114 f;
#X obj 216 134 f;
#X obj 226 154 f;
#X obj 236 174 f;
#X obj 246 194 f;
#X obj 256 214 f;
#X obj 266 234 f;
#X obj 276 254 f;
#X obj 286 274 f;
#X obj 296 294 f;
#X obj 306 314 f;
#X obj 316 334 f;
#X obj 326 354 f;
#X obj 336 374 f;
#X obj 346 394 f;
#X obj 356 414 f;
#X obj 71 454 pack f f f f f f f f f f f f f f f f;
#X obj 71 479 outlet;
#X obj 72 65 t b b;
#X obj 72 35 inlet bang;
#X obj 227 63 r \$0-sample-length-0;
#X obj 237 83 r \$0-sample-length-1;
#X obj 247 103 r \$0-sample-length-2;
#X obj 257 123 r \$0-sample-length-3;
#X obj 267 143 r \$0-sample-length-4;
#X obj 277 163 r \$0-sample-length-5;
#X obj 287 183 r \$0-sample-length-6;
#X obj 297 203 r \$0-sample-length-7;
#X obj 307 223 r \$0-sample-length-8;
#X obj 317 243 r \$0-sample-length-9;
#X obj 327 263 r \$0-sample-length-10;
#X obj 337 283 r \$0-sample-length-11;
#X obj 347 303 r \$0-sample-length-12;
#X obj 357 323 r \$0-sample-length-13;
#X obj 367 343 r \$0-sample-length-14;
#X obj 377 363 r \$0-sample-length-15;
#X connect 0 0 16 0;
#X connect 1 0 16 1;
#X connect 2 0 16 2;
#X connect 3 0 16 3;
#X connect 4 0 16 4;
#X connect 5 0 16 5;
#X connect 6 0 16 6;
#X connect 7 0 16 7;
#X connect 8 0 16 8;
#X connect 9 0 16 9;
#X connect 10 0 16 10;
#X connect 11 0 16 11;
#X connect 12 0 16 12;
#X connect 13 0 16 13;
#X connect 14 0 16 14;
#X connect 15 0 16 15;
#X connect 16 0 17 0;
#X connect 18 0 0 0;
#X connect 18 1 1 0;
#X connect 18 1 2 0;
#X connect 18 1 3 0;
#X connect 18 1 4 0;
#X connect 18 1 5 0;
#X connect 18 1 6 0;
#X connect 18 1 7 0;
#X connect 18 1 8 0;
#X connect 18 1 9 0;
#X connect 18 1 10 0;
#X connect 18 1 11 0;
#X connect 18 1 12 0;
#X connect 18 1 13 0;
#X connect 18 1 14 0;
#X connect 18 1 15 0;
#X connect 19 0 18 0;
#X connect 20 0 0 1;
#X connect 21 0 1 1;
#X connect 22 0 2 1;
#X connect 23 0 3 1;
#X connect 24 0 4 1;
#X connect 25 0 5 1;
#X connect 26 0 6 1;
#X connect 27 0 7 1;
#X connect 28 0 8 1;
#X connect 29 0 9 1;
#X connect 30 0 10 1;
#X connect 31 0 11 1;
#X connect 32 0 12 1;
#X connect 33 0 13 1;
#X connect 34 0 14 1;
#X connect 35 0 15 1;
#X restore 108 254 pd get-sample-lengths;
#N canvas 154 328 579 538 get-sample-volumes 0;
#X obj 206 114 f;
#X obj 216 134 f;
#X obj 226 154 f;
#X obj 236 174 f;
#X obj 246 194 f;
#X obj 256 214 f;
#X obj 266 234 f;
#X obj 276 254 f;
#X obj 286 274 f;
#X obj 296 294 f;
#X obj 306 314 f;
#X obj 316 334 f;
#X obj 326 354 f;
#X obj 336 374 f;
#X obj 346 394 f;
#X obj 356 414 f;
#X obj 71 454 pack f f f f f f f f f f f f f f f f;
#X obj 71 479 outlet;
#X obj 72 65 t b b;
#X obj 72 35 inlet bang;
#X obj 227 63 r \$0-sample-volume-0;
#X obj 237 83 r \$0-sample-volume-1;
#X obj 247 103 r \$0-sample-volume-2;
#X obj 257 123 r \$0-sample-volume-3;
#X obj 267 143 r \$0-sample-volume-4;
#X obj 277 163 r \$0-sample-volume-5;
#X obj 287 183 r \$0-sample-volume-6;
#X obj 297 203 r \$0-sample-volume-7;
#X obj 307 223 r \$0-sample-volume-8;
#X obj 317 243 r \$0-sample-volume-9;
#X obj 327 263 r \$0-sample-volume-10;
#X obj 337 283 r \$0-sample-volume-11;
#X obj 347 303 r \$0-sample-volume-12;
#X obj 357 323 r \$0-sample-volume-13;
#X obj 367 343 r \$0-sample-volume-14;
#X obj 377 363 r \$0-sample-volume-15;
#X connect 0 0 16 0;
#X connect 1 0 16 1;
#X connect 2 0 16 2;
#X connect 3 0 16 3;
#X connect 4 0 16 4;
#X connect 5 0 16 5;
#X connect 6 0 16 6;
#X connect 7 0 16 7;
#X connect 8 0 16 8;
#X connect 9 0 16 9;
#X connect 10 0 16 10;
#X connect 11 0 16 11;
#X connect 12 0 16 12;
#X connect 13 0 16 13;
#X connect 14 0 16 14;
#X connect 15 0 16 15;
#X connect 16 0 17 0;
#X connect 18 0 0 0;
#X connect 18 1 1 0;
#X connect 18 1 2 0;
#X connect 18 1 3 0;
#X connect 18 1 4 0;
#X connect 18 1 5 0;
#X connect 18 1 6 0;
#X connect 18 1 7 0;
#X connect 18 1 8 0;
#X connect 18 1 9 0;
#X connect 18 1 10 0;
#X connect 18 1 11 0;
#X connect 18 1 12 0;
#X connect 18 1 13 0;
#X connect 18 1 14 0;
#X connect 18 1 15 0;
#X connect 19 0 18 0;
#X connect 20 0 0 1;
#X connect 21 0 1 1;
#X connect 22 0 2 1;
#X connect 23 0 3 1;
#X connect 24 0 4 1;
#X connect 25 0 5 1;
#X connect 26 0 6 1;
#X connect 27 0 7 1;
#X connect 28 0 8 1;
#X connect 29 0 9 1;
#X connect 30 0 10 1;
#X connect 31 0 11 1;
#X connect 32 0 12 1;
#X connect 33 0 13 1;
#X connect 34 0 14 1;
#X connect 35 0 15 1;
#X restore 128 224 pd get-sample-volumes;
#X text 427 162 All others blank;
#X obj 50 104 sel 0 1 2 3 4 5;
#N canvas 154 328 579 538 get-funct-params 0;
#X obj 206 114 f;
#X obj 216 134 f;
#X obj 226 154 f;
#X obj 236 174 f;
#X obj 246 194 f;
#X obj 256 214 f;
#X obj 266 234 f;
#X obj 276 254 f;
#X obj 286 274 f;
#X obj 296 294 f;
#X obj 306 314 f;
#X obj 316 334 f;
#X obj 326 354 f;
#X obj 336 374 f;
#X obj 346 394 f;
#X obj 356 414 f;
#X obj 71 454 pack f f f f f f f f f f f f f f f f;
#X obj 71 479 outlet;
#X obj 72 65 t b b;
#X obj 72 35 inlet bang;
#X obj 227 63 r \$0-funct-parameter-0;
#X obj 237 83 r \$0-funct-parameter-1;
#X obj 247 103 r \$0-funct-parameter-2;
#X obj 257 123 r \$0-funct-parameter-3;
#X obj 267 143 r \$0-funct-parameter-4;
#X obj 277 163 r \$0-funct-parameter-5;
#X obj 287 183 r \$0-funct-parameter-6;
#X obj 297 203 r \$0-funct-parameter-7;
#X obj 307 223 r \$0-funct-parameter-8;
#X obj 317 243 r \$0-funct-parameter-9;
#X obj 327 263 r \$0-funct-parameter-10;
#X obj 337 283 r \$0-funct-parameter-11;
#X obj 347 303 r \$0-funct-parameter-12;
#X obj 357 323 r \$0-funct-parameter-13;
#X obj 367 343 r \$0-funct-parameter-14;
#X obj 377 363 r \$0-funct-parameter-15;
#X connect 0 0 16 0;
#X connect 1 0 16 1;
#X connect 2 0 16 2;
#X connect 3 0 16 3;
#X connect 4 0 16 4;
#X connect 5 0 16 5;
#X connect 6 0 16 6;
#X connect 7 0 16 7;
#X connect 8 0 16 8;
#X connect 9 0 16 9;
#X connect 10 0 16 10;
#X connect 11 0 16 11;
#X connect 12 0 16 12;
#X connect 13 0 16 13;
#X connect 14 0 16 14;
#X connect 15 0 16 15;
#X connect 16 0 17 0;
#X connect 18 0 0 0;
#X connect 18 1 1 0;
#X connect 18 1 2 0;
#X connect 18 1 3 0;
#X connect 18 1 4 0;
#X connect 18 1 5 0;
#X connect 18 1 6 0;
#X connect 18 1 7 0;
#X connect 18 1 8 0;
#X connect 18 1 9 0;
#X connect 18 1 10 0;
#X connect 18 1 11 0;
#X connect 18 1 12 0;
#X connect 18 1 13 0;
#X connect 18 1 14 0;
#X connect 18 1 15 0;
#X connect 19 0 18 0;
#X connect 20 0 0 1;
#X connect 21 0 1 1;
#X connect 22 0 2 1;
#X connect 23 0 3 1;
#X connect 24 0 4 1;
#X connect 25 0 5 1;
#X connect 26 0 6 1;
#X connect 27 0 7 1;
#X connect 28 0 8 1;
#X connect 29 0 9 1;
#X connect 30 0 10 1;
#X connect 31 0 11 1;
#X connect 32 0 12 1;
#X connect 33 0 13 1;
#X connect 34 0 14 1;
#X connect 35 0 15 1;
#X restore 147 194 pd get-funct-params;
#X connect 0 0 4 0;
#X connect 1 0 4 0;
#X connect 2 0 4 0;
#X connect 3 0 10 0;
#X connect 5 0 3 0;
#X connect 6 0 4 0;
#X connect 7 0 4 0;
#X connect 8 0 4 0;
#X connect 10 0 0 0;
#X connect 10 1 1 0;
#X connect 10 2 6 0;
#X connect 10 3 7 0;
#X connect 10 4 8 0;
#X connect 10 5 11 0;
#X connect 10 6 2 0;
#X connect 11 0 4 0;
#X restore 323 444 pd fx-and-others-to-save;
#X obj 323 405 t b;
#X msg 691 170 list FX / FX Params / Sample Start Positions / Sample
Lengths / Sample Volumes (all others unused) \;;
#X connect 0 0 24 0;
#X connect 1 0 24 0;
#X connect 2 0 3 0;
#X connect 3 0 15 0;
#X connect 4 0 20 0;
#X connect 6 0 5 1;
#X connect 7 0 4 1;
#X connect 8 0 4 0;
#X connect 10 0 33 0;
#X connect 11 0 27 0;
#X connect 12 0 27 0;
#X connect 13 0 12 0;
#X connect 15 1 32 0;
#X connect 15 2 8 0;
#X connect 15 3 7 0;
#X connect 16 0 32 1;
#X connect 17 0 32 1;
#X connect 18 0 32 1;
#X connect 19 0 24 0;
#X connect 20 0 6 0;
#X connect 21 0 22 0;
#X connect 22 0 23 0;
#X connect 22 1 51 0;
#X connect 24 0 21 0;
#X connect 25 0 31 0;
#X connect 26 0 31 0;
#X connect 28 0 24 1;
#X connect 30 0 29 0;
#X connect 31 0 10 0;
#X connect 32 0 5 0;
#X connect 33 0 12 0;
#X connect 33 1 34 0;
#X connect 33 2 30 0;
#X connect 33 2 11 0;
#X connect 34 0 42 0;
#X connect 34 1 41 0;
#X connect 34 2 40 0;
#X connect 34 3 53 0;
#X connect 34 4 39 0;
#X connect 35 0 38 0;
#X connect 36 0 38 0;
#X connect 37 0 38 0;
#X connect 38 0 22 0;
#X connect 39 0 54 0;
#X connect 39 1 47 0;
#X connect 40 0 2 0;
#X connect 40 1 18 0;
#X connect 40 2 43 0;
#X connect 41 0 2 0;
#X connect 41 1 17 0;
#X connect 41 2 44 0;
#X connect 42 0 2 0;
#X connect 42 1 16 0;
#X connect 42 2 45 0;
#X connect 43 0 35 0;
#X connect 43 1 48 0;
#X connect 44 0 36 0;
#X connect 44 1 49 0;
#X connect 45 0 37 0;
#X connect 45 1 50 0;
#X connect 47 0 38 0;
#X connect 48 0 38 0;
#X connect 49 0 38 0;
#X connect 50 0 38 0;
#X connect 51 0 23 1;
#X connect 52 0 21 0;
#X connect 53 0 52 0;
#X connect 54 0 38 0;
#X restore 37 144 pd update-pattern-in-memory;
#X text 20 7 Current pattern is saved whenever the pattern button is
pressed. Pattern 0 is loaded on startup.;
#X text 20 66 Many of these sub patches work hand in hand with the
sequencer subpatch;
#X restore 525 344 pd patterns;
#X obj 320 141 tgl 30 0 \$0-ext-step-btn-s \$0-ext-step-btn-r EXT_STEP
-7 38 0 10 -1 -71583 -1 0 1;
#X obj 370 141 tgl 30 0 \$0-key-control-btn-s \$0-key-control-btn-r
KEYBRD -3 38 0 10 -1 -71583 -1 0 1;
#X obj 761 111 r \$0-bpm;
#X obj 0 400 cnv 15 470 20 empty \$0-cnv-bottom OUT-L~ 5 11 0 14 -71583
-1 0;
#X obj 138 400 cnv 15 15 15 empty \$0-cnv-bottom STEP 5 11 0 14 -71583
-1 0;
#X obj 286 400 cnv 15 20 20 empty \$0-cnv-bottom GATES 5 11 0 14 -71583
-1 0;
#X obj 364 400 cnv 15 15 15 empty \$0-cnv-bottom FREQS 5 11 0 14 -71583
-1 0;
#X obj 1356 24 inlet select-effect;
#X obj 1099 735 outlet gates-out;
#X obj 788 26 inlet step;
#N canvas 930 238 635 564 pattern-inlet 0;
#X obj 168 49 inlet;
#X obj 337 372 array size \$0-pattern-chain;
#X obj 337 346 list length;
#X obj 314 413 array set \$0-pattern-chain;
#X text 61 3 Take in a pattern or list of patterns \, and make that
the pattern chain.;
#X obj 96 386 s \$0-pattern-end;
#X obj 64 416 s \$0-ext-pattern-load-volume;
#X obj 235 110 t a a;
#X msg 64 270 1;
#X obj 235 178 spigot;
#X obj 367 125 r \$0-ext-step-btn-0-s;
#X obj 367 165 == 0;
#X obj 235 208 t b a;
#X obj 168 74 route bang;
#X obj 168 178 spigot;
#X obj 314 195 spigot 1;
#X obj 360 317 s \$0-restart-pattern-chain;
#X obj 314 267 t a a b;
#X obj 64 356 t b f;
#X connect 0 0 13 0;
#X connect 2 0 1 0;
#X connect 7 0 9 0;
#X connect 7 1 15 0;
#X connect 8 0 18 0;
#X connect 9 0 12 0;
#X connect 10 0 9 1;
#X connect 10 0 11 0;
#X connect 10 0 14 1;
#X connect 11 0 15 1;
#X connect 12 0 8 0;
#X connect 12 1 17 0;
#X connect 13 0 14 0;
#X connect 13 1 7 0;
#X connect 14 0 8 0;
#X connect 15 0 17 0;
#X connect 17 0 3 0;
#X connect 17 1 2 0;
#X connect 17 2 16 0;
#X connect 18 0 6 0;
#X connect 18 1 5 0;
#X restore 903 95 pd pattern-inlet;
#N canvas 791 92 844 772 pack-grid-buttons 0;
#X obj 258 56 r \$0-grid-btn-0-s;
#X obj 268 76 r \$0-grid-btn-1-s;
#X obj 278 96 r \$0-grid-btn-2-s;
#X obj 288 116 r \$0-grid-btn-3-s;
#X obj 298 136 r \$0-grid-btn-4-s;
#X obj 308 156 r \$0-grid-btn-5-s;
#X obj 318 176 r \$0-grid-btn-6-s;
#X obj 328 196 r \$0-grid-btn-7-s;
#X obj 338 216 r \$0-grid-btn-8-s;
#X obj 348 236 r \$0-grid-btn-9-s;
#X obj 358 256 r \$0-grid-btn-10-s;
#X obj 368 276 r \$0-grid-btn-11-s;
#X obj 378 296 r \$0-grid-btn-12-s;
#X obj 388 316 r \$0-grid-btn-13-s;
#X obj 398 336 r \$0-grid-btn-14-s;
#X obj 408 356 r \$0-grid-btn-15-s;
#X obj 160 722 s \$0-packed-grid-buttons;
#X text 34 17 Pack all of the grid buttons for easy use;
#X obj 34 458 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 1
1;
#X obj 34 382 r \$0-bang-on-load-1;
#X msg 34 432 1;
#X obj 268 264 t b f;
#X obj 278 284 t b f;
#X obj 288 304 t b f;
#X obj 298 324 t b f;
#X obj 308 344 t b f;
#X obj 318 364 t b f;
#X obj 328 384 t b f;
#X obj 338 404 t b f;
#X obj 348 424 t b f;
#X obj 358 444 t b f;
#X obj 368 464 t b f;
#X obj 378 484 t b f;
#X obj 388 504 t b f;
#X obj 398 524 t b f;
#X obj 408 544 t b f;
#X obj 160 575 pack f f f f f f f f f f f f f f f f;
#X obj 609 76 change;
#X obj 619 96 change;
#X obj 629 116 change;
#X obj 639 136 change;
#X obj 649 156 change;
#X obj 659 176 change;
#X obj 669 196 change;
#X obj 679 216 change;
#X obj 689 236 change;
#X obj 699 256 change;
#X obj 709 276 change;
#X obj 719 296 change;
#X obj 729 316 change;
#X obj 739 336 change;
#X obj 749 356 change;
#X obj 759 376 change;
#X obj 609 408 s \$0-update-pattern;
#X obj 34 483 metro 20;
#X obj 160 690 spigot 1;
#X obj 221 605 r \$0-clearing-grid;
#X obj 221 660 == 0;
#X msg 293 686 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
#X obj 293 657 sel 1;
#X obj 221 630 t f f;
#X text 342 657 Reset all packed-grid-buttons inputs;
#X connect 0 0 36 0;
#X connect 0 0 37 0;
#X connect 1 0 21 0;
#X connect 1 0 38 0;
#X connect 2 0 22 0;
#X connect 2 0 39 0;
#X connect 3 0 23 0;
#X connect 3 0 40 0;
#X connect 4 0 24 0;
#X connect 4 0 41 0;
#X connect 5 0 25 0;
#X connect 5 0 42 0;
#X connect 6 0 26 0;
#X connect 6 0 43 0;
#X connect 7 0 27 0;
#X connect 7 0 44 0;
#X connect 8 0 28 0;
#X connect 8 0 45 0;
#X connect 9 0 29 0;
#X connect 9 0 46 0;
#X connect 10 0 30 0;
#X connect 10 0 47 0;
#X connect 11 0 31 0;
#X connect 11 0 48 0;
#X connect 12 0 32 0;
#X connect 12 0 49 0;
#X connect 13 0 33 0;
#X connect 13 0 50 0;
#X connect 14 0 34 0;
#X connect 14 0 51 0;
#X connect 15 0 35 0;
#X connect 15 0 52 0;
#X connect 18 0 54 0;
#X connect 19 0 20 0;
#X connect 20 0 18 0;
#X connect 21 0 36 0;
#X connect 21 1 36 1;
#X connect 22 0 36 0;
#X connect 22 1 36 2;
#X connect 23 0 36 0;
#X connect 23 1 36 3;
#X connect 24 0 36 0;
#X connect 24 1 36 4;
#X connect 25 0 36 0;
#X connect 25 1 36 5;
#X connect 26 0 36 0;
#X connect 26 1 36 6;
#X connect 27 0 36 0;
#X connect 27 1 36 7;
#X connect 28 0 36 0;
#X connect 28 1 36 8;
#X connect 29 0 36 0;
#X connect 29 1 36 9;
#X connect 30 0 36 0;
#X connect 30 1 36 10;
#X connect 31 0 36 0;
#X connect 31 1 36 11;
#X connect 32 0 36 0;
#X connect 32 1 36 12;
#X connect 33 0 36 0;
#X connect 33 1 36 13;
#X connect 34 0 36 0;
#X connect 34 1 36 14;
#X connect 35 0 36 0;
#X connect 35 1 36 15;
#X connect 36 0 55 0;
#X connect 37 0 53 0;
#X connect 38 0 53 0;
#X connect 39 0 53 0;
#X connect 40 0 53 0;
#X connect 41 0 53 0;
#X connect 42 0 53 0;
#X connect 43 0 53 0;
#X connect 44 0 53 0;
#X connect 45 0 53 0;
#X connect 46 0 53 0;
#X connect 47 0 53 0;
#X connect 48 0 53 0;
#X connect 49 0 53 0;
#X connect 50 0 53 0;
#X connect 51 0 53 0;
#X connect 52 0 53 0;
#X connect 54 0 36 0;
#X connect 55 0 16 0;
#X connect 56 0 60 0;
#X connect 57 0 55 1;
#X connect 58 0 16 0;
#X connect 59 0 58 0;
#X connect 60 0 59 0;
#X connect 60 1 57 0;
#X restore 525 306 pd pack-grid-buttons;
#X obj 420 141 tgl 30 0 \$0-midi-control-btn-s \$0-midi-control-btn-r
MIDI 3 38 0 10 -1 -71583 -1 0 1;
#N canvas 689 104 705 842 master-audio-chain 1;
#X text 153 342 <-- Effects happen here;
#X obj 506 167 line~;
#X obj 335 198 *~;
#X obj 506 85 r \$0-ext-volume;
#X obj 51 22 catch~ \$0-audio-out-L;
#X obj 95 42 catch~ \$0-audio-out-R;
#X obj 54 795 outlet~ L;
#X obj 139 795 outlet~ R;
#X obj 167 674 r \$0-bang-on-load-1;
#X obj 167 703 del 300;
#X obj 336 23 catch~ \$0-audio-inlet-L;
#X obj 485 198 *~;
#X obj 485 43 catch~ \$0-audio-inlet-R;
#X obj 137 209 r \$0-current-fx;
#N canvas 900 124 940 676 fx-chain 1;
#X obj 602 276 r \$0-bang-on-load-1;
#X obj 83 198 inlet~;
#X obj 81 841 outlet~;
#X floatatom 460 321 5 0 0 0 - - -;
#N canvas 393 226 774 687 fx-8-11 0;
#X obj 173 612 outlet~;
#X obj 47 186 inlet~;
#X obj 253 205 *~;
#X floatatom 456 52 5 0 0 0 - - -;
#X obj 173 205 *~;
#X msg 311 168 0, f 1;
#X msg 274 168 1, f 1;
#X obj 456 24 inlet;
#X obj 61 236 inlet~;
#X obj 208 255 *~;
#X obj 281 255 *~;
#X obj 345 205 *~;
#X msg 403 168 0, f 1;
#X msg 366 168 1, f 1;
#X obj 381 255 *~;
#X obj 435 205 *~;
#X msg 493 168 0, f 1;
#X msg 456 168 1, f 1;
#X obj 472 255 *~;
#X msg 231 168 0, f 1;
#X msg 194 168 1, f 1;
#X obj 233 652 outlet~;
#X obj 194 106 sel 8;
#X obj 274 106 sel 9;
#X obj 366 106 sel 10;
#X obj 456 106 sel 11;
#X obj 254 533 tbc-utils/fx/fx-9;
#X obj 345 563 tbc-utils/fx/fx-10;
#X obj 436 593 tbc-utils/fx/fx-11;
#X obj 240 346 r \$0-fx-parameter-8;
#X obj 307 366 r \$0-fx-parameter-9;
#X obj 415 386 r \$0-fx-parameter-10;
#X obj 506 406 r \$0-fx-parameter-11;
#X obj 541 436 r \$0-clock-time-ms;
#X obj 541 297 r \$0-bang-on-load-1;
#X msg 541 325 0.75;
#X obj 174 503 tbc-utils/fx/fx-8;
#X obj 577 456 r \$0-playing;
#X connect 1 0 4 0;
#X connect 1 0 2 0;
#X connect 1 0 11 0;
#X connect 1 0 15 0;
#X connect 2 0 26 0;
#X connect 3 0 22 0;
#X connect 3 0 23 0;
#X connect 3 0 24 0;
#X connect 3 0 25 0;
#X connect 4 0 36 0;
#X connect 5 0 2 1;
#X connect 5 0 10 1;
#X connect 6 0 2 1;
#X connect 6 0 10 1;
#X connect 7 0 3 0;
#X connect 8 0 9 0;
#X connect 8 0 10 0;
#X connect 8 0 14 0;
#X connect 8 0 18 0;
#X connect 9 0 36 1;
#X connect 10 0 26 1;
#X connect 11 0 27 0;
#X connect 12 0 11 1;
#X connect 12 0 14 1;
#X connect 13 0 11 1;
#X connect 13 0 14 1;
#X connect 14 0 27 1;
#X connect 15 0 28 0;
#X connect 16 0 15 1;
#X connect 16 0 18 1;
#X connect 17 0 15 1;
#X connect 17 0 18 1;
#X connect 18 0 28 1;
#X connect 19 0 9 1;
#X connect 19 0 4 1;
#X connect 20 0 4 1;
#X connect 20 0 9 1;
#X connect 22 0 20 0;
#X connect 22 1 19 0;
#X connect 23 0 6 0;
#X connect 23 1 5 0;
#X connect 24 0 13 0;
#X connect 24 1 12 0;
#X connect 25 0 17 0;
#X connect 25 1 16 0;
#X connect 26 0 0 0;
#X connect 26 1 21 0;
#X connect 27 0 0 0;
#X connect 27 1 21 0;
#X connect 28 0 0 0;
#X connect 28 1 21 0;
#X connect 29 0 36 2;
#X connect 30 0 26 2;
#X connect 31 0 27 2;
#X connect 32 0 28 2;
#X connect 33 0 36 3;
#X connect 33 0 26 3;
#X connect 33 0 27 3;
#X connect 33 0 28 3;
#X connect 34 0 35 0;
#X connect 35 0 26 5;
#X connect 36 0 0 0;
#X connect 36 1 21 0;
#X connect 37 0 36 4;
#X connect 37 0 26 4;
#X connect 37 0 27 4;
#X connect 37 0 28 4;
#X restore 103 425 pd fx-8-11;
#N canvas 223 122 798 769 fx-0-3 0;
#X text 159 16 Effect 0 is an pitch modification \, so it is applied
within the "samples -> pd-all-16-samplers" subpatch;
#X text 159 54 Any FX input out of bounds sends dry signal;
#N canvas 675 381 450 300 fx-out-of-bounds 0;
#X obj 126 17 inlet;
#X obj 87 239 print fx-out-of-bounds;
#X obj 163 269 outlet;
#X obj 195 89 > 15;
#X obj 163 89 < 0;
#X obj 163 114 ||;
#X obj 87 149 spigot 0;
#X obj 126 47 t f f;
#X obj 87 209 spigot;
#X obj 132 179 r \$0-debug-log;
#X connect 0 0 7 0;
#X connect 3 0 5 1;
#X connect 4 0 5 0;
#X connect 5 0 2 0;
#X connect 5 0 6 1;
#X connect 6 0 8 0;
#X connect 7 0 6 0;
#X connect 7 1 4 0;
#X connect 7 1 3 0;
#X connect 8 0 1 0;
#X connect 9 0 8 1;
#X restore 216 188 pd fx-out-of-bounds;
#X obj 159 680 outlet~;
#X obj 28 298 inlet~;
#X obj 318 319 *~;
#X floatatom 521 119 5 0 0 0 - - -;
#X obj 238 319 *~;
#X msg 373 282 0, f 1;
#X msg 339 282 1, f 1;
#X obj 521 87 inlet;
#X obj 90 349 inlet~;
#X obj 273 369 *~;
#X obj 352 369 *~;
#X obj 410 319 *~;
#X msg 465 282 0, f 1;
#X msg 431 282 1, f 1;
#X obj 444 369 *~;
#X obj 500 319 *~;
#X msg 555 282 0, f 1;
#X msg 521 282 1, f 1;
#X obj 534 369 *~;
#X obj 196 731 outlet~;
#X obj 318 579 tbc-utils/fx/fx-1;
#X obj 410 609 tbc-utils/fx/fx-2;
#X obj 500 639 tbc-utils/fx/fx-3;
#X obj 339 220 sel 1;
#X obj 431 220 sel 2;
#X obj 521 220 sel 3;
#X obj 384 422 r \$0-fx-parameter-1;
#X obj 476 442 r \$0-fx-parameter-2;
#X obj 566 462 r \$0-fx-parameter-3;
#X obj 598 482 r \$0-clock-time-ms;
#X obj 618 502 r \$0-playing;
#X obj 305 402 r \$0-fx-parameter-0;
#X obj 158 319 *~;
#X obj 195 369 *~;
#X msg 171 208 1;
#X msg 294 282 0, f 1;
#X msg 259 282 1, f 1;
#X obj 259 220 sel 0;
#X obj 171 159 sel 15;
#X obj 239 549 tbc-utils/fx/fx-0;
#X connect 2 0 35 1;
#X connect 2 0 36 1;
#X connect 4 0 7 0;
#X connect 4 0 5 0;
#X connect 4 0 14 0;
#X connect 4 0 18 0;
#X connect 4 0 35 0;
#X connect 5 0 23 0;
#X connect 6 0 26 0;
#X connect 6 0 27 0;
#X connect 6 0 28 0;
#X connect 6 0 41 0;
#X connect 6 0 40 0;
#X connect 7 0 42 0;
#X connect 8 0 5 1;
#X connect 8 0 13 1;
#X connect 9 0 5 1;
#X connect 9 0 13 1;
#X connect 10 0 6 0;
#X connect 11 0 12 0;
#X connect 11 0 13 0;
#X connect 11 0 17 0;
#X connect 11 0 21 0;
#X connect 11 0 36 0;
#X connect 12 0 42 1;
#X connect 13 0 23 1;
#X connect 14 0 24 0;
#X connect 15 0 14 1;
#X connect 15 0 17 1;
#X connect 16 0 14 1;
#X connect 16 0 17 1;
#X connect 17 0 24 1;
#X connect 18 0 25 0;
#X connect 19 0 18 1;
#X connect 19 0 21 1;
#X connect 20 0 18 1;
#X connect 20 0 21 1;
#X connect 21 0 25 1;
#X connect 23 0 3 0;
#X connect 23 1 22 0;
#X connect 24 0 3 0;
#X connect 24 1 22 0;
#X connect 25 0 3 0;
#X connect 25 1 22 0;
#X connect 26 0 9 0;
#X connect 26 1 8 0;
#X connect 27 0 16 0;
#X connect 27 1 15 0;
#X connect 28 0 20 0;
#X connect 28 1 19 0;
#X connect 29 0 23 2;
#X connect 30 0 24 2;
#X connect 31 0 25 2;
#X connect 32 0 23 3;
#X connect 32 0 24 3;
#X connect 32 0 25 3;
#X connect 32 0 42 3;
#X connect 33 0 23 4;
#X connect 33 0 24 4;
#X connect 33 0 25 4;
#X connect 33 0 42 4;
#X connect 34 0 42 2;
#X connect 35 0 3 0;
#X connect 36 0 22 0;
#X connect 37 0 35 1;
#X connect 37 0 36 1;
#X connect 38 0 7 1;
#X connect 38 0 12 1;
#X connect 39 0 7 1;
#X connect 39 0 12 1;
#X connect 40 0 39 0;
#X connect 40 1 38 0;
#X connect 41 0 37 0;
#X connect 41 1 2 0;
#X connect 42 0 3 0;
#X connect 42 0 22 0;
#X restore 83 365 pd fx-0-3;
#X obj 460 287 inlet current-fx;
#X obj 119 223 inlet~;
#X obj 166 841 outlet~;
#X text 37 7 FX Chain;
#X text 35 37 Notes:;
#X text 44 111 Effect 0 is an pitch modification \, so it is applied
within the "samples -> pd all-16-samplers" subpatch. Here FX 0 simply
passes audio through the subpatch;
#N canvas 494 234 711 653 fx-4-7 0;
#X obj 144 561 outlet~;
#X obj 209 290 r \$0-fx-parameter-4;
#X obj 289 310 r \$0-fx-parameter-5;
#X obj 381 330 r \$0-fx-parameter-6;
#X obj 471 350 r \$0-fx-parameter-7;
#X obj 143 450 tbc-utils/fx/fx-4;
#X obj 223 480 tbc-utils/fx/fx-5;
#X obj 405 540 tbc-utils/fx/fx-7;
#X obj 315 510 tbc-utils/fx/fx-6;
#X obj 15 184 inlet~;
#X obj 222 204 *~;
#X floatatom 425 46 5 0 0 0 - - -;
#X obj 142 204 *~;
#X msg 278 167 0, f 1;
#X msg 243 167 1, f 1;
#X obj 425 5 inlet;
#X obj 45 235 inlet~;
#X obj 177 254 *~;
#X obj 257 254 *~;
#X obj 314 204 *~;
#X msg 370 167 0, f 1;
#X msg 335 167 1, f 1;
#X obj 349 254 *~;
#X obj 404 204 *~;
#X msg 460 167 0, f 1;
#X msg 425 167 1, f 1;
#X obj 439 254 *~;
#X msg 198 167 0, f 1;
#X msg 163 167 1, f 1;
#X obj 163 105 sel 4;
#X obj 243 105 sel 5;
#X obj 335 105 sel 6;
#X obj 425 105 sel 7;
#X obj 200 612 outlet~;
#X obj 504 370 r \$0-clock-time-ms;
#X obj 538 390 r \$0-playing;
#X connect 1 0 5 2;
#X connect 2 0 6 2;
#X connect 3 0 8 2;
#X connect 4 0 7 2;
#X connect 5 0 0 0;
#X connect 5 1 33 0;
#X connect 6 0 0 0;
#X connect 6 1 33 0;
#X connect 7 0 0 0;
#X connect 7 1 33 0;
#X connect 8 0 0 0;
#X connect 8 1 33 0;
#X connect 9 0 12 0;
#X connect 9 0 10 0;
#X connect 9 0 19 0;
#X connect 9 0 23 0;
#X connect 10 0 6 0;
#X connect 11 0 30 0;
#X connect 11 0 31 0;
#X connect 11 0 32 0;
#X connect 11 0 29 0;
#X connect 12 0 5 0;
#X connect 13 0 10 1;
#X connect 13 0 18 1;
#X connect 14 0 10 1;
#X connect 14 0 18 1;
#X connect 15 0 11 0;
#X connect 16 0 17 0;
#X connect 16 0 18 0;
#X connect 16 0 22 0;
#X connect 16 0 26 0;
#X connect 17 0 5 1;
#X connect 18 0 6 1;
#X connect 19 0 8 0;
#X connect 20 0 19 1;
#X connect 20 0 22 1;
#X connect 21 0 19 1;
#X connect 21 0 22 1;
#X connect 22 0 8 1;
#X connect 23 0 7 0;
#X connect 24 0 23 1;
#X connect 24 0 26 1;
#X connect 25 0 23 1;
#X connect 25 0 26 1;
#X connect 26 0 7 1;
#X connect 27 0 17 1;
#X connect 27 0 12 1;
#X connect 28 0 12 1;
#X connect 28 0 17 1;
#X connect 29 0 28 0;
#X connect 29 1 27 0;
#X connect 30 0 14 0;
#X connect 30 1 13 0;
#X connect 31 0 21 0;
#X connect 31 1 20 0;
#X connect 32 0 25 0;
#X connect 32 1 24 0;
#X connect 34 0 5 3;
#X connect 34 0 6 3;
#X connect 34 0 8 3;
#X connect 34 0 7 3;
#X connect 35 0 5 4;
#X connect 35 0 6 4;
#X connect 35 0 8 4;
#X connect 35 0 7 4;
#X restore 93 395 pd fx-4-7;
#N canvas 487 248 919 673 fx-12-15 0;
#X obj 119 566 outlet~;
#X obj 59 233 inlet~;
#X obj 249 517 *~;
#X floatatom 618 365 5 0 0 0 - - -;
#X obj 169 517 *~;
#X msg 307 480 0, f 1;
#X msg 270 480 1, f 1;
#X obj 618 121 inlet;
#X obj 121 233 inlet~;
#X obj 206 567 *~;
#X obj 286 567 *~;
#X obj 341 517 *~;
#X msg 399 480 0, f 1;
#X msg 362 480 1, f 1;
#X obj 378 567 *~;
#X msg 227 480 0, f 1;
#X msg 190 480 1, f 1;
#X obj 175 617 outlet~;
#X obj 240 115 r \$0-fx-parameter-12;
#X obj 320 139 r \$0-fx-parameter-13;
#X obj 412 159 r \$0-fx-parameter-14;
#X obj 250 320 tbc-utils/fx/fx-13;
#X obj 342 350 tbc-utils/fx/fx-14;
#X obj 447 188 r \$0-clock-time-ms;
#X obj 190 418 sel 12;
#X obj 270 418 sel 13;
#X obj 362 418 sel 14;
#X obj 170 290 tbc-utils/fx/fx-12;
#X text 35 16 This patch is the ugliest because fx-13 and fx-14 both
need extra connections to ensure that they start and stop repeating
correctly. The audio is also gated AFTER the effect \, to guarentee
that there is audio input as soon as the effects are activated.;
#X obj 483 208 r \$0-playing;
#X text 424 478 <-----NOTE: FX 13 and 14 get turned off when they are
not selected! Notice that the 1s and 0s indicated by the arrow are
connected to the FX objects;
#X text 502 593 NOTE: FX-15 is dry signal!;
#X connect 1 0 21 0;
#X connect 1 0 22 0;
#X connect 1 0 27 0;
#X connect 2 0 0 0;
#X connect 3 0 24 0;
#X connect 3 0 25 0;
#X connect 3 0 26 0;
#X connect 4 0 0 0;
#X connect 5 0 2 1;
#X connect 5 0 10 1;
#X connect 5 0 21 4;
#X connect 6 0 2 1;
#X connect 6 0 10 1;
#X connect 6 0 21 4;
#X connect 7 0 3 0;
#X connect 8 0 21 1;
#X connect 8 0 22 1;
#X connect 8 0 27 1;
#X connect 9 0 17 0;
#X connect 10 0 17 0;
#X connect 11 0 0 0;
#X connect 12 0 11 1;
#X connect 12 0 14 1;
#X connect 12 0 22 4;
#X connect 13 0 11 1;
#X connect 13 0 14 1;
#X connect 13 0 22 4;
#X connect 14 0 17 0;
#X connect 15 0 9 1;
#X connect 15 0 4 1;
#X connect 16 0 4 1;
#X connect 16 0 9 1;
#X connect 18 0 27 2;
#X connect 19 0 21 2;
#X connect 20 0 22 2;
#X connect 21 0 2 0;
#X connect 21 1 10 0;
#X connect 22 0 11 0;
#X connect 22 1 14 0;
#X connect 23 0 27 3;
#X connect 23 0 21 3;
#X connect 23 0 22 3;
#X connect 24 0 16 0;
#X connect 24 1 15 0;
#X connect 25 0 6 0;
#X connect 25 1 5 0;
#X connect 26 0 13 0;
#X connect 26 1 12 0;
#X connect 27 0 4 0;
#X connect 27 1 9 0;
#X connect 29 0 21 4;
#X connect 29 0 22 4;
#X connect 29 0 27 4;
#X restore 113 455 pd fx-12-15;
#X text 44 61 To clean up this patch \, I split the effects up into
subpatches for each row. fx-12-15 is slightly different.;
#X msg 602 301 15;
#X text 517 331 bang-on-load 15 so we start with no FX applied;
#X obj 84 317 *~ 1;
#X obj 120 317 *~ 1;
#X obj 80 502 *~ 1;
#X obj 166 502 *~ 1;
#X obj 228 777 tbc-utils/fx/fx-7, f 28;
#X obj 372 723 r \$0-clock-time-ms;
#X obj 421 743 r \$0-playing;
#X text 372 1003 TEST;
#X obj 80 738 *~;
#X obj 167 738 *~;
#X obj 228 738 *~;
#X obj 276 738 *~;
#X obj 257 638 line~;
#X obj 307 638 line~;
#X msg 257 611 \$1 5;
#X msg 307 611 \$1 5;
#X obj 257 481 r \$0-funct-parameter-6;
#X floatatom 292 515 5 0 0 0 - - -;
#X obj 257 548 swap 1;
#X obj 257 577 -;
#X obj 257 515 t f;
#X connect 0 0 15 0;
#X connect 1 0 17 0;
#X connect 3 0 12 2;
#X connect 3 0 5 2;
#X connect 3 0 4 2;
#X connect 3 0 13 2;
#X connect 4 0 19 0;
#X connect 4 1 20 0;
#X connect 5 0 19 0;
#X connect 5 1 20 0;
#X connect 6 0 3 0;
#X connect 7 0 18 0;
#X connect 12 0 19 0;
#X connect 12 1 20 0;
#X connect 13 0 19 0;
#X connect 13 1 20 0;
#X connect 15 0 3 0;
#X connect 17 0 5 0;
#X connect 17 0 12 0;
#X connect 17 0 4 0;
#X connect 17 0 13 0;
#X connect 18 0 5 1;
#X connect 18 0 12 1;
#X connect 18 0 4 1;
#X connect 18 0 13 1;
#X connect 19 0 25 0;
#X connect 19 0 27 0;
#X connect 20 0 26 0;
#X connect 20 0 28 0;
#X connect 21 0 2 0;
#X connect 21 1 8 0;
#X connect 22 0 21 3;
#X connect 23 0 21 4;
#X connect 25 0 2 0;
#X connect 26 0 8 0;
#X connect 27 0 21 0;
#X connect 28 0 21 1;
#X connect 29 0 25 1;
#X connect 29 0 26 1;
#X connect 30 0 27 1;
#X connect 30 0 28 1;
#X connect 31 0 29 0;
#X connect 32 0 30 0;
#X connect 33 0 34 0;
#X connect 33 0 37 0;
#X connect 35 0 36 0;
#X connect 35 1 36 1;
#X connect 36 0 31 0;
#X connect 37 0 35 0;
#X connect 37 0 32 0;
#X restore 52 344 pd fx-chain;
#X obj 53 758 *~ 0;
#X obj 138 758 *~ 0;
#X msg 167 728 1;
#X obj 375 364 pack 0 10;
#X obj 375 393 line~;
#X obj 506 140 pack 0 1;
#X obj 506 110 tbc-utils/lin-to-log;
#X text 179 756 Optimization to prevent crackling when the patch is
loaded;
#X obj 375 336 tbc-utils/lin-to-log;
#N canvas 503 174 1047 712 metronome 0;
#X obj 68 543 *~;
#X obj 399 551 line~;
#X obj 399 522 pack 0 1;
#X obj 399 492 tbc-utils/lin-to-log;
#X obj 68 605 *~;
#X obj 68 670 outlet~;
#X obj 368 70 r \$0-current-step-early;
#X obj 368 432 vline~;
#X obj 421 130 mod 4;
#X obj 421 155 sel 0;
#X obj 368 100 route 0;
#X obj 368 402 t a;
#X text 51 15 Metronome.;
#X obj 399 468 r \$0-funct-parameter-3;
#X obj 603 245 soundfiler;
#X obj 68 635 hip~ 10;
#X msg 379 374 0.45 5 \, 0 1000 100;
#X obj 603 125 loadbang;
#X msg 368 344 1 5 \, 0 500 300;
#X obj 603 175 \$0;
#X obj 611 154 bng 15 250 50 0 empty empty Reload-metro-sample 17 7
0 10 -262144 -1 -1;
#X text 51 45 Volume controlled by funct param knob 3;
#X obj 603 285 array define \$0-metro-sample-L;
#X obj 603 305 array define \$0-metro-sample-R;
#X obj 68 290 tabplay~ \$0-metro-sample-L;
#X obj 198 605 *~;
#X obj 198 635 hip~ 10;
#X obj 198 670 outlet~;
#X obj 288 290 tabplay~ \$0-metro-sample-R;
#X obj 198 433 *~ 0;
#X obj 288 433 *~ 1;
#X obj 227 250 t f;
#X obj 227 374 t f;
#X obj 317 406 == 0;
#X obj 198 543 *~;
#X msg 227 210 1;
#X msg 267 210 0;
#X msg 603 204 read -resize tbc-metronome.wav \$1-metro-sample-L \$1-metro-sample-R
;
#X connect 0 0 4 0;
#X connect 1 0 4 1;
#X connect 1 0 25 1;
#X connect 2 0 1 0;
#X connect 3 0 2 0;
#X connect 4 0 15 0;
#X connect 6 0 10 0;
#X connect 7 0 0 1;
#X connect 7 0 34 1;
#X connect 8 0 9 0;
#X connect 9 0 16 0;
#X connect 9 0 24 0;
#X connect 9 0 28 0;
#X connect 9 0 36 0;
#X connect 10 0 18 0;
#X connect 10 0 24 0;
#X connect 10 0 28 0;
#X connect 10 0 35 0;
#X connect 10 1 8 0;
#X connect 11 0 7 0;
#X connect 13 0 3 0;
#X connect 15 0 5 0;
#X connect 16 0 11 0;
#X connect 17 0 19 0;
#X connect 18 0 11 0;
#X connect 19 0 37 0;
#X connect 20 0 19 0;
#X connect 24 0 0 0;
#X connect 24 0 29 0;
#X connect 25 0 26 0;
#X connect 26 0 27 0;
#X connect 28 0 30 0;
#X connect 29 0 34 0;
#X connect 30 0 34 0;
#X connect 31 0 32 0;
#X connect 32 0 33 0;
#X connect 32 0 29 1;
#X connect 33 0 30 1;
#X connect 34 0 25 0;
#X connect 35 0 31 0;
#X connect 36 0 31 0;
#X connect 37 0 14 0;
#X restore 86 549 pd metronome;
#X obj 115 155 line~;
#X obj 115 126 pack 0 1;
#X obj 115 96 tbc-utils/lin-to-log;
#X obj 51 188 *~;
#X obj 95 188 *~;
#N canvas 215 38 1397 923 record-ext-input 0;
#X obj 75 734 tabwrite~;
#X obj 1023 60 sel 1 0;
#X msg 1023 344 bang;
#X obj 91 592 array size;
#X msg 75 655 set \$1;
#X obj 326 734 tabwrite~;
#X obj 342 592 array size;
#X msg 326 655 set \$1;
#X obj 326 305 symbol;
#X obj 75 305 symbol;
#X obj 44 110 inlet~ audio-in-L;
#X obj 296 110 inlet~ audio-in-R;
#X msg 75 275 \$1-sample-L;
#X msg 326 275 \$1-sample-R;
#X obj 1023 374 timer;
#X obj 1023 404 * 44.1;
#X text 1080 373 <- Timer to determine length of array;
#X obj 75 157 r \$0-current-sample-patch-id;
#X text 1090 403 <- 44.1 khz;
#X obj 75 335 t a a, f 12;
#X obj 326 335 t a a, f 12;
#X obj 386 655 t a;
#X text 33 18 Record the incoming audio into the currently selected
sound.;
#X msg 112 488 \$1-new-sample-size;
#X obj 91 625 s;
#X obj 342 625 s;
#X obj 342 564 t b f;
#X obj 91 564 t b f;
#X obj 112 513 symbol;
#X obj 1023 10 r \$0-recording-sample;
#X obj 1023 524 spigot;
#X msg 1132 314 1, f 2;
#X msg 1162 314 0, f 2;
#X obj 1049 112 t b b;
#X obj 1132 344 t f;
#X msg 1136 505 stop;
#X obj 1080 344 t b b;
#X obj 1023 192 t b b b;
#X obj 1023 429 t f f;
#X obj 1023 494 spigot;
#X obj 1136 534 t a;
#X obj 1113 436 r \$0-max-size-recorded-sample;
#X obj 433 503 soundfiler;
#X obj 582 217 r \$0-tbc-id;
#X obj 561 162 spigot;
#X obj 561 187 t b b;
#X obj 561 244 f;
#X msg 633 162 0;
#X msg 606 105 1;
#X obj 217 544 t f;
#X obj 622 244 r \$0-current-sound;
#X obj 561 132 t b;
#X obj 560 418 s;
#X msg 433 473 write -wave \$1 \$2 \$3;
#X obj 561 279 pack f f;
#X msg 581 391 symbol \$1-recorded-sample-file-name;
#X obj 433 443 pack s s s;
#X obj 504 267 t f;
#X obj 504 330 t f;
#X obj 75 217 t f f f;
#X obj 75 187 f;
#X obj 45 898 outlet~;
#X obj 296 894 outlet~;
#X obj 295 694 +~;
#X obj 45 694 +~;
#X obj 1233 751 t f;
#X obj 1023 35 t f f;
#X obj 1233 80 t f;
#X text 33 38 This patch is setup to record up to 1 sec of sound at
44.1khz. This is to reduce audio dropout / hitching;
#X obj 318 832 line~;
#X msg 318 803 0 5;
#X obj 296 869 *~;
#X obj 46 874 *~;
#X msg 358 803 1 5;
#X obj 318 772 sel 1 0;
#X obj 429 783 r \$0-bang-on-load-1;
#X obj 1023 85 del 5;
#X text 731 85 Wait to fade out before recording ->;
#X text 377 833 <- Fade in and out;
#X msg 560 309 symbol tbc-state-saves/tbc-\$1/recorded-samples/recorded-sound-\$2.wav
;
#X obj 342 456 f 44104;
#X obj 1060 464 < 44104;
#X text 1142 464 <-- 1 sec + 4 samples;
#X obj 90 674 catch~ \$0-audio-loopback-L;
#X obj 346 676 catch~ \$0-audio-loopback-R;
#X obj 162 632 r \$0-funct-parameter-7;
#X obj 90 703 *~ 0;
#X obj 346 705 *~ 0;
#X connect 1 0 76 0;
#X connect 1 1 33 0;
#X connect 2 0 14 0;
#X connect 2 0 40 0;
#X connect 3 0 24 0;
#X connect 4 0 0 0;
#X connect 6 0 25 0;
#X connect 7 0 5 0;
#X connect 8 0 20 0;
#X connect 9 0 19 0;
#X connect 10 0 64 0;
#X connect 11 0 63 0;
#X connect 12 0 9 0;
#X connect 13 0 8 0;
#X connect 14 0 15 0;
#X connect 15 0 38 0;
#X connect 17 0 60 0;
#X connect 19 0 4 0;
#X connect 19 1 3 1;
#X connect 19 1 56 1;
#X connect 20 0 7 0;
#X connect 20 1 6 1;
#X connect 20 1 56 2;
#X connect 21 0 0 0;
#X connect 21 0 5 0;
#X connect 23 0 28 0;
#X connect 26 0 6 0;
#X connect 26 1 6 0;
#X connect 27 0 3 0;
#X connect 27 1 3 0;
#X connect 28 0 24 1;
#X connect 28 0 25 1;
#X connect 29 0 66 0;
#X connect 30 0 26 0;
#X connect 30 0 49 0;
#X connect 31 0 34 0;
#X connect 32 0 34 0;
#X connect 33 0 32 0;
#X connect 33 0 51 0;
#X connect 33 1 36 0;
#X connect 34 0 30 1;
#X connect 35 0 40 0;
#X connect 36 0 14 1;
#X connect 36 1 35 0;
#X connect 37 0 2 0;
#X connect 37 1 31 0;
#X connect 37 2 80 0;
#X connect 38 0 39 0;
#X connect 38 1 81 0;
#X connect 39 0 30 0;
#X connect 40 0 21 0;
#X connect 41 0 80 1;
#X connect 41 0 81 1;
#X connect 43 0 46 1;
#X connect 44 0 45 0;
#X connect 45 0 46 0;
#X connect 45 1 47 0;
#X connect 46 0 54 0;
#X connect 47 0 44 1;
#X connect 48 0 44 1;
#X connect 49 0 27 0;
#X connect 50 0 54 1;
#X connect 51 0 44 0;
#X connect 53 0 42 0;
#X connect 54 0 79 0;
#X connect 55 0 52 1;
#X connect 56 0 53 0;
#X connect 57 0 58 0;
#X connect 58 0 55 0;
#X connect 59 0 12 0;
#X connect 59 1 13 0;
#X connect 59 2 23 0;
#X connect 59 2 57 0;
#X connect 60 0 59 0;
#X connect 63 0 5 0;
#X connect 63 0 71 0;
#X connect 64 0 0 0;
#X connect 64 0 72 0;
#X connect 65 0 74 0;
#X connect 66 0 1 0;
#X connect 66 1 67 0;
#X connect 67 0 65 0;
#X connect 69 0 71 1;
#X connect 69 0 72 1;
#X connect 70 0 69 0;
#X connect 71 0 62 0;
#X connect 72 0 61 0;
#X connect 73 0 69 0;
#X connect 74 0 70 0;
#X connect 74 1 73 0;
#X connect 75 0 73 0;
#X connect 76 0 48 0;
#X connect 76 0 37 0;
#X connect 79 0 52 0;
#X connect 79 0 56 0;
#X connect 80 0 26 0;
#X connect 80 0 49 0;
#X connect 81 0 39 1;
#X connect 83 0 86 0;
#X connect 84 0 87 0;
#X connect 85 0 87 1;
#X connect 85 0 86 1;
#X connect 86 0 0 0;
#X connect 87 0 5 0;
#X restore 335 248 pd record-ext-input;
#X obj 375 306 r \$0-fx-parameter-15;
#X obj 115 72 r \$0-int-volume;
#X obj 485 224 clip~ -1 1;
#X obj 335 224 clip~ -1 1;
#X obj 51 443 clip~ -1 1;
#X obj 137 443 clip~ -1 1;
#X obj 51 583 clip~ -1 1;
#X obj 137 583 clip~ -1 1;
#X obj 52 302 +~ 0;
#X obj 96 302 +~ 0;
#X obj 52 509 *~;
#X obj 94 509 *~;
#X obj 138 509 *~;
#X obj 180 509 *~;
#X obj 356 458 -~;
#X obj 356 434 sig~ 1;
#X text 222 511 <-- FX Dry / Wet mix;
#X text 526 306 <-- FX 15 knob controls;
#X text 554 324 Dry / Wet mix;
#X obj 61 620 throw~ \$0-audio-loopback-L;
#X obj 151 640 throw~ \$0-audio-loopback-R;
#X connect 1 0 2 1;
#X connect 1 0 11 1;
#X connect 2 0 34 0;
#X connect 3 0 21 0;
#X connect 4 0 28 0;
#X connect 5 0 29 0;
#X connect 8 0 9 0;
#X connect 9 0 17 0;
#X connect 10 0 2 0;
#X connect 11 0 33 0;
#X connect 12 0 11 0;
#X connect 13 0 14 2;
#X connect 14 0 35 0;
#X connect 14 1 36 0;
#X connect 15 0 6 0;
#X connect 16 0 7 0;
#X connect 17 0 16 1;
#X connect 17 0 15 1;
#X connect 18 0 19 0;
#X connect 19 0 45 1;
#X connect 19 0 41 1;
#X connect 19 0 43 1;
#X connect 20 0 1 0;
#X connect 21 0 20 0;
#X connect 23 0 18 0;
#X connect 24 0 37 0;
#X connect 24 1 38 0;
#X connect 25 0 29 1;
#X connect 25 0 28 1;
#X connect 26 0 25 0;
#X connect 27 0 26 0;
#X connect 28 0 39 0;
#X connect 29 0 40 0;
#X connect 30 0 39 0;
#X connect 30 1 40 0;
#X connect 31 0 23 0;
#X connect 32 0 27 0;
#X connect 33 0 30 1;
#X connect 34 0 30 0;
#X connect 35 0 41 0;
#X connect 36 0 43 0;
#X connect 37 0 15 0;
#X connect 37 0 50 0;
#X connect 38 0 16 0;
#X connect 38 0 51 0;
#X connect 39 0 14 0;
#X connect 39 0 42 0;
#X connect 40 0 14 1;
#X connect 40 0 44 0;
#X connect 41 0 37 0;
#X connect 42 0 37 0;
#X connect 43 0 38 0;
#X connect 44 0 38 0;
#X connect 45 0 42 1;
#X connect 45 0 44 1;
#X connect 46 0 45 0;
#X restore 517 579 pd master-audio-chain;
#N canvas 49 462 535 462 select-effect 0;
#X obj 60 59 inlet;
#X obj 39 395 tabwrite \$0-fx-array;
#X obj 39 236 f;
#X msg 84 132 1;
#X obj 39 261 spigot;
#X obj 127 158 t f b b f;
#X msg 92 230 0;
#X obj 60 96 t f b;
#X obj 127 133 r \$0-set-new-fx;
#X text 45 18 Set the incoming effect to the current effect in the
chain;
#X obj 290 275 r \$0-recording-fx;
#X obj 229 395 s \$0-new-fx;
#X obj 290 305 == 0;
#X obj 229 335 spigot 1;
#X obj 39 335 spigot 0;
#X floatatom 57 368 5 0 0 0 - - -;
#X connect 0 0 7 0;
#X connect 2 0 4 0;
#X connect 3 0 4 1;
#X connect 4 0 14 0;
#X connect 4 0 13 0;
#X connect 5 1 6 0;
#X connect 5 2 2 0;
#X connect 5 3 1 1;
#X connect 6 0 4 1;
#X connect 7 0 2 1;
#X connect 7 1 3 0;
#X connect 8 0 5 0;
#X connect 10 0 12 0;
#X connect 10 0 14 1;
#X connect 12 0 13 1;
#X connect 13 0 11 0;
#X connect 14 0 1 0;
#X connect 14 0 15 0;
#X restore 1356 92 pd select-effect;
#N canvas 258 173 1377 624 bpm-button 0;
#X obj 139 282 f;
#X obj 19 282 f;
#X obj 139 342 spigot;
#X msg 320 282 1;
#X msg 445 282 0;
#X obj 19 342 spigot;
#X obj 320 177 sel bpm-mode;
#X obj 139 555 s \$0-bpm;
#X floatatom 19 381 5 0 0 0 - - -;
#X msg 480 408 label BPM;
#X msg 494 436 label_pos 5 38;
#X msg 320 413 label SWING;
#X obj 139 157 r \$0-knob-1-s;
#X obj 19 157 r \$0-knob-0-s;
#X obj 480 470 s \$0-knob-1-r;
#X obj 320 470 s \$0-knob-0-r;
#X msg 329 440 label_pos 0 38;
#N canvas 0 50 450 300 calculate-bpm 0;
#X floatatom 74 87 5 0 0 0 - - -;
#X obj 74 53 inlet;
#X obj 74 109 * 180;
#X obj 74 134 + 60;
#X floatatom 74 159 5 0 0 0 - - -;
#X obj 74 181 outlet;
#X connect 0 0 2 0;
#X connect 1 0 0 0;
#X connect 2 0 3 0;
#X connect 3 0 4 0;
#X connect 4 0 5 0;
#X restore 139 444 pd calculate-bpm;
#X obj 19 555 s \$0-swing;
#X obj 19 428 + 1;
#X floatatom 19 453 5 0 0 0 - - -;
#N canvas 302 110 1186 755 retrig 0;
#X obj 288 424 spigot;
#X obj 309 613 pack s f;
#X obj 288 689 s;
#X obj 309 663 symbol;
#X floatatom 370 590 5 0 15 1 seq - -;
#X obj 288 469 t a b;
#X obj 309 546 symbol \$0-seq-retrig;
#X obj 288 315 spigot;
#X msg 600 257 0;
#X obj 507 144 sel bpm-mode;
#X msg 333 260 1;
#X obj 333 392 == 0;
#X obj 288 23 r \$0-packed-grid-knobs;
#X obj 712 554 r \$0-current-sound;
#X obj 333 202 del 5;
#X obj 651 606 pack s f;
#X obj 630 692 s;
#X obj 651 656 symbol;
#X floatatom 712 583 5 0 15 1 seq - -;
#X obj 651 519 symbol \$0-get-seq;
#X text 665 465 This is done within the load-to-grid subpatch in the
patterns subpatch.;
#X msg 614 645 2;
#X text 569 41 This patch loads the retrig sequence for the current
sound \, and then sends the packed grid knobs to the sequence.;
#X msg 651 631 \$1-\$2-r;
#X msg 309 638 \$1-\$2-r;
#X obj 333 142 sel bpm-mode;
#X obj 333 119 r \$0-global-state-on;
#X obj 507 119 r \$0-global-state-off;
#X obj 333 359 r \$0-view-sequencer;
#X obj 577 356 t b b;
#X obj 577 619 t b b;
#X msg 577 645 0;
#X text 665 445 Load correct seq;
#X obj 87 424 spigot;
#X obj 108 613 pack s f;
#X obj 87 689 s;
#X obj 108 663 symbol;
#X floatatom 169 590 5 0 15 1 seq - -;
#X obj 87 469 t a b;
#X obj 108 546 symbol \$0-seq-gate;
#X msg 108 638 \$1-\$2-r;
#X obj 87 315 spigot;
#X obj 87 23 r \$0-packed-grid-buttons;
#X connect 0 0 5 0;
#X connect 1 0 24 0;
#X connect 3 0 2 1;
#X connect 4 0 1 1;
#X connect 5 0 2 0;
#X connect 5 1 6 0;
#X connect 6 0 1 0;
#X connect 7 0 0 0;
#X connect 8 0 7 1;
#X connect 8 0 41 1;
#X connect 9 1 8 0;
#X connect 10 0 7 1;
#X connect 10 0 41 1;
#X connect 11 0 0 1;
#X connect 11 0 33 1;
#X connect 12 0 7 0;
#X connect 13 0 4 0;
#X connect 13 0 18 0;
#X connect 13 0 37 0;
#X connect 14 0 10 0;
#X connect 15 0 23 0;
#X connect 17 0 16 1;
#X connect 18 0 15 1;
#X connect 19 0 15 0;
#X connect 21 0 16 0;
#X connect 23 0 17 0;
#X connect 24 0 3 0;
#X connect 25 0 14 0;
#X connect 25 0 29 0;
#X connect 26 0 25 0;
#X connect 27 0 9 0;
#X connect 28 0 11 0;
#X connect 29 0 30 0;
#X connect 29 1 19 0;
#X connect 30 0 31 0;
#X connect 30 1 21 0;
#X connect 31 0 16 0;
#X connect 33 0 38 0;
#X connect 34 0 40 0;
#X connect 36 0 35 1;
#X connect 37 0 34 1;
#X connect 38 0 35 0;
#X connect 38 1 39 0;
#X connect 39 0 34 0;
#X connect 40 0 36 0;
#X connect 41 0 33 0;
#X connect 42 0 41 0;
#X restore 21 51 pd retrig;
#X obj 753 329 spigot;
#X msg 917 286 1;
#X msg 798 286 0;
#X obj 763 349 spigot;
#X floatatom 763 453 5 0 0 0 - - -;
#X floatatom 753 500 5 0 0 0 - - -;
#X obj 763 204 r \$0-knob-1-s;
#X obj 753 184 r \$0-knob-0-s;
#X msg 960 384 label VOLUME;
#X obj 763 475 s \$0-ext-volume;
#X msg 1187 383 label EXT_VOL;
#X msg 1199 487 label_pos -4 38;
#X msg 969 485 label_pos -3 38;
#X msg 1019 452 label_font \$1 \$2;
#X msg 1019 421 0 10;
#X msg 1223 459 label_font \$1 \$2;
#X msg 1223 428 0 10;
#X obj 1131 258 r \$0-bang-on-load-1;
#X obj 320 202 t b b b;
#X obj 583 202 t b b b;
#N canvas 12 665 450 300 set-volume-knobs 0;
#X obj 34 39 inlet;
#X obj 34 172 f;
#X obj 34 207 s \$0-knob-0-r;
#X obj 224 172 f;
#X obj 224 207 s \$0-knob-1-r;
#X obj 245 99 r \$0-ext-volume;
#X text 117 36 Set the knobs to the correct position;
#X obj 55 99 r \$0-int-volume;
#X connect 0 0 1 0;
#X connect 0 0 3 0;
#X connect 1 0 2 0;
#X connect 3 0 4 0;
#X connect 5 0 3 1;
#X connect 7 0 1 1;
#X restore 583 238 pd set-volume-knobs;
#N canvas 136 118 511 300 set-bpm-knobs 0;
#X obj 45 30 inlet;
#X obj 66 100 r \$0-swing;
#X obj 45 133 f;
#X obj 45 158 - 1;
#X obj 45 198 s \$0-knob-0-r;
#X obj 175 133 f;
#N canvas 841 306 450 300 calculate-knob-position 0;
#X floatatom 74 87 5 0 0 0 - - -;
#X obj 74 53 inlet;
#X floatatom 74 159 5 0 0 0 - - -;
#X obj 74 181 outlet;
#X obj 74 109 - 60;
#X obj 74 134 / 180;
#X connect 0 0 4 0;
#X connect 1 0 0 0;
#X connect 2 0 3 0;
#X connect 4 0 5 0;
#X connect 5 0 2 0;
#X restore 175 168 pd calculate-knob-position;
#X obj 196 101 r \$0-bpm;
#X obj 175 198 s \$0-knob-1-r;
#X text 141 28 Set the knobs to the correct position;
#X connect 0 0 2 0;
#X connect 0 0 5 0;
#X connect 1 0 2 1;
#X connect 2 0 3 0;
#X connect 3 0 4 0;
#X connect 5 0 6 0;
#X connect 6 0 8 0;
#X connect 7 0 5 1;
#X restore 294 239 pd set-bpm-knobs;
#X text 21 23 Handle A B knobs. Volume \, and BPM. Retrig subpatch
is below;
#X text 978 116 BPM Button off;
#X text 202 98 BPM Button on;
#X obj 1131 283 del 1000;
#X obj 753 522 s \$0-int-volume;
#N canvas 601 198 377 354 show-swing 0;
#X msg 25 220 label \$1;
#X obj 25 307 s \$0-lcd-swing-r;
#X obj 25 66 * 100;
#X obj 25 193 makefilename %d%%_SWING;
#X obj 25 16 r \$0-swing;
#X obj 25 41 - 1;
#X obj 25 269 spigot 1;
#X obj 86 95 r \$0-ext-step-btn-0-s;
#X obj 86 245 == 0;
#X msg 95 150 label EXT_STEP;
#X obj 25 163 f;
#X obj 69 125 sel 0 1;
#X connect 0 0 6 0;
#X connect 2 0 10 0;
#X connect 3 0 0 0;
#X connect 4 0 5 0;
#X connect 5 0 2 0;
#X connect 6 0 1 0;
#X connect 7 0 8 0;
#X connect 7 0 11 0;
#X connect 8 0 6 1;
#X connect 9 0 1 0;
#X connect 10 0 3 0;
#X connect 11 0 10 0;
#X connect 11 1 9 0;
#X restore 21 81 pd show-swing;
#X obj 479 369 s \$0-view-retrig-seq;
#X obj 479 344 pipe 5;
#X obj 960 527 s \$0-knob-0-r;
#X obj 1187 526 s \$0-knob-1-r;
#X obj 320 141 r \$0-global-state-on;
#X obj 490 177 sel bpm-mode;
#X obj 490 141 r \$0-global-state-off;
#X obj 139 525 f;
#X obj 148 475 r \$0-get-bpm;
#X obj 160 495 r \$0-bpm;
#X connect 0 0 2 0;
#X connect 1 0 5 0;
#X connect 2 0 17 0;
#X connect 3 0 11 0;
#X connect 3 0 9 0;
#X connect 3 0 2 1;
#X connect 3 0 5 1;
#X connect 3 0 51 0;
#X connect 4 0 2 1;
#X connect 4 0 5 1;
#X connect 4 0 51 0;
#X connect 5 0 8 0;
#X connect 6 0 40 0;
#X connect 8 0 19 0;
#X connect 9 0 10 0;
#X connect 9 0 14 0;
#X connect 10 0 14 0;
#X connect 11 0 16 0;
#X connect 11 0 15 0;
#X connect 12 0 0 0;
#X connect 13 0 1 0;
#X connect 16 0 15 0;
#X connect 17 0 57 0;
#X connect 19 0 20 0;
#X connect 20 0 18 0;
#X connect 22 0 27 0;
#X connect 23 0 22 1;
#X connect 23 0 25 1;
#X connect 23 0 30 0;
#X connect 23 0 32 0;
#X connect 24 0 22 1;
#X connect 24 0 25 1;
#X connect 25 0 26 0;
#X connect 26 0 31 0;
#X connect 27 0 48 0;
#X connect 28 0 25 0;
#X connect 29 0 22 0;
#X connect 30 0 34 0;
#X connect 30 0 36 0;
#X connect 30 0 52 0;
#X connect 32 0 33 0;
#X connect 32 0 38 0;
#X connect 32 0 53 0;
#X connect 33 0 53 0;
#X connect 34 0 52 0;
#X connect 35 0 52 0;
#X connect 36 0 35 0;
#X connect 37 0 53 0;
#X connect 38 0 37 0;
#X connect 39 0 47 0;
#X connect 40 0 43 0;
#X connect 40 1 3 0;
#X connect 40 2 24 0;
#X connect 41 0 42 0;
#X connect 41 1 23 0;
#X connect 41 2 4 0;
#X connect 47 0 30 0;
#X connect 47 0 32 0;
#X connect 51 0 50 0;
#X connect 54 0 6 0;
#X connect 55 1 41 0;
#X connect 56 0 55 0;
#X connect 57 0 7 0;
#X connect 58 0 57 0;
#X connect 59 0 57 1;
#X restore 871 247 pd bpm-button;
#N canvas 768 360 720 276 midi-control 0;
#N canvas 134 332 801 560 color-grid-buttons 0;
#X obj 63 54 r \$0-packed-grid-buttons;
#X obj 63 408 spigot;
#X obj 108 200 r \$0-midi-control-s;
#X text 324 48 Velocity determines color on my midi controller;
#X obj 108 285 r \$0-one-shot-mode-on-off;
#X obj 63 229 spigot;
#X obj 108 381 == 0;
#N canvas 0 115 1265 836 color-grid-buttons 0;
#X obj 223 450 t b f;
#X obj 233 430 t b f;
#X obj 243 410 t b f;
#X obj 253 390 t b f;
#X obj 263 370 t b f;
#X obj 273 350 t b f;
#X obj 283 330 t b f;
#X obj 293 310 t b f;
#X obj 303 290 t b f;
#X obj 313 270 t b f;
#X obj 323 250 t b f;
#X obj 333 230 t b f;
#X obj 343 210 t b f;
#X obj 353 190 t b f;
#X obj 951 213 f;
#X obj 950 42 r \$0-bang-on-load-1;
#X obj 213 470 t b f;
#X obj 1015 214 f;
#X msg 1015 185 5;
#X obj 1318 122 unpack f f f f f f f f f f f f f f f f;
#X msg 1318 92 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15;
#X obj 1319 396 f;
#X obj 1394 225 r \$0-current-grid-button;
#N canvas 101 520 460 374 flash 0;
#X obj 67 159 metro 100;
#X obj 67 184 f 0;
#X obj 100 184 + 1;
#X msg 104 129 0;
#X msg 67 129 1;
#X obj 133 184 sel 1;
#X floatatom 67 209 5 0 0 0 - - -;
#X msg 32 129 0;
#X obj 67 91 t b b;
#X obj 32 18 r \$0-flash-current-grid-button;
#X obj 32 43 sel 0 1;
#X obj 67 318 outlet;
#X obj 129 318 outlet;
#X obj 67 231 sel 0 1;
#X obj 32 289 t b;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 1 0 5 0;
#X connect 1 0 6 0;
#X connect 2 0 1 1;
#X connect 3 0 1 1;
#X connect 4 0 0 0;
#X connect 5 0 3 0;
#X connect 6 0 13 0;
#X connect 7 0 0 0;
#X connect 7 0 14 0;
#X connect 8 0 4 0;
#X connect 8 1 3 0;
#X connect 9 0 10 0;
#X connect 10 0 7 0;
#X connect 10 1 8 0;
#X connect 13 0 11 0;
#X connect 13 1 12 0;
#X connect 14 0 11 0;
#X restore 1045 84 pd flash;
#X msg 1054 185 0;
#X obj 1514 337 sel 0;
#X msg 1514 394 -1;
#X text 1408 427 When the sequencer is invisible \, set the current
position to -1 in order to hide the position led;
#X obj 1560 387 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 1394 256 spigot;
#X obj 1514 312 t f f;
#X obj 1514 362 del 10;
#X obj 469 137 unpack f f f f f f f f f f f f f f f f;
#X obj 448 170 f;
#X obj 458 190 f;
#X obj 468 210 f;
#X obj 478 230 f;
#X obj 488 250 f;
#X obj 498 270 f;
#X obj 508 290 f;
#X obj 518 310 f;
#X obj 528 330 f;
#X obj 538 350 f;
#X obj 548 370 f;
#X obj 558 390 f;
#X obj 568 410 f;
#X obj 578 430 f;
#X obj 588 450 f;
#X obj 598 470 f;
#X obj 469 104 r \$0-packed-midi-notes-for-grid-buttons;
#X floatatom 1319 442 5 0 0 0 - - -;
#X obj 1514 247 r \$0-one-shot-mode-on-off;
#X obj 1514 272 == 0;
#N canvas 164 431 833 409 limit-update-rate 0;
#X obj 29 220 inlet;
#X obj 29 266 spigot;
#X obj 29 291 t a b;
#X obj 87 121 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 1
1;
#X obj 87 188 f 0;
#X obj 118 188 + 1;
#X obj 87 213 sel 1;
#X msg 108 165 0;
#X msg 87 237 1;
#X msg 121 237 0;
#X obj 29 321 outlet;
#X text 170 118 <-- Delay between updates.;
#X obj 87 143 metro 20;
#X obj 134 114 f;
#X obj 97 28 r \$0-led-update-rate;
#X obj 97 53 t b f;
#X msg 87 96 1;
#X text 247 236 This patch limits the speed that the packed grid buttons
get sent to the rest of the midi color subpatch. This is an optimization.
The midi-color-helper is a performance bottleneck \, especially when
there are 16 running at the same time.;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 2 0 10 0;
#X connect 2 1 9 0;
#X connect 2 1 13 0;
#X connect 3 0 12 0;
#X connect 4 0 5 0;
#X connect 4 0 6 0;
#X connect 5 0 4 1;
#X connect 6 0 7 0;
#X connect 6 0 8 0;
#X connect 7 0 4 1;
#X connect 8 0 1 1;
#X connect 9 0 1 1;
#X connect 12 0 4 0;
#X connect 13 0 12 1;
#X connect 14 0 15 0;
#X connect 15 0 16 0;
#X connect 15 1 13 0;
#X connect 16 0 3 0;
#X restore 25 91 pd limit-update-rate;
#X obj 363 170 t b f;
#X obj 25 120 unpack f f f f f f f f f f f f f f f f;
#X obj 25 59 inlet packed-grid-buttons;
#X msg 951 189 1;
#X obj 890 248 tbc-utils/midi-color-helper-1;
#X obj 1134 83 r \$0-global-state-1;
#X symbolatom 1134 108 10 0 0 0 - - -;
#X obj 1134 130 sel fx-mode;
#X msg 1134 188 1;
#X msg 1174 188 0;
#X obj 1128 214 f;
#X text 599 729 <-- default midi channel 1;
#X obj 580 701 r \$0-midi-channel-s;
#X obj 740 548 tbc-utils/midi-color-helper-1;
#X obj 750 528 tbc-utils/midi-color-helper-1;
#X obj 760 508 tbc-utils/midi-color-helper-1;
#X obj 770 488 tbc-utils/midi-color-helper-1;
#X obj 780 468 tbc-utils/midi-color-helper-1;
#X obj 790 448 tbc-utils/midi-color-helper-1;
#X obj 800 428 tbc-utils/midi-color-helper-1;
#X obj 810 408 tbc-utils/midi-color-helper-1;
#X obj 820 388 tbc-utils/midi-color-helper-1;
#X obj 830 368 tbc-utils/midi-color-helper-1;
#X obj 840 348 tbc-utils/midi-color-helper-1;
#X obj 850 328 tbc-utils/midi-color-helper-1;
#X obj 860 308 tbc-utils/midi-color-helper-1;
#X obj 870 288 tbc-utils/midi-color-helper-1;
#X obj 880 268 tbc-utils/midi-color-helper-1;
#X obj 511 730 noteout 1;
#X obj 450 623 pack f f;
#X obj 450 648 unpack f f;
#X obj 450 685 route -1;
#X text 557 635 <-- TODO: Remove pack / unpack;
#X connect 0 0 34 0;
#X connect 0 1 68 0;
#X connect 1 0 35 0;
#X connect 1 1 69 0;
#X connect 2 0 36 0;
#X connect 2 1 70 0;
#X connect 3 0 37 0;
#X connect 3 1 71 0;
#X connect 4 0 38 0;
#X connect 4 1 72 0;
#X connect 5 0 39 0;
#X connect 5 1 73 0;
#X connect 6 0 40 0;
#X connect 6 1 74 0;
#X connect 7 0 41 0;
#X connect 7 1 75 0;
#X connect 8 0 42 0;
#X connect 8 1 76 0;
#X connect 9 0 43 0;
#X connect 9 1 77 0;
#X connect 10 0 44 0;
#X connect 10 1 78 0;
#X connect 11 0 45 0;
#X connect 11 1 79 0;
#X connect 12 0 46 0;
#X connect 12 1 80 0;
#X connect 13 0 47 0;
#X connect 13 1 81 0;
#X connect 14 0 58 1;
#X connect 14 0 67 1;
#X connect 14 0 68 1;
#X connect 14 0 69 1;
#X connect 14 0 70 1;
#X connect 14 0 71 1;
#X connect 14 0 72 1;
#X connect 14 0 73 1;
#X connect 14 0 74 1;
#X connect 14 0 75 1;
#X connect 14 0 76 1;
#X connect 14 0 77 1;
#X connect 14 0 78 1;
#X connect 14 0 79 1;
#X connect 14 0 80 1;
#X connect 14 0 81 1;
#X connect 15 0 57 0;
#X connect 15 0 18 0;
#X connect 15 0 20 0;
#X connect 16 0 33 0;
#X connect 16 1 67 0;
#X connect 17 0 58 2;
#X connect 17 0 67 2;
#X connect 17 0 68 2;
#X connect 17 0 69 2;
#X connect 17 0 70 2;
#X connect 17 0 71 2;
#X connect 17 0 72 2;
#X connect 17 0 73 2;
#X connect 17 0 74 2;
#X connect 17 0 75 2;
#X connect 17 0 76 2;
#X connect 17 0 77 2;
#X connect 17 0 78 2;
#X connect 17 0 79 2;
#X connect 17 0 80 2;
#X connect 17 0 81 2;
#X connect 18 0 17 0;
#X connect 19 0 67 3;
#X connect 19 1 68 3;
#X connect 19 2 69 3;
#X connect 19 3 70 3;
#X connect 19 4 71 3;
#X connect 19 5 72 3;
#X connect 19 6 73 3;
#X connect 19 7 74 3;
#X connect 19 8 75 3;
#X connect 19 9 76 3;
#X connect 19 10 77 3;
#X connect 19 11 78 3;
#X connect 19 12 79 3;
#X connect 19 13 80 3;
#X connect 19 14 81 3;
#X connect 19 15 58 3;
#X connect 20 0 19 0;
#X connect 21 0 50 0;
#X connect 21 0 58 4;
#X connect 21 0 67 4;
#X connect 21 0 68 4;
#X connect 21 0 69 4;
#X connect 21 0 70 4;
#X connect 21 0 71 4;
#X connect 21 0 72 4;
#X connect 21 0 73 4;
#X connect 21 0 74 4;
#X connect 21 0 75 4;
#X connect 21 0 76 4;
#X connect 21 0 77 4;
#X connect 21 0 78 4;
#X connect 21 0 79 4;
#X connect 21 0 80 4;
#X connect 21 0 81 4;
#X connect 22 0 29 0;
#X connect 23 0 18 0;
#X connect 23 1 24 0;
#X connect 24 0 17 0;
#X connect 25 0 28 0;
#X connect 25 0 31 0;
#X connect 26 0 21 0;
#X connect 29 0 21 0;
#X connect 30 0 25 0;
#X connect 30 1 29 1;
#X connect 31 0 26 0;
#X connect 32 0 33 1;
#X connect 32 1 34 1;
#X connect 32 2 35 1;
#X connect 32 3 36 1;
#X connect 32 4 37 1;
#X connect 32 5 38 1;
#X connect 32 6 39 1;
#X connect 32 7 40 1;
#X connect 32 8 41 1;
#X connect 32 9 42 1;
#X connect 32 10 43 1;
#X connect 32 11 44 1;
#X connect 32 12 45 1;
#X connect 32 13 46 1;
#X connect 32 14 47 1;
#X connect 32 15 48 1;
#X connect 33 0 83 0;
#X connect 34 0 83 0;
#X connect 35 0 83 0;
#X connect 36 0 83 0;
#X connect 37 0 83 0;
#X connect 38 0 83 0;
#X connect 39 0 83 0;
#X connect 40 0 83 0;
#X connect 41 0 83 0;
#X connect 42 0 83 0;
#X connect 43 0 83 0;
#X connect 44 0 83 0;
#X connect 45 0 83 0;
#X connect 46 0 83 0;
#X connect 47 0 83 0;
#X connect 48 0 83 0;
#X connect 49 0 32 0;
#X connect 51 0 52 0;
#X connect 52 0 30 0;
#X connect 53 0 55 0;
#X connect 54 0 48 0;
#X connect 54 1 58 0;
#X connect 55 0 16 0;
#X connect 55 1 0 0;
#X connect 55 2 1 0;
#X connect 55 3 2 0;
#X connect 55 4 3 0;
#X connect 55 5 4 0;
#X connect 55 6 5 0;
#X connect 55 7 6 0;
#X connect 55 8 7 0;
#X connect 55 9 8 0;
#X connect 55 10 9 0;
#X connect 55 11 10 0;
#X connect 55 12 11 0;
#X connect 55 13 12 0;
#X connect 55 14 13 0;
#X connect 55 15 54 0;
#X connect 56 0 53 0;
#X connect 57 0 14 0;
#X connect 58 0 83 1;
#X connect 59 0 60 0;
#X connect 60 0 61 0;
#X connect 61 0 62 0;
#X connect 61 1 18 0;
#X connect 61 1 63 0;
#X connect 62 0 64 0;
#X connect 63 0 64 0;
#X connect 64 0 58 5;
#X connect 64 0 67 5;
#X connect 64 0 68 5;
#X connect 64 0 69 5;
#X connect 64 0 70 5;
#X connect 64 0 71 5;
#X connect 64 0 72 5;
#X connect 64 0 73 5;
#X connect 64 0 74 5;
#X connect 64 0 75 5;
#X connect 64 0 76 5;
#X connect 64 0 77 5;
#X connect 64 0 78 5;
#X connect 64 0 79 5;
#X connect 64 0 80 5;
#X connect 64 0 81 5;
#X connect 66 0 82 2;
#X connect 67 0 83 1;
#X connect 68 0 83 1;
#X connect 69 0 83 1;
#X connect 70 0 83 1;
#X connect 71 0 83 1;
#X connect 72 0 83 1;
#X connect 73 0 83 1;
#X connect 74 0 83 1;
#X connect 75 0 83 1;
#X connect 76 0 83 1;
#X connect 77 0 83 1;
#X connect 78 0 83 1;
#X connect 79 0 83 1;
#X connect 80 0 83 1;
#X connect 81 0 83 1;
#X connect 83 0 84 0;
#X connect 84 0 85 0;
#X connect 84 1 82 1;
#X connect 85 1 82 0;
#X restore 63 448 pd color-grid-buttons;
#X obj 108 84 r \$0-enable-midi-leds;
#X obj 63 159 spigot;
#N canvas 220 81 837 899 one-shot-mode 0;
#X obj 430 825 noteout 1;
#X obj 447 200 unpack f f f f f f f f f f f f f f f f;
#X obj 426 233 f;
#X obj 436 253 f;
#X obj 446 273 f;
#X obj 456 293 f;
#X obj 466 313 f;
#X obj 476 333 f;
#X obj 486 353 f;
#X obj 496 373 f;
#X obj 506 393 f;
#X obj 516 413 f;
#X obj 526 433 f;
#X obj 536 453 f;
#X obj 546 473 f;
#X obj 556 493 f;
#X obj 566 513 f;
#X obj 576 533 f;
#X msg 502 787 0;
#X obj 430 745 t f b;
#X obj 467 677 t f b;
#N canvas 318 205 962 547 get-seq-bangs 0;
#X msg 40 60 0;
#X msg 90 80 1;
#X msg 140 100 2;
#X msg 190 120 3;
#X msg 240 140 4;
#X msg 290 160 5;
#X msg 340 180 6;
#X msg 390 200 7;
#X obj 40 425 outlet;
#X msg 440 220 8;
#X msg 490 240 9;
#X msg 540 260 10;
#X msg 590 280 11;
#X msg 640 299 12;
#X msg 690 320 13;
#X msg 740 340 14;
#X msg 790 360 15;
#X text 370 16 Get the gates from all of the different sequencers;
#X obj 40 15 r \$0-play-sample-0-s;
#X obj 90 35 r \$0-play-sample-1-s;
#X obj 140 55 r \$0-play-sample-2-s;
#X obj 190 75 r \$0-play-sample-3-s;
#X obj 240 95 r \$0-play-sample-4-s;
#X obj 290 115 r \$0-play-sample-5-s;
#X obj 340 135 r \$0-play-sample-6-s;
#X obj 390 155 r \$0-play-sample-7-s;
#X obj 440 175 r \$0-play-sample-8-s;
#X obj 490 195 r \$0-play-sample-9-s;
#X obj 540 215 r \$0-play-sample-10-s;
#X obj 590 235 r \$0-play-sample-11-s;
#X obj 640 255 r \$0-play-sample-12-s;
#X obj 690 275 r \$0-play-sample-13-s;
#X obj 740 295 r \$0-play-sample-14-s;
#X obj 790 315 r \$0-play-sample-15-s;
#X connect 0 0 8 0;
#X connect 1 0 8 0;
#X connect 2 0 8 0;
#X connect 3 0 8 0;
#X connect 4 0 8 0;
#X connect 5 0 8 0;
#X connect 6 0 8 0;
#X connect 7 0 8 0;
#X connect 9 0 8 0;
#X connect 10 0 8 0;
#X connect 11 0 8 0;
#X connect 12 0 8 0;
#X connect 13 0 8 0;
#X connect 14 0 8 0;
#X connect 15 0 8 0;
#X connect 16 0 8 0;
#X connect 18 0 0 0;
#X connect 19 0 1 0;
#X connect 20 0 2 0;
#X connect 21 0 3 0;
#X connect 22 0 4 0;
#X connect 23 0 5 0;
#X connect 24 0 6 0;
#X connect 25 0 7 0;
#X connect 26 0 9 0;
#X connect 27 0 10 0;
#X connect 28 0 11 0;
#X connect 29 0 12 0;
#X connect 30 0 13 0;
#X connect 31 0 14 0;
#X connect 32 0 15 0;
#X connect 33 0 16 0;
#X restore 28 38 pd get-seq-bangs;
#X obj 28 213 sel 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15;
#X obj 28 91 spigot 0;
#X obj 89 66 r \$0-midi-control-s;
#X obj 248 30 inlet;
#X obj 28 121 spigot 0;
#X obj 430 720 pipe 100;
#X obj 529 640 r \$0-clock-time-ms;
#X obj 529 665 * 3;
#X obj 529 690 / 2;
#X obj 447 172 r \$0-packed-midi-notes-for-grid-buttons;
#X obj 118 134 r \$0-enable-midi-leds;
#X obj 28 166 spigot 1;
#X msg 464 787 100;
#X text 516 824 <-- default midi channel 1;
#X obj 547 792 r \$0-midi-channel-s;
#X obj 369 618 route -1;
#X obj 369 591 t f;
#X obj 430 646 t f f;
#X connect 1 0 2 1;
#X connect 1 1 3 1;
#X connect 1 2 4 1;
#X connect 1 3 5 1;
#X connect 1 4 6 1;
#X connect 1 5 7 1;
#X connect 1 6 8 1;
#X connect 1 7 9 1;
#X connect 1 8 10 1;
#X connect 1 9 11 1;
#X connect 1 10 12 1;
#X connect 1 11 13 1;
#X connect 1 12 14 1;
#X connect 1 13 15 1;
#X connect 1 14 16 1;
#X connect 1 15 17 1;
#X connect 2 0 38 0;
#X connect 3 0 38 0;
#X connect 4 0 38 0;
#X connect 5 0 38 0;
#X connect 6 0 38 0;
#X connect 7 0 38 0;
#X connect 8 0 38 0;
#X connect 9 0 38 0;
#X connect 10 0 38 0;
#X connect 11 0 38 0;
#X connect 12 0 38 0;
#X connect 13 0 38 0;
#X connect 14 0 38 0;
#X connect 15 0 38 0;
#X connect 16 0 38 0;
#X connect 17 0 38 0;
#X connect 18 0 0 1;
#X connect 19 0 0 0;
#X connect 19 1 18 0;
#X connect 20 0 0 0;
#X connect 20 1 34 0;
#X connect 21 0 23 0;
#X connect 22 0 2 0;
#X connect 22 1 3 0;
#X connect 22 2 4 0;
#X connect 22 3 5 0;
#X connect 22 4 6 0;
#X connect 22 5 7 0;
#X connect 22 6 8 0;
#X connect 22 7 9 0;
#X connect 22 8 10 0;
#X connect 22 9 11 0;
#X connect 22 10 12 0;
#X connect 22 11 13 0;
#X connect 22 12 14 0;
#X connect 22 13 15 0;
#X connect 22 14 16 0;
#X connect 22 15 17 0;
#X connect 23 0 26 0;
#X connect 24 0 23 1;
#X connect 25 0 26 1;
#X connect 26 0 33 0;
#X connect 27 0 19 0;
#X connect 28 0 29 0;
#X connect 29 0 30 0;
#X connect 30 0 27 1;
#X connect 31 0 1 0;
#X connect 32 0 33 1;
#X connect 33 0 22 0;
#X connect 34 0 0 1;
#X connect 36 0 0 2;
#X connect 37 1 39 0;
#X connect 38 0 37 0;
#X connect 39 0 27 0;
#X connect 39 1 20 0;
#X restore 245 448 pd one-shot-mode;
#X text 320 2 Light up buttons by sending a value greater than 0 to
their corresponding midi button. 0 turns them off;
#N canvas 540 93 856 869 clear-grid 0;
#X obj 370 773 noteout 1;
#X obj 448 297 unpack f f f f f f f f f f f f f f f f;
#X obj 427 330 f;
#X obj 437 350 f;
#X obj 447 370 f;
#X obj 457 390 f;
#X obj 467 410 f;
#X obj 477 430 f;
#X obj 487 450 f;
#X obj 497 470 f;
#X obj 507 490 f;
#X obj 517 510 f;
#X obj 527 530 f;
#X obj 537 550 f;
#X obj 547 570 f;
#X obj 557 590 f;
#X obj 567 610 f;
#X obj 577 630 f;
#X msg 404 743 0;
#X obj 370 714 t f b;
#X obj 29 310 sel 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15;
#X obj 29 208 spigot 0;
#X obj 90 183 r \$0-midi-control-s;
#X obj 448 269 r \$0-packed-midi-notes-for-grid-buttons;
#X obj 90 238 r \$0-enable-midi-leds;
#X obj 29 263 spigot 1;
#X obj 29 5 inlet trigger;
#X msg 29 98 16;
#X obj 29 125 until;
#X obj 29 150 f 0;
#X obj 63 150 + 1;
#X msg 66 99 0;
#X obj 29 70 t b b;
#X obj 370 688 t f;
#X text 220 39 Turn off all the grid leds;
#X obj 461 740 r \$0-midi-channel-s;
#X text 456 772 <-- default midi channel 1;
#X connect 1 0 2 1;
#X connect 1 1 3 1;
#X connect 1 2 4 1;
#X connect 1 3 5 1;
#X connect 1 4 6 1;
#X connect 1 5 7 1;
#X connect 1 6 8 1;
#X connect 1 7 9 1;
#X connect 1 8 10 1;
#X connect 1 9 11 1;
#X connect 1 10 12 1;
#X connect 1 11 13 1;
#X connect 1 12 14 1;
#X connect 1 13 15 1;
#X connect 1 14 16 1;
#X connect 1 15 17 1;
#X connect 2 0 33 0;
#X connect 3 0 33 0;
#X connect 4 0 33 0;
#X connect 5 0 33 0;
#X connect 6 0 33 0;
#X connect 7 0 33 0;
#X connect 8 0 33 0;
#X connect 9 0 33 0;
#X connect 10 0 33 0;
#X connect 11 0 33 0;
#X connect 12 0 33 0;
#X connect 13 0 33 0;
#X connect 14 0 33 0;
#X connect 15 0 33 0;
#X connect 16 0 33 0;
#X connect 17 0 33 0;
#X connect 18 0 0 1;
#X connect 19 0 0 0;
#X connect 19 1 18 0;
#X connect 20 0 2 0;
#X connect 20 1 3 0;
#X connect 20 2 4 0;
#X connect 20 3 5 0;
#X connect 20 4 6 0;
#X connect 20 5 7 0;
#X connect 20 6 8 0;
#X connect 20 7 9 0;
#X connect 20 8 10 0;
#X connect 20 9 11 0;
#X connect 20 10 12 0;
#X connect 20 11 13 0;
#X connect 20 12 14 0;
#X connect 20 13 15 0;
#X connect 20 14 16 0;
#X connect 20 15 17 0;
#X connect 21 0 25 0;
#X connect 22 0 21 1;
#X connect 23 0 1 0;
#X connect 24 0 25 1;
#X connect 25 0 20 0;
#X connect 26 0 32 0;
#X connect 27 0 28 0;
#X connect 28 0 29 0;
#X connect 29 0 30 0;
#X connect 29 0 21 0;
#X connect 30 0 29 1;
#X connect 31 0 29 1;
#X connect 32 0 27 0;
#X connect 32 1 31 0;
#X connect 33 0 19 0;
#X connect 35 0 0 2;
#X restore 169 355 pd clear-grid;
#X obj 108 335 t f b;
#X obj 63 109 list;
#X obj 308 116 r \$0-midi-control-s;
#X obj 308 141 sel 1;
#X connect 0 0 14 0;
#X connect 1 0 7 0;
#X connect 2 0 5 1;
#X connect 4 0 13 0;
#X connect 5 0 1 0;
#X connect 6 0 1 1;
#X connect 8 0 9 1;
#X connect 9 0 5 0;
#X connect 13 0 6 0;
#X connect 13 0 10 0;
#X connect 13 1 12 0;
#X connect 14 0 9 0;
#X connect 15 0 16 0;
#X connect 16 0 14 0;
#X restore 41 185 pd color-grid-buttons;
#N canvas 464 81 700 893 color-other-buttons 0;
#X obj 94 396 r \$0-midi-control-s;
#X obj 21 4 r \$0-sound-btn-s;
#X obj 44 24 r \$0-pattern-btn-s;
#X obj 68 44 r \$0-bpm-btn-s;
#X obj 258 204 r \$0-write-btn-s;
#X obj 235 184 r \$0-play-btn-s;
#X obj 209 164 r \$0-fx-btn-s;
#X obj 185 144 r \$0-funct-btn-s;
#X obj 21 535 spigot;
#X obj 429 764 r \$0-bang-on-load-1;
#X obj 51 770 t b f;
#X obj 21 791 t b f;
#X obj 81 751 t b f;
#X obj 111 731 t b f;
#X obj 141 711 t b f;
#X obj 171 691 t b f;
#X obj 201 671 t b f;
#X obj 44 98 t b f;
#X obj 68 118 t b f;
#X obj 91 138 t b f;
#X obj 115 158 t b f;
#X obj 138 178 t b f;
#X obj 162 198 t b f;
#X obj 185 218 t b f;
#X obj 208 238 t b f;
#X obj 91 64 r \$0-samples-btn-s;
#X obj 231 651 t b f;
#X obj 261 631 t b f;
#X obj 66 338 r \$0-enable-midi-leds;
#X obj 21 366 spigot;
#X obj 388 561 r \$0-packed-midi-notes-for-other-buttons;
#X obj 93 1079 route 0;
#X text 134 1104 <-- Toggle off color;
#X msg 429 794 127;
#X msg 93 1104 100;
#X obj 21 310 pack f f f f f f f f f f f;
#X obj 235 258 t b f;
#X obj 258 278 t b f;
#X obj 388 587 unpack f f f f f f f f f f f;
#X obj 291 611 t b f;
#X obj 321 591 t b f;
#X obj 21 559 unpack f f f f f f f f f f f;
#X text 478 793 <-- On color;
#X obj 21 504 list;
#X obj 94 457 sel 1;
#X obj 94 431 t f f;
#X obj 21 391 t b a;
#X obj 162 124 r \$0-midi-control-btn-s;
#X obj 138 104 r \$0-key-control-btn-s;
#X obj 165 1158 r \$0-midi-channel-s;
#X obj 115 84 r \$0-ext-step-btn-s;
#X obj 358 828 tbc-utils/midi-color-helper-1;
#X obj 158 1028 tbc-utils/midi-color-helper-1;
#X obj 178 1008 tbc-utils/midi-color-helper-1;
#X obj 198 988 tbc-utils/midi-color-helper-1;
#X obj 218 968 tbc-utils/midi-color-helper-1;
#X obj 238 948 tbc-utils/midi-color-helper-1;
#X obj 258 928 tbc-utils/midi-color-helper-1;
#X obj 278 908 tbc-utils/midi-color-helper-1;
#X obj 298 888 tbc-utils/midi-color-helper-1;
#X obj 318 868 tbc-utils/midi-color-helper-1;
#X obj 338 848 tbc-utils/midi-color-helper-1;
#X obj 21 949 f;
#X obj 51 929 f;
#X obj 81 909 f;
#X obj 111 889 f;
#X obj 141 869 f;
#X obj 171 849 f;
#X obj 201 829 f;
#X obj 231 809 f;
#X obj 261 789 f;
#X obj 291 769 f;
#X obj 321 749 f;
#X obj 21 1108 t f;
#X obj 82 1194 noteout 1;
#X obj 21 1133 route -1;
#X connect 0 0 45 0;
#X connect 1 0 35 0;
#X connect 2 0 17 0;
#X connect 3 0 18 0;
#X connect 4 0 37 0;
#X connect 5 0 36 0;
#X connect 6 0 24 0;
#X connect 7 0 23 0;
#X connect 8 0 41 0;
#X connect 9 0 33 0;
#X connect 10 0 63 0;
#X connect 10 1 53 0;
#X connect 11 0 62 0;
#X connect 11 1 52 0;
#X connect 12 0 64 0;
#X connect 12 1 54 0;
#X connect 13 0 65 0;
#X connect 13 1 55 0;
#X connect 14 0 66 0;
#X connect 14 1 56 0;
#X connect 15 0 67 0;
#X connect 15 1 57 0;
#X connect 16 0 68 0;
#X connect 16 1 58 0;
#X connect 17 0 35 0;
#X connect 17 1 35 1;
#X connect 18 0 35 0;
#X connect 18 1 35 2;
#X connect 19 0 35 0;
#X connect 19 1 35 3;
#X connect 20 0 35 0;
#X connect 20 1 35 4;
#X connect 21 0 35 0;
#X connect 21 1 35 5;
#X connect 22 0 35 0;
#X connect 22 1 35 6;
#X connect 23 0 35 0;
#X connect 23 1 35 7;
#X connect 24 0 35 0;
#X connect 24 1 35 8;
#X connect 25 0 19 0;
#X connect 26 0 69 0;
#X connect 26 1 59 0;
#X connect 27 0 70 0;
#X connect 27 1 60 0;
#X connect 28 0 29 1;
#X connect 29 0 46 0;
#X connect 30 0 38 0;
#X connect 31 0 34 0;
#X connect 31 1 74 1;
#X connect 33 0 51 1;
#X connect 33 0 52 1;
#X connect 33 0 53 1;
#X connect 33 0 54 1;
#X connect 33 0 55 1;
#X connect 33 0 56 1;
#X connect 33 0 57 1;
#X connect 33 0 58 1;
#X connect 33 0 59 1;
#X connect 33 0 60 1;
#X connect 33 0 61 1;
#X connect 34 0 74 1;
#X connect 35 0 29 0;
#X connect 36 0 35 0;
#X connect 36 1 35 9;
#X connect 37 0 35 0;
#X connect 37 1 35 10;
#X connect 38 0 62 1;
#X connect 38 1 63 1;
#X connect 38 2 64 1;
#X connect 38 3 65 1;
#X connect 38 4 66 1;
#X connect 38 5 67 1;
#X connect 38 6 68 1;
#X connect 38 7 69 1;
#X connect 38 8 70 1;
#X connect 38 9 71 1;
#X connect 38 10 72 1;
#X connect 39 0 71 0;
#X connect 39 1 61 0;
#X connect 40 0 72 0;
#X connect 40 1 51 0;
#X connect 41 0 11 0;
#X connect 41 1 10 0;
#X connect 41 2 12 0;
#X connect 41 3 13 0;
#X connect 41 4 14 0;
#X connect 41 5 15 0;
#X connect 41 6 16 0;
#X connect 41 7 26 0;
#X connect 41 8 27 0;
#X connect 41 9 39 0;
#X connect 41 10 40 0;
#X connect 43 0 8 0;
#X connect 44 0 43 0;
#X connect 45 0 44 0;
#X connect 45 1 8 1;
#X connect 46 0 43 0;
#X connect 46 1 43 1;
#X connect 47 0 22 0;
#X connect 48 0 21 0;
#X connect 49 0 74 2;
#X connect 50 0 20 0;
#X connect 51 0 31 0;
#X connect 52 0 31 0;
#X connect 53 0 31 0;
#X connect 54 0 31 0;
#X connect 55 0 31 0;
#X connect 56 0 31 0;
#X connect 57 0 31 0;
#X connect 58 0 31 0;
#X connect 59 0 31 0;
#X connect 60 0 31 0;
#X connect 61 0 31 0;
#X connect 62 0 73 0;
#X connect 63 0 73 0;
#X connect 64 0 73 0;
#X connect 65 0 73 0;
#X connect 66 0 73 0;
#X connect 67 0 73 0;
#X connect 68 0 73 0;
#X connect 69 0 73 0;
#X connect 70 0 73 0;
#X connect 71 0 73 0;
#X connect 72 0 73 0;
#X connect 73 0 75 0;
#X connect 75 1 74 0;
#X restore 41 205 pd color-other-buttons;
#X obj 306 225 s \$0-enable-midi-leds;
#X obj 306 128 r \$0-bang-on-load-1;
#X obj 306 190 tgl 30 0 empty empty Midi_LEDS 33 15 0 15 -257985 -1
-1 1 1;
#N canvas 0 141 1265 824 clear-midi-leds 0;
#X obj 29 271 unpack f f f f f f f f f f f f f f f f;
#X obj 372 758 noteout 1;
#X obj 437 272 unpack f f f f f f f f f f f f f f f f;
#X obj 416 305 f;
#X obj 426 325 f;
#X obj 436 345 f;
#X obj 446 365 f;
#X obj 456 385 f;
#X obj 466 405 f;
#X obj 476 425 f;
#X obj 486 445 f;
#X obj 496 465 f;
#X obj 506 485 f;
#X obj 516 505 f;
#X obj 526 525 f;
#X obj 536 545 f;
#X obj 546 565 f;
#X obj 556 585 f;
#X obj 566 605 f;
#X obj 437 239 r \$0-packed-midi-notes-for-grid-buttons;
#X obj 29 7 r \$0-midi-control-s;
#X floatatom 29 32 5 0 0 0 - - -;
#X obj 29 54 sel 0;
#X msg 406 732 0;
#X obj 799 704 noteout 1;
#X obj 799 615 f;
#X obj 829 615 f;
#X obj 859 615 f;
#X obj 889 615 f;
#X obj 919 615 f;
#X obj 949 615 f;
#X obj 979 615 f;
#X obj 1009 615 f;
#X obj 1039 615 f;
#X obj 995 159 r \$0-packed-midi-notes-for-other-buttons;
#X obj 799 137 t b b;
#X msg 765 648 0;
#X obj 330 305 t b b;
#X obj 320 325 t b b;
#X obj 310 345 t b b;
#X obj 300 365 t b b;
#X obj 280 405 t b b;
#X obj 270 425 t b b;
#X obj 260 445 t b b;
#X obj 250 465 t b b;
#X obj 240 485 t b b;
#X obj 230 505 t b b;
#X obj 220 525 t b b;
#X obj 210 545 t b b;
#X obj 200 565 t b b;
#X obj 190 585 t b b;
#X obj 180 605 t b b;
#X obj 290 385 t b b;
#X msg 29 229 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
#X obj 29 80 del 50;
#X obj 450 731 r \$0-midi-channel-s;
#X obj 931 678 r \$0-midi-channel-s;
#X obj 765 191 t b;
#X obj 995 275 unpack f f f f f f f f f f f;
#X obj 799 275 t b b b b b b b b b b b;
#X obj 1069 615 f;
#X obj 1099 615 f;
#X connect 0 0 51 0;
#X connect 0 1 50 0;
#X connect 0 2 49 0;
#X connect 0 3 48 0;
#X connect 0 4 47 0;
#X connect 0 5 46 0;
#X connect 0 6 45 0;
#X connect 0 7 44 0;
#X connect 0 8 43 0;
#X connect 0 9 42 0;
#X connect 0 10 41 0;
#X connect 0 11 52 0;
#X connect 0 12 40 0;
#X connect 0 13 39 0;
#X connect 0 14 38 0;
#X connect 0 15 37 0;
#X connect 2 0 3 1;
#X connect 2 1 4 1;
#X connect 2 2 5 1;
#X connect 2 3 6 1;
#X connect 2 4 7 1;
#X connect 2 5 8 1;
#X connect 2 6 9 1;
#X connect 2 7 10 1;
#X connect 2 8 11 1;
#X connect 2 9 12 1;
#X connect 2 10 13 1;
#X connect 2 11 14 1;
#X connect 2 12 15 1;
#X connect 2 13 16 1;
#X connect 2 14 17 1;
#X connect 2 15 18 1;
#X connect 3 0 1 0;
#X connect 4 0 1 0;
#X connect 5 0 1 0;
#X connect 6 0 1 0;
#X connect 7 0 1 0;
#X connect 8 0 1 0;
#X connect 9 0 1 0;
#X connect 10 0 1 0;
#X connect 11 0 1 0;
#X connect 12 0 1 0;
#X connect 13 0 1 0;
#X connect 14 0 1 0;
#X connect 15 0 1 0;
#X connect 16 0 1 0;
#X connect 17 0 1 0;
#X connect 18 0 1 0;
#X connect 19 0 2 0;
#X connect 20 0 21 0;
#X connect 21 0 22 0;
#X connect 22 0 54 0;
#X connect 23 0 1 1;
#X connect 25 0 24 0;
#X connect 26 0 24 0;
#X connect 27 0 24 0;
#X connect 28 0 24 0;
#X connect 29 0 24 0;
#X connect 30 0 24 0;
#X connect 31 0 24 0;
#X connect 32 0 24 0;
#X connect 33 0 24 0;
#X connect 34 0 58 0;
#X connect 35 0 59 0;
#X connect 35 1 57 0;
#X connect 36 0 24 1;
#X connect 37 0 18 0;
#X connect 37 1 23 0;
#X connect 38 0 17 0;
#X connect 38 1 23 0;
#X connect 39 0 16 0;
#X connect 39 1 23 0;
#X connect 40 0 15 0;
#X connect 40 1 23 0;
#X connect 41 0 13 0;
#X connect 41 1 23 0;
#X connect 42 0 12 0;
#X connect 42 1 23 0;
#X connect 43 0 11 0;
#X connect 43 1 23 0;
#X connect 44 0 10 0;
#X connect 44 1 23 0;
#X connect 45 0 9 0;
#X connect 45 1 23 0;
#X connect 46 0 8 0;
#X connect 46 1 23 0;
#X connect 47 0 7 0;
#X connect 47 1 23 0;
#X connect 48 0 6 0;
#X connect 48 1 23 0;
#X connect 49 0 5 0;
#X connect 49 1 23 0;
#X connect 50 0 4 0;
#X connect 50 1 23 0;
#X connect 51 0 3 0;
#X connect 51 1 23 0;
#X connect 52 0 14 0;
#X connect 52 1 23 0;
#X connect 53 0 0 0;
#X connect 54 0 35 0;
#X connect 54 0 53 0;
#X connect 55 0 1 2;
#X connect 56 0 24 2;
#X connect 57 0 36 0;
#X connect 58 0 25 1;
#X connect 58 1 26 1;
#X connect 58 2 27 1;
#X connect 58 3 28 1;
#X connect 58 4 29 1;
#X connect 58 5 30 1;
#X connect 58 6 31 1;
#X connect 58 7 32 1;
#X connect 58 8 33 1;
#X connect 58 9 60 1;
#X connect 58 10 61 1;
#X connect 59 0 25 0;
#X connect 59 1 26 0;
#X connect 59 2 27 0;
#X connect 59 3 28 0;
#X connect 59 4 29 0;
#X connect 59 5 30 0;
#X connect 59 6 31 0;
#X connect 59 7 32 0;
#X connect 59 8 33 0;
#X connect 59 9 60 0;
#X connect 59 10 61 0;
#X connect 60 0 24 0;
#X connect 61 0 24 0;
#X restore 41 225 pd clear-midi-leds;
#X msg 306 163 1;
#X obj 502 166 r \$0-bang-on-load-1;
#X obj 502 224 s \$0-led-update-rate;
#N canvas 510 548 331 240 midi-mapping 0;
#N canvas 1257 225 548 565 \$0-mapper-buttons 0;
#X obj 274 77 bng 50 250 50 0 \$0-midi-mapper-next-s \$0-midi-mapper-next-r
> 12 24 0 50 -257985 -1 -1;
#X obj 213 77 bng 50 250 50 0 \$0-midi-mapper-prev-s \$0-midi-mapper-prev-r
< 9 24 0 50 -257985 -1 -1;
#X text 330 92 NEXT;
#X text 169 92 PREV;
#X text 199 8 MIDI MAPPING MODE;
#X obj 505 7 bng 30 250 50 0 \$0-midi-mapper-exit-s \$0-midi-mapper-exit-r
EXIT 0 40 0 12 -258113 -1 -1;
#X obj 8 274 cnv 15 530 280 empty empty Help 20 12 0 14 -233017 -66577
0;
#X text 26 384 Buttons must be mapped to something that sends a midi
note. Knobs must be mapped to something that sends a control value.
;
#X text 26 304 Make sure your controller is selected in "Media" ->
"MIDI Settings...";
#N canvas 0 81 450 300 midi-channel-selector 0;
#X obj 204 30 r \$0-midi-channel-r;
#X obj 204 212 s \$0-midi-channel-s;
#X floatatom 204 106 5 1 16 0 Midi_channel - -;
#X obj 230 184 text set \$0-midi-map;
#X msg 282 160 0;
#X obj 204 128 t f f b;
#X connect 0 0 2 0;
#X connect 2 0 5 0;
#X connect 4 0 3 1;
#X connect 5 0 1 0;
#X connect 5 1 3 0;
#X connect 5 2 4 0;
#X coords 0 -1 1 1 150 30 2 100 100;
#X restore 193 37 pd midi-channel-selector;
#X text 26 354 Currently only supports one midi device on one midi
channel.;
#X obj 253 137 bng 30 250 50 0 \$0-unmap-btn-s \$0-unmap-btn-r UNMAP_SELECTED
-35 40 0 12 -228856 -1 -1;
#X text 26 444 LED data is sent out of MIDI OUT \, and uses velocity
to determine the color of the LED.;
#X text 27 202 Use the buttons above to select the gui object you want
to map \, then press the button / move the control on your midi controller
to map it! Press UNMAP_SELECTED to unmap the currently selected GUI
element.;
#X text 26 484 The midi map is saved to a file called midi-map.txt
and each copy of TBC can have a different midi map;
#X restore 31 31 pd \$0-mapper-buttons;
#N canvas 780 317 913 553 increment-through-gui-elements 0;
#X obj 78 176 f 0;
#X obj 78 258 mod 45;
#X obj 57 231 f;
#X obj 87 231 f;
#X obj 78 201 t f f;
#X floatatom 78 283 5 0 0 0 - - -;
#X obj 42 177 - 1;
#X obj 115 176 + 1;
#N canvas 568 217 1172 721 gui-element-selector 0;
#X obj 58 23 inlet;
#X obj 81 164 < 16;
#X obj 81 189 sel 1;
#X obj 58 354 pack s f;
#X obj 58 329 symbol;
#X obj 221 149 sel 1;
#X obj 221 124 expr if ($f1 >= 16 && $f1 < 32 \, 1 \, 0);
#X obj 58 48 t b f f b;
#X msg 81 234 symbol grid-btn;
#X msg 221 234 symbol grid-knob;
#X msg 847 234 symbol invalid;
#X obj 847 209 sel 1;
#X obj 58 379 list trim;
#X obj 58 672 s \$0-gui-element-to-map;
#X msg 58 644 grid-btn;
#X obj 147 614 s \$0-gui-element-to-map;
#X msg 147 586 grid-knob;
#X obj 236 556 s \$0-gui-element-to-map;
#X obj 847 184 expr if ($f1 < 0 || $f1 >= 45 \, 1 \, 0);
#X msg 529 234 symbol other-btn;
#X obj 369 179 sel 1;
#X obj 369 154 expr if ($f1 >= 32 && $f1 < 34 \, 1 \, 0);
#X obj 529 209 sel 1;
#X obj 529 184 expr if ($f1 >= 34 && $f1 <= 45 \, 1 \, 0);
#X msg 369 234 symbol other-knob;
#X obj 58 409 route grid-btn grid-knob other-knob other-btn;
#X obj 325 496 s \$0-gui-element-to-map;
#X msg 325 468 other-btn;
#X msg 236 528 other-knob;
#X msg 415 439 SELECTED INVALID GUI ELEMENT!;
#X obj 415 464 print ERROR;
#X connect 0 0 7 0;
#X connect 1 0 2 0;
#X connect 2 0 8 0;
#X connect 3 0 12 0;
#X connect 4 0 3 0;
#X connect 5 0 9 0;
#X connect 6 0 5 0;
#X connect 7 0 4 0;
#X connect 7 1 6 0;
#X connect 7 1 1 0;
#X connect 7 1 18 0;
#X connect 7 1 21 0;
#X connect 7 1 23 0;
#X connect 7 2 3 1;
#X connect 8 0 4 1;
#X connect 9 0 4 1;
#X connect 10 0 4 1;
#X connect 11 0 10 0;
#X connect 12 0 25 0;
#X connect 14 0 13 0;
#X connect 16 0 15 0;
#X connect 18 0 11 0;
#X connect 19 0 4 1;
#X connect 20 0 24 0;
#X connect 21 0 20 0;
#X connect 22 0 19 0;
#X connect 23 0 22 0;
#X connect 24 0 4 1;
#X connect 25 0 14 0;
#X connect 25 1 16 0;
#X connect 25 2 28 0;
#X connect 25 3 27 0;
#X connect 25 4 29 0;
#X connect 27 0 26 0;
#X connect 28 0 17 0;
#X connect 29 0 30 0;
#X restore 78 465 pd gui-element-selector;
#X obj 131 375 change;
#X obj 131 405 s \$0-reset-gui-backgrounds;
#X obj 104 435 s \$0-gui-element-index;
#X obj 78 345 t f f f;
#X obj 139 274 r \$0-midi-mapper-active;
#X obj 78 305 spigot 0;
#X obj 57 37 r \$0-midi-mapper-prev-s;
#X obj 87 57 r \$0-midi-mapper-next-s;
#X text 326 42 Select which gui element to map by using the selector
buttons. This selector increments through all of the buttons and knobs
on the GUI. The selected element flashes;
#X obj 78 146 r \$0-midi-mapper-index-clicked;
#N canvas 0 81 561 466 click-on-gui-to-select 0;
#X obj 195 109 r \$0-packed-grid-buttons;
#X obj 195 285 spigot;
#N canvas 0 81 449 471 midi-mapper-click-grid-btns 0;
#X obj 115 207 list split 1;
#X obj 194 232 list;
#X obj 115 113 t a b;
#X obj 126 175 spigot;
#X msg 171 143 1, f 1;
#X msg 190 143 0, f 1;
#X obj 246 156 f 0;
#X obj 246 181 t f f;
#X obj 303 155 + 1;
#X msg 267 130 0;
#X obj 141 262 pack f f;
#X obj 115 232 t b f b;
#X obj 89 83 t b a b;
#X obj 141 292 unpack f f;
#X obj 141 322 sel 1;
#X obj 141 346 f;
#X obj 141 411 s \$0-midi-mapper-index-clicked;
#X obj 89 42 inlet;
#X obj 55 177 outlet;
#X text 155 381 <-- Disconnected!;
#X connect 0 0 11 0;
#X connect 0 1 1 1;
#X connect 0 2 5 0;
#X connect 1 0 3 0;
#X connect 2 0 0 0;
#X connect 2 1 4 0;
#X connect 2 1 9 0;
#X connect 3 0 0 0;
#X connect 4 0 3 1;
#X connect 5 0 3 1;
#X connect 6 0 7 0;
#X connect 7 0 10 1;
#X connect 7 1 8 0;
#X connect 8 0 6 1;
#X connect 9 0 6 1;
#X connect 10 0 13 0;
#X connect 11 0 1 0;
#X connect 11 1 10 0;
#X connect 11 2 6 0;
#X connect 12 0 18 0;
#X connect 12 1 2 0;
#X connect 13 0 14 0;
#X connect 13 1 15 1;
#X connect 14 0 15 0;
#X connect 17 0 12 0;
#X restore 195 371 pd midi-mapper-click-grid-btns;
#N canvas 728 187 636 696 clear-all-btns 0;
#X obj 69 242 s \$0-clear-grid;
#X obj 69 152 spigot;
#X obj 67 63 metro 50;
#X obj 67 44 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0 1
;
#X msg 67 88 1;
#X obj 69 182 t b b;
#X msg 106 212 0;
#X obj 67 19 inlet on-off;
#X obj 177 19 inlet bang;
#X obj 243 660 s;
#X msg 284 366 \$1-sound-btn-r;
#X obj 264 261 pack f \$0;
#X obj 264 631 symbol;
#X msg 294 386 \$1-pattern-btn-r;
#X msg 304 406 \$1-bpm-btn-r;
#X msg 314 426 \$1-samples-btn-r;
#X msg 324 446 \$1-ext-step-r;
#X msg 354 506 \$1-funct-btn-r;
#X msg 364 526 \$1-fx-btn-r;
#X msg 374 546 \$1-play-btn-r;
#X msg 384 566 \$1-write-btn-r;
#X msg 334 466 \$1-key-control-btn-r;
#X msg 344 486 \$1-midi-control-btn-r;
#X obj 264 291 route 0 1 2 3 4 5 6 7 8 9 10 11 12;
#X obj 243 125 until;
#X msg 243 66 15;
#X obj 264 206 f 0;
#X obj 264 231 t f f;
#X obj 327 207 + 1;
#X msg 285 175 0;
#X obj 243 91 t f b;
#X obj 243 150 t b b;
#X msg 243 175 0;
#X text 137 334 This code repurposed from the sequencer grid colors
subpatch;
#X connect 1 0 5 0;
#X connect 2 0 4 0;
#X connect 3 0 2 0;
#X connect 4 0 1 1;
#X connect 5 0 0 0;
#X connect 5 0 25 0;
#X connect 5 1 6 0;
#X connect 6 0 1 1;
#X connect 7 0 3 0;
#X connect 8 0 1 0;
#X connect 10 0 12 0;
#X connect 11 0 23 0;
#X connect 12 0 9 1;
#X connect 13 0 12 0;
#X connect 14 0 12 0;
#X connect 15 0 12 0;
#X connect 16 0 12 0;
#X connect 17 0 12 0;
#X connect 18 0 12 0;
#X connect 19 0 12 0;
#X connect 20 0 12 0;
#X connect 21 0 12 0;
#X connect 22 0 12 0;
#X connect 23 2 10 0;
#X connect 23 3 13 0;
#X connect 23 4 14 0;
#X connect 23 5 15 0;
#X connect 23 6 16 0;
#X connect 23 7 21 0;
#X connect 23 8 22 0;
#X connect 23 9 17 0;
#X connect 23 10 18 0;
#X connect 23 11 19 0;
#X connect 23 12 20 0;
#X connect 24 0 31 0;
#X connect 25 0 30 0;
#X connect 26 0 27 0;
#X connect 27 0 11 0;
#X connect 27 1 28 0;
#X connect 28 0 26 1;
#X connect 29 0 26 1;
#X connect 30 0 24 0;
#X connect 30 1 29 0;
#X connect 31 0 32 0;
#X connect 31 1 26 0;
#X connect 32 0 9 0;
#X restore 26 396 pd clear-all-btns;
#X obj 252 285 spigot;
#N canvas 744 127 449 471 midi-mapper-click-other-btns 0;
#X obj 115 207 list split 1;
#X obj 194 232 list;
#X obj 115 113 t a b;
#X obj 126 175 spigot;
#X msg 171 143 1, f 1;
#X msg 190 143 0, f 1;
#X obj 246 156 f 0;
#X obj 246 181 t f f;
#X obj 303 155 + 1;
#X msg 267 130 0;
#X obj 141 262 pack f f;
#X obj 115 232 t b f b;
#X obj 89 83 t b a b;
#X obj 141 292 unpack f f;
#X obj 141 322 sel 1;
#X obj 141 346 f;
#X obj 141 401 s \$0-midi-mapper-index-clicked;
#X obj 89 42 inlet;
#X obj 55 177 outlet;
#X obj 141 371 + 34;
#X connect 0 0 11 0;
#X connect 0 1 1 1;
#X connect 0 2 5 0;
#X connect 1 0 3 0;
#X connect 2 0 0 0;
#X connect 2 1 4 0;
#X connect 2 1 9 0;
#X connect 3 0 0 0;
#X connect 4 0 3 1;
#X connect 5 0 3 1;
#X connect 6 0 7 0;
#X connect 7 0 10 1;
#X connect 7 1 8 0;
#X connect 8 0 6 1;
#X connect 9 0 6 1;
#X connect 10 0 13 0;
#X connect 11 0 1 0;
#X connect 11 1 10 0;
#X connect 11 2 6 0;
#X connect 12 0 18 0;
#X connect 12 1 2 0;
#X connect 13 0 14 0;
#X connect 13 1 15 1;
#X connect 14 0 15 0;
#X connect 15 0 19 0;
#X connect 17 0 12 0;
#X connect 19 0 16 0;
#X restore 252 341 pd midi-mapper-click-other-btns;
#N canvas 386 230 551 759 pack-other-buttons-and-knobs 0;
#X obj 184 276 t b f;
#X obj 194 296 t b f;
#X obj 204 316 t b f;
#X obj 214 336 t b f;
#X obj 224 356 t b f;
#X obj 234 376 t b f;
#X obj 244 396 t b f;
#X obj 254 416 t b f;
#X obj 264 436 t b f;
#X obj 274 456 t b f;
#X obj 118 164 t b;
#X obj 274 268 r \$0-write-btn-s;
#X obj 264 248 r \$0-play-btn-s;
#X obj 254 228 r \$0-fx-btn-s;
#X obj 244 208 r \$0-funct-btn-s;
#X obj 234 188 r \$0-midi-control-btn-s;
#X obj 224 168 r \$0-key-control-btn-s;
#X obj 214 148 r \$0-ext-step-btn-s;
#X obj 204 128 r \$0-samples-btn-s;
#X obj 194 108 r \$0-bpm-btn-s;
#X obj 184 88 r \$0-pattern-btn-s;
#X obj 174 68 r \$0-sound-btn-s;
#X obj 76 617 pack f f f f f f f f f f f f f;
#X obj 76 654 outlet;
#X connect 0 0 10 0;
#X connect 0 0 22 0;
#X connect 0 1 22 1;
#X connect 1 0 10 0;
#X connect 1 0 22 0;
#X connect 1 1 22 2;
#X connect 2 0 10 0;
#X connect 2 0 22 0;
#X connect 2 1 22 3;
#X connect 3 0 10 0;
#X connect 3 0 22 0;
#X connect 3 1 22 4;
#X connect 4 0 10 0;
#X connect 4 0 22 0;
#X connect 4 1 22 5;
#X connect 5 0 10 0;
#X connect 5 0 22 0;
#X connect 5 1 22 6;
#X connect 6 0 10 0;
#X connect 6 0 22 0;
#X connect 6 1 22 7;
#X connect 7 0 10 0;
#X connect 7 0 22 0;
#X connect 7 1 22 8;
#X connect 8 0 10 0;
#X connect 8 0 22 0;
#X connect 8 1 22 9;
#X connect 9 0 10 0;
#X connect 9 0 22 0;
#X connect 9 1 22 10;
#X connect 11 0 9 0;
#X connect 12 0 8 0;
#X connect 13 0 7 0;
#X connect 14 0 6 0;
#X connect 15 0 5 0;
#X connect 16 0 4 0;
#X connect 17 0 3 0;
#X connect 18 0 2 0;
#X connect 19 0 1 0;
#X connect 20 0 0 0;
#X connect 21 0 10 0;
#X connect 21 0 22 0;
#X connect 22 0 23 0;
#X restore 252 139 pd pack-other-buttons-and-knobs;
#X obj 297 180 sel 1 0;
#X obj 297 205 del 10;
#X msg 297 230 1, f 2;
#X msg 323 229 0, f 1;
#X obj 26 15 r \$0-global-state-1;
#X obj 26 80 sel midi-mapper-mode;
#X msg 26 105 1;
#X msg 153 104 0, f 2;
#X obj 26 139 t f f;
#X obj 26 164 sel 1;
#X msg 26 214 1;
#X obj 26 189 del 300;
#X text 51 42 <---- THIS IS DISCONNECTED! This patch is still WIP;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 2 0 3 1;
#X connect 4 0 5 0;
#X connect 6 0 4 0;
#X connect 7 0 8 0;
#X connect 7 1 10 0;
#X connect 8 0 9 0;
#X connect 9 0 4 1;
#X connect 10 0 4 1;
#X connect 12 0 13 0;
#X connect 12 1 14 0;
#X connect 13 0 15 0;
#X connect 14 0 15 0;
#X connect 15 0 16 0;
#X connect 15 1 3 0;
#X connect 16 0 18 0;
#X connect 16 1 1 1;
#X connect 17 0 1 1;
#X connect 18 0 17 0;
#X restore 523 226 pd click-on-gui-to-select;
#X text 550 205 WIP functionality;
#X connect 0 0 4 0;
#X connect 1 0 5 0;
#X connect 2 0 6 0;
#X connect 3 0 7 0;
#X connect 4 0 1 0;
#X connect 4 1 2 1;
#X connect 4 1 3 1;
#X connect 5 0 14 0;
#X connect 6 0 0 0;
#X connect 7 0 0 0;
#X connect 9 0 10 0;
#X connect 12 0 8 0;
#X connect 12 1 11 0;
#X connect 12 2 9 0;
#X connect 13 0 14 1;
#X connect 14 0 12 0;
#X connect 15 0 2 0;
#X connect 16 0 3 0;
#X connect 18 0 0 0;
#X restore 31 71 pd increment-through-gui-elements;
#N canvas 991 300 578 641 handle-midi-mapping-file 0;
#X obj 69 596 text define \$0-midi-map;
#X msg 52 439 read tbc-state-saves/tbc-\$1/midi-map.txt;
#X obj 52 330 f;
#X obj 89 383 f;
#X obj 89 348 bng 30 250 50 0 empty empty Write 35 7 0 10 -262144 -1
-1;
#X msg 236 79 0;
#X obj 276 33 f \$0;
#X obj 190 10 r \$0-midi-mapper-exit-s;
#X msg 276 63 \; pd-\$1-mapper-buttons vis 0;
#X obj 213 378 s \$0-refresh-midi-map;
#X obj 52 10 r \$0-tbc-id;
#X obj 63 308 bng 15 250 50 0 empty empty Refresh 17 7 0 10 -262144
-1 -1;
#X obj 190 35 t b b b b;
#X obj 52 464 t b a;
#N canvas 220 271 417 403 check-midi-map 0;
#X obj 35 51 inlet bang;
#X obj 35 247 text get \$0-midi-map;
#X obj 118 194 + 1;
#X obj 35 162 until;
#X obj 35 301 sel 0;
#X obj 35 217 t f f f;
#X obj 35 358 text set \$0-midi-map;
#X msg 125 301 -1;
#X text 34 15 Map any missing midi buttons to -1;
#X obj 35 108 t f b;
#X obj 88 277 sel 0;
#X obj 35 332 f;
#X msg 88 301 1;
#X msg 35 83 46;
#X obj 35 192 f 0;
#X msg 72 132 0;
#X obj 35 276 > -1;
#X connect 0 0 13 0;
#X connect 1 0 16 0;
#X connect 2 0 14 1;
#X connect 3 0 14 0;
#X connect 4 0 11 0;
#X connect 5 0 1 0;
#X connect 5 1 6 1;
#X connect 5 2 2 0;
#X connect 5 2 10 0;
#X connect 7 0 11 1;
#X connect 9 0 3 0;
#X connect 9 1 15 0;
#X connect 10 0 12 0;
#X connect 10 1 7 0;
#X connect 11 0 6 0;
#X connect 12 0 11 1;
#X connect 13 0 9 0;
#X connect 14 0 5 0;
#X connect 15 0 14 1;
#X connect 16 0 4 0;
#X restore 52 524 pd check-midi-map;
#X msg 17 557 clear;
#X obj 256 288 s \$0-midi-control-btn-r;
#X obj 236 348 s \$0-funct-btn-r;
#X msg 236 318 1;
#X obj 316 198 s \$0-clear-toggle-backgrounds;
#X obj 276 258 s \$0-midi-mapper-active;
#X obj 296 228 s \$0-flash-current-gui-element;
#X obj 337 168 s \$0-reload-colors;
#X obj 236 139 t b f f f b b;
#X text 278 315 TESTING;
#X msg 89 409 write tbc-state-saves/tbc-\$1/midi-map.txt;
#X connect 1 0 13 0;
#X connect 2 0 1 0;
#X connect 2 0 3 1;
#X connect 3 0 25 0;
#X connect 4 0 3 0;
#X connect 5 0 23 0;
#X connect 6 0 8 0;
#X connect 7 0 12 0;
#X connect 10 0 2 0;
#X connect 11 0 2 0;
#X connect 12 0 4 0;
#X connect 12 1 9 0;
#X connect 12 2 5 0;
#X connect 12 3 6 0;
#X connect 13 0 14 0;
#X connect 13 1 0 0;
#X connect 15 0 0 0;
#X connect 18 0 17 0;
#X connect 23 0 18 0;
#X connect 23 1 16 0;
#X connect 23 2 20 0;
#X connect 23 3 21 0;
#X connect 23 4 19 0;
#X connect 23 5 22 0;
#X connect 25 0 0 0;
#X restore 31 121 pd handle-midi-mapping-file;
#N canvas 711 522 691 270 midi-mapper-on-off 0;
#X obj 407 159 s \$0-clear-toggle-backgrounds;
#X obj 367 219 s \$0-midi-mapper-active;
#X obj 387 189 s \$0-flash-current-gui-element;
#X obj 428 129 s \$0-reload-colors;
#X obj 327 100 t f f f f b b;
#X obj 36 73 spigot 0;
#X obj 36 128 s \$0-midi-mapper-exit-r;
#X msg 327 70 1;
#X obj 97 45 r \$0-midi-mapper-active;
#X obj 327 45 sel midi-mapper-mode;
#X obj 327 15 r \$0-global-state-on;
#X obj 36 14 r \$0-midi-control-btn-0-s;
#X obj 36 98 sel 0;
#X connect 4 2 1 0;
#X connect 4 3 2 0;
#X connect 4 4 0 0;
#X connect 4 5 3 0;
#X connect 5 0 12 0;
#X connect 7 0 4 0;
#X connect 8 0 5 1;
#X connect 9 0 7 0;
#X connect 10 0 9 0;
#X connect 11 0 5 0;
#X connect 12 0 6 0;
#X restore 31 51 pd midi-mapper-on-off;
#N canvas 491 121 709 420 get-notes-and-controls-to-map 0;
#X obj 62 92 notein;
#X floatatom 62 118 0 0 0 0 - - -;
#X obj 99 349 text set \$0-midi-map;
#X obj 285 116 r \$0-gui-element-index;
#X obj 62 143 spigot 0;
#X obj 123 236 r \$0-midi-mapper-active;
#X floatatom 192 119 0 0 0 0 - - -;
#X obj 174 92 ctlin;
#X obj 285 145 expr if ($f1 >= 16 && $f1 < 34 \, 1 \, 0);
#X obj 62 263 spigot 0;
#X obj 192 144 spigot 0;
#X obj 285 190 == 0;
#X text 280 74 If we are assigning a knob \, get the control number
\, otherwise get the midi note;
#X floatatom 97 122 5 0 0 0 - - -;
#X floatatom 147 122 5 0 0 0 - - -;
#X obj 151 324 + 1;
#X floatatom 138 273 5 0 0 0 - - -;
#X obj 62 288 t b f;
#X text 187 324 <-- Add one to skip first line (midi channel);
#X obj 62 379 s \$0-refresh-midi-map;
#X obj 78 177 r \$0-unmap-btn-s;
#X msg 78 202 -1;
#X text 66 10 The unmap button writes a -1 to the text file for the
GUI element that is currently selected;
#X connect 0 0 1 0;
#X connect 0 1 13 0;
#X connect 1 0 4 0;
#X connect 3 0 8 0;
#X connect 3 0 15 0;
#X connect 4 0 9 0;
#X connect 5 0 9 1;
#X connect 5 0 16 0;
#X connect 6 0 10 0;
#X connect 7 0 14 0;
#X connect 7 1 6 0;
#X connect 8 0 11 0;
#X connect 8 0 10 1;
#X connect 9 0 17 0;
#X connect 10 0 9 0;
#X connect 11 0 4 1;
#X connect 15 0 2 1;
#X connect 17 0 19 0;
#X connect 17 1 2 0;
#X connect 20 0 21 0;
#X connect 21 0 9 0;
#X restore 31 91 pd get-notes-and-controls-to-map;
#N canvas 439 83 629 483 tbc-apply-midi-map 0;
#X obj 159 68 r \$0-bang-on-load-1;
#X text 27 192 Grid buttons -->;
#X obj 159 420 s \$0-packed-midi-notes-for-other-buttons;
#X obj 222 330 s \$0-packed-midi-notes-for-grid-buttons;
#X obj 201 360 s \$0-packed-midi-notes-for-grid-knobs;
#X obj 180 390 s \$0-packed-midi-notes-for-a-b-knobs;
#N canvas 1129 300 495 515 grid-buttons 0;
#X obj 53 384 outlet;
#X obj 167 214 text get \$0-midi-map;
#X obj 130 188 t b f;
#X msg 252 164 bang;
#X obj 82 290 list prepend;
#X obj 167 253 list prepend;
#X obj 130 105 until;
#X msg 104 40 16;
#X obj 130 160 f 0;
#X obj 163 160 + 1;
#X obj 104 65 t b f b;
#X obj 53 322 list;
#X obj 104 7 inlet;
#X obj 168 446 print midi-grid-buttons;
#X msg 151 136 1;
#X text 201 133 <--- Start at 1 for grid buttons;
#X obj 168 355 spigot 1;
#X obj 229 306 r \$0-midi-mapper-active;
#X obj 229 331 == 0;
#X obj 168 415 spigot;
#X obj 213 385 r \$0-debug-log;
#X connect 1 0 5 0;
#X connect 2 0 4 0;
#X connect 2 1 1 0;
#X connect 3 0 5 1;
#X connect 4 0 5 1;
#X connect 4 0 11 1;
#X connect 5 0 4 1;
#X connect 6 0 8 0;
#X connect 7 0 10 0;
#X connect 8 0 9 0;
#X connect 8 0 2 0;
#X connect 9 0 8 1;
#X connect 10 0 11 0;
#X connect 10 1 6 0;
#X connect 10 2 3 0;
#X connect 10 2 14 0;
#X connect 11 0 0 0;
#X connect 11 0 16 0;
#X connect 12 0 7 0;
#X connect 14 0 8 1;
#X connect 16 0 19 0;
#X connect 17 0 18 0;
#X connect 18 0 16 1;
#X connect 19 0 13 0;
#X connect 20 0 19 1;
#X restore 222 190 pd grid-buttons;
#X obj 159 93 del 500;
#N canvas 491 119 523 509 grid-knobs 0;
#X obj 53 384 outlet;
#X obj 167 214 text get \$0-midi-map;
#X obj 130 188 t b f;
#X msg 252 164 bang;
#X obj 82 290 list prepend;
#X obj 167 253 list prepend;
#X obj 130 105 until;
#X msg 104 40 16;
#X obj 130 160 f 0;
#X obj 163 160 + 1;
#X obj 104 65 t b f b;
#X obj 53 322 list;
#X obj 104 7 inlet;
#X obj 134 445 print midi-grid-knobs;
#X msg 151 136 17;
#X text 196 135 <------ Start at 17 for the grid knobs;
#X obj 134 360 spigot 1;
#X obj 195 311 r \$0-midi-mapper-active;
#X obj 195 336 == 0;
#X obj 134 420 spigot;
#X obj 179 390 r \$0-debug-log;
#X connect 1 0 5 0;
#X connect 2 0 4 0;
#X connect 2 1 1 0;
#X connect 3 0 5 1;
#X connect 4 0 5 1;
#X connect 4 0 11 1;
#X connect 5 0 4 1;
#X connect 6 0 8 0;
#X connect 7 0 10 0;
#X connect 8 0 9 0;
#X connect 8 0 2 0;
#X connect 9 0 8 1;
#X connect 10 0 11 0;
#X connect 10 1 6 0;
#X connect 10 2 3 0;
#X connect 10 2 14 0;
#X connect 11 0 0 0;
#X connect 11 0 16 0;
#X connect 12 0 7 0;
#X connect 14 0 8 1;
#X connect 16 0 19 0;
#X connect 17 0 18 0;
#X connect 18 0 16 1;
#X connect 19 0 13 0;
#X connect 20 0 19 1;
#X restore 201 220 pd grid-knobs;
#X text 43 221 Grid knobs -->;
#X text 27 15 Read in the data from the text object \$0-midi-map;
#N canvas 682 368 559 501 other-two-knobs 0;
#X obj 53 384 outlet;
#X obj 167 214 text get \$0-midi-map;
#X obj 130 188 t b f;
#X msg 252 164 bang;
#X obj 82 290 list prepend;
#X obj 167 253 list prepend;
#X obj 130 105 until;
#X obj 130 160 f 0;
#X obj 163 160 + 1;
#X obj 104 65 t b f b;
#X obj 53 322 list;
#X obj 104 7 inlet;
#X msg 104 40 2;
#X obj 148 460 print midi-a-b-knobs;
#X msg 151 136 33;
#X text 196 135 <------ Start at 33 for other 2 knobs;
#X obj 148 365 spigot 1;
#X obj 209 316 r \$0-midi-mapper-active;
#X obj 209 341 == 0;
#X obj 148 425 spigot;
#X obj 193 395 r \$0-debug-log;
#X connect 1 0 5 0;
#X connect 2 0 4 0;
#X connect 2 1 1 0;
#X connect 3 0 5 1;
#X connect 4 0 5 1;
#X connect 4 0 10 1;
#X connect 5 0 4 1;
#X connect 6 0 7 0;
#X connect 7 0 8 0;
#X connect 7 0 2 0;
#X connect 8 0 7 1;
#X connect 9 0 10 0;
#X connect 9 1 6 0;
#X connect 9 2 3 0;
#X connect 9 2 14 0;
#X connect 10 0 0 0;
#X connect 10 0 16 0;
#X connect 11 0 12 0;
#X connect 12 0 9 0;
#X connect 14 0 7 1;
#X connect 16 0 19 0;
#X connect 17 0 18 0;
#X connect 18 0 16 1;
#X connect 19 0 13 0;
#X connect 20 0 19 1;
#X restore 180 250 pd other-two-knobs;
#X obj 246 93 r \$0-refresh-midi-map;
#N canvas 0 81 604 180 set-midi-channel 0;
#X obj 75 104 text get \$0-midi-map;
#X obj 75 48 inlet;
#X msg 75 79 0;
#X obj 75 129 s \$0-midi-channel-r;
#X text 147 71 First line in the midi mapper file is the midi channel
;
#X connect 0 0 3 0;
#X connect 1 0 2 0;
#X connect 2 0 0 0;
#X restore 244 160 pd set-midi-channel;
#X obj 159 118 t b b b b b;
#X text 35 251 Other knobs -->;
#X text 19 281 Other buttons -->;
#X text 27 162 Midi channel -->;
#N canvas 101 450 569 472 other-buttons 0;
#X obj 53 384 outlet;
#X obj 167 214 text get \$0-midi-map;
#X obj 130 188 t b f;
#X msg 252 164 bang;
#X obj 82 290 list prepend;
#X obj 167 253 list prepend;
#X obj 130 105 until;
#X obj 130 160 f 0;
#X obj 163 160 + 1;
#X obj 104 65 t b f b;
#X obj 53 322 list;
#X obj 104 7 inlet;
#X text 197 135 <------ Start at 35 for other buttons;
#X obj 135 444 print midi-other-buttons;
#X msg 151 136 35;
#X msg 104 40 11;
#X obj 135 358 spigot 1;
#X obj 196 309 r \$0-midi-mapper-active;
#X obj 196 334 == 0;
#X obj 135 418 spigot;
#X obj 180 388 r \$0-debug-log;
#X connect 1 0 5 0;
#X connect 2 0 4 0;
#X connect 2 1 1 0;
#X connect 3 0 5 1;
#X connect 4 0 5 1;
#X connect 4 0 10 1;
#X connect 5 0 4 1;
#X connect 6 0 7 0;
#X connect 7 0 8 0;
#X connect 7 0 2 0;
#X connect 8 0 7 1;
#X connect 9 0 10 0;
#X connect 9 1 6 0;
#X connect 9 2 3 0;
#X connect 9 2 14 0;
#X connect 10 0 0 0;
#X connect 10 0 16 0;
#X connect 11 0 15 0;
#X connect 14 0 7 1;
#X connect 15 0 9 0;
#X connect 16 0 19 0;
#X connect 17 0 18 0;
#X connect 18 0 16 1;
#X connect 19 0 13 0;
#X connect 20 0 19 1;
#X restore 159 280 pd other-buttons;
#X connect 0 0 7 0;
#X connect 6 0 3 0;
#X connect 7 0 14 0;
#X connect 8 0 4 0;
#X connect 11 0 5 0;
#X connect 12 0 14 0;
#X connect 14 0 18 0;
#X connect 14 1 11 0;
#X connect 14 2 8 0;
#X connect 14 3 6 0;
#X connect 14 4 13 0;
#X connect 18 0 2 0;
#X restore 31 151 pd tbc-apply-midi-map;
#N canvas 762 534 450 300 flash-exit-label 0;
#X obj 81 53 r \$0-midi-mapper-active;
#X msg 81 197 label EXIT;
#X obj 81 115 f 0;
#X obj 122 115 + 1;
#X obj 81 140 mod 2;
#X obj 81 165 sel 0 1;
#X msg 181 197 label empty;
#X obj 81 234 s \$0-midi-control-btn-r;
#X obj 81 90 metro 150;
#X connect 0 0 8 0;
#X connect 1 0 7 0;
#X connect 2 0 3 0;
#X connect 2 0 4 0;
#X connect 3 0 2 1;
#X connect 4 0 5 0;
#X connect 5 0 1 0;
#X connect 5 1 6 0;
#X connect 6 0 7 0;
#X connect 8 0 2 0;
#X restore 31 181 pd flash-exit-label;
#X restore 41 34 pd midi-mapping;
#N canvas 18 126 1182 700 detect-buttons 0;
#N canvas 0 266 1265 627 grid-buttons 0;
#X obj 21 588 s \$0-grid-btn-0-r;
#X obj 81 568 s \$0-grid-btn-1-r;
#X obj 142 548 s \$0-grid-btn-2-r;
#X obj 203 528 s \$0-grid-btn-3-r;
#X obj 264 508 s \$0-grid-btn-4-r;
#X obj 325 488 s \$0-grid-btn-5-r;
#X obj 385 468 s \$0-grid-btn-6-r;
#X obj 446 448 s \$0-grid-btn-7-r;
#X obj 507 428 s \$0-grid-btn-8-r;
#X obj 568 408 s \$0-grid-btn-9-r;
#X obj 629 388 s \$0-grid-btn-10-r;
#X obj 689 368 s \$0-grid-btn-11-r;
#X obj 750 348 s \$0-grid-btn-12-r;
#X obj 811 328 s \$0-grid-btn-13-r;
#X obj 872 308 s \$0-grid-btn-14-r;
#X obj 933 288 s \$0-grid-btn-15-r;
#X obj 21 98 inlet;
#X obj 114 92 unpack f f f f f f f f f f f f f f f f;
#X obj 114 59 r \$0-packed-midi-notes-for-grid-buttons;
#X obj 21 233 sel -1;
#X obj 81 233 sel -1;
#X obj 142 233 sel -1;
#X obj 203 233 sel -1;
#X obj 264 233 sel -1;
#X obj 325 233 sel -1;
#X obj 385 233 sel -1;
#X obj 446 233 sel -1;
#X obj 507 233 sel -1;
#X obj 568 233 sel -1;
#X obj 629 233 sel -1;
#X obj 689 233 sel -1;
#X obj 750 233 sel -1;
#X obj 811 233 sel -1;
#X obj 872 233 sel -1;
#X obj 933 233 sel -1;
#X connect 16 0 19 0;
#X connect 16 0 20 0;
#X connect 16 0 21 0;
#X connect 16 0 22 0;
#X connect 16 0 23 0;
#X connect 16 0 24 0;
#X connect 16 0 25 0;
#X connect 16 0 26 0;
#X connect 16 0 27 0;
#X connect 16 0 28 0;
#X connect 16 0 29 0;
#X connect 16 0 30 0;
#X connect 16 0 31 0;
#X connect 16 0 32 0;
#X connect 16 0 33 0;
#X connect 16 0 34 0;
#X connect 17 0 19 1;
#X connect 17 1 20 1;
#X connect 17 2 21 1;
#X connect 17 3 22 1;
#X connect 17 4 23 1;
#X connect 17 5 24 1;
#X connect 17 6 25 1;
#X connect 17 7 26 1;
#X connect 17 8 27 1;
#X connect 17 9 28 1;
#X connect 17 10 29 1;
#X connect 17 11 30 1;
#X connect 17 12 31 1;
#X connect 17 13 32 1;
#X connect 17 14 33 1;
#X connect 17 15 34 1;
#X connect 18 0 17 0;
#X connect 19 0 0 0;
#X connect 20 0 1 0;
#X connect 21 0 2 0;
#X connect 22 0 3 0;
#X connect 23 0 4 0;
#X connect 24 0 5 0;
#X connect 25 0 6 0;
#X connect 26 0 7 0;
#X connect 27 0 8 0;
#X connect 28 0 9 0;
#X connect 29 0 10 0;
#X connect 30 0 11 0;
#X connect 31 0 12 0;
#X connect 32 0 13 0;
#X connect 33 0 14 0;
#X connect 34 0 15 0;
#X restore 63 473 pd grid-buttons;
#X obj 63 291 spigot 1;
#X obj 301 601 s \$0-sound-btn-r;
#X obj 361 581 s \$0-pattern-btn-r;
#X obj 422 561 s \$0-bpm-btn-r;
#X floatatom 16 47 5 0 0 0 - - -;
#X obj 795 461 s \$0-funct-btn-r;
#X obj 875 441 s \$0-fx-btn-r;
#X obj 956 421 s \$0-play-btn-r;
#X obj 1037 401 s \$0-write-btn-r;
#X obj 108 125 r \$0-midi-control-s;
#X obj 63 155 spigot;
#X obj 483 541 s \$0-samples-btn-r;
#X obj 346 142 r \$0-packed-midi-notes-for-other-buttons;
#X text 410 9 Get midi input from buttons;
#X obj 346 175 unpack f f f f f f f f f f f;
#X obj 301 346 sel -1;
#X obj 361 346 sel -1;
#X obj 422 346 sel -1;
#X obj 483 346 sel -1;
#X obj 554 346 sel -1;
#X obj 635 346 sel -1;
#X obj 715 346 sel -1;
#X obj 795 346 sel -1;
#X obj 875 346 sel -1;
#X obj 956 346 sel -1;
#X obj 1037 346 sel -1;
#X obj 124 160 r \$0-midi-mapper-active;
#X obj 124 185 == 0;
#X obj 63 210 spigot 1;
#X obj 114 256 > 0;
#X obj 63 13 notein;
#X obj 108 39 sel 1;
#X msg 108 64 1;
#X msg 145 64 0;
#X obj 63 96 spigot;
#X obj 715 481 s \$0-midi-control-btn-r;
#X obj 635 501 s \$0-key-control-btn-r;
#X obj 145 9 r \$0-midi-channel-s;
#X obj 554 521 s \$0-ext-step-btn-r;
#X connect 1 0 0 0;
#X connect 1 0 16 0;
#X connect 1 0 17 0;
#X connect 1 0 18 0;
#X connect 1 0 19 0;
#X connect 1 0 20 0;
#X connect 1 0 21 0;
#X connect 1 0 22 0;
#X connect 1 0 23 0;
#X connect 1 0 24 0;
#X connect 1 0 25 0;
#X connect 1 0 26 0;
#X connect 10 0 11 1;
#X connect 11 0 29 0;
#X connect 13 0 15 0;
#X connect 15 0 16 1;
#X connect 15 1 17 1;
#X connect 15 2 18 1;
#X connect 15 3 19 1;
#X connect 15 4 20 1;
#X connect 15 5 21 1;
#X connect 15 6 22 1;
#X connect 15 7 23 1;
#X connect 15 8 24 1;
#X connect 15 9 25 1;
#X connect 15 10 26 1;
#X connect 16 0 2 0;
#X connect 17 0 3 0;
#X connect 18 0 4 0;
#X connect 19 0 12 0;
#X connect 20 0 39 0;
#X connect 21 0 37 0;
#X connect 22 0 36 0;
#X connect 23 0 6 0;
#X connect 24 0 7 0;
#X connect 25 0 8 0;
#X connect 26 0 9 0;
#X connect 27 0 28 0;
#X connect 28 0 29 1;
#X connect 29 0 1 0;
#X connect 30 0 1 1;
#X connect 31 0 5 0;
#X connect 31 0 35 0;
#X connect 31 1 30 0;
#X connect 31 2 32 0;
#X connect 32 0 33 0;
#X connect 32 1 34 0;
#X connect 33 0 35 1;
#X connect 34 0 35 1;
#X connect 35 0 11 0;
#X connect 38 0 32 1;
#X restore 41 94 pd detect-buttons;
#N canvas 0 81 1265 779 detect-knobs 0;
#X obj 37 8 ctlin;
#X obj 82 75 sel 1;
#X msg 82 103 1;
#X msg 119 103 0;
#X obj 37 135 spigot;
#X obj 37 739 s \$0-grid-knob-0-r;
#X obj 37 709 spigot;
#X msg 82 321 1, f 1;
#X msg 107 321 0, f 1;
#X obj 97 689 spigot;
#X obj 97 719 s \$0-grid-knob-1-r;
#X msg 142 321 1, f 1;
#X msg 167 321 0, f 1;
#X obj 82 213 f;
#X obj 37 349 / 127;
#X obj 157 669 spigot;
#X msg 202 321 1, f 1;
#X msg 227 321 0, f 1;
#X obj 217 649 spigot;
#X msg 262 321 1, f 1;
#X msg 287 321 0, f 1;
#X obj 157 699 s \$0-grid-knob-2-r;
#X obj 217 679 s \$0-grid-knob-3-r;
#X obj 277 629 spigot;
#X msg 322 321 1, f 1;
#X msg 347 321 0, f 1;
#X obj 337 609 spigot;
#X msg 382 321 1, f 1;
#X msg 407 321 0, f 1;
#X obj 397 589 spigot;
#X msg 442 321 1, f 1;
#X msg 467 321 0, f 1;
#X obj 457 569 spigot;
#X msg 502 321 1, f 1;
#X msg 527 321 0, f 1;
#X obj 277 659 s \$0-grid-knob-4-r;
#X obj 337 639 s \$0-grid-knob-5-r;
#X obj 397 619 s \$0-grid-knob-6-r;
#X obj 457 599 s \$0-grid-knob-7-r;
#X obj 517 549 spigot;
#X msg 562 321 1, f 1;
#X msg 587 321 0, f 1;
#X obj 577 529 spigot;
#X msg 622 321 1, f 1;
#X msg 647 321 0, f 1;
#X obj 637 509 spigot;
#X msg 682 321 1, f 1;
#X msg 707 321 0, f 1;
#X obj 697 489 spigot;
#X msg 742 321 1, f 1;
#X msg 767 321 0, f 1;
#X obj 757 469 spigot;
#X msg 802 321 1, f 1;
#X msg 827 321 0, f 1;
#X obj 817 449 spigot;
#X msg 862 321 1, f 1;
#X msg 887 321 0, f 1;
#X obj 877 429 spigot;
#X msg 922 321 1, f 1;
#X msg 947 321 0, f 1;
#X obj 937 409 spigot;
#X msg 982 321 1, f 1;
#X msg 1007 321 0, f 1;
#X obj 517 579 s \$0-grid-knob-8-r;
#X obj 577 559 s \$0-grid-knob-9-r;
#X obj 637 539 s \$0-grid-knob-10-r;
#X obj 697 519 s \$0-grid-knob-11-r;
#X obj 757 499 s \$0-grid-knob-12-r;
#X obj 817 479 s \$0-grid-knob-13-r;
#X obj 877 459 s \$0-grid-knob-14-r;
#X obj 937 439 s \$0-grid-knob-15-r;
#X obj 446 168 unpack f f f f f f f f f f f f f f f f;
#X floatatom 117 213 5 0 0 1 Control_number - -;
#X obj 92 8 r \$0-midi-control-s;
#X obj 37 43 spigot;
#X obj 1037 389 spigot;
#X msg 1082 321 1, f 1;
#X msg 1107 321 0, f 1;
#X obj 1097 369 spigot;
#X msg 1142 321 1, f 1;
#X msg 1167 321 0, f 1;
#X obj 1037 419 s \$0-knob-0-r;
#X obj 1097 399 s \$0-knob-1-r;
#X obj 446 142 r \$0-packed-midi-notes-for-grid-knobs;
#X obj 834 142 r \$0-packed-midi-notes-for-a-b-knobs;
#X obj 834 167 unpack f f;
#X text 442 14 Get midi input from knobs;
#X obj 82 291 sel -1;
#X obj 142 291 sel -1;
#X obj 202 291 sel -1;
#X obj 262 291 sel -1;
#X obj 322 291 sel -1;
#X obj 382 291 sel -1;
#X obj 442 291 sel -1;
#X obj 502 291 sel -1;
#X obj 562 291 sel -1;
#X obj 622 291 sel -1;
#X obj 682 291 sel -1;
#X obj 742 291 sel -1;
#X obj 802 291 sel -1;
#X obj 862 291 sel -1;
#X obj 922 291 sel -1;
#X obj 982 291 sel -1;
#X obj 1082 291 sel -1;
#X obj 1142 291 sel -1;
#X obj 98 136 r \$0-midi-mapper-active;
#X obj 98 161 == 0;
#X obj 37 186 spigot 1;
#X obj 119 47 r \$0-midi-channel-s;
#X connect 0 0 74 0;
#X connect 0 1 13 0;
#X connect 0 2 1 0;
#X connect 1 0 2 0;
#X connect 1 1 3 0;
#X connect 2 0 4 1;
#X connect 3 0 4 1;
#X connect 4 0 107 0;
#X connect 6 0 5 0;
#X connect 7 0 6 1;
#X connect 8 0 6 1;
#X connect 9 0 10 0;
#X connect 11 0 9 1;
#X connect 12 0 9 1;
#X connect 13 0 72 0;
#X connect 13 0 87 0;
#X connect 13 0 88 0;
#X connect 13 0 89 0;
#X connect 13 0 90 0;
#X connect 13 0 91 0;
#X connect 13 0 92 0;
#X connect 13 0 93 0;
#X connect 13 0 94 0;
#X connect 13 0 95 0;
#X connect 13 0 96 0;
#X connect 13 0 97 0;
#X connect 13 0 98 0;
#X connect 13 0 99 0;
#X connect 13 0 100 0;
#X connect 13 0 101 0;
#X connect 13 0 102 0;
#X connect 13 0 103 0;
#X connect 13 0 104 0;
#X connect 14 0 6 0;
#X connect 14 0 9 0;
#X connect 14 0 15 0;
#X connect 14 0 18 0;
#X connect 14 0 23 0;
#X connect 14 0 26 0;
#X connect 14 0 29 0;
#X connect 14 0 32 0;
#X connect 14 0 39 0;
#X connect 14 0 42 0;
#X connect 14 0 45 0;
#X connect 14 0 48 0;
#X connect 14 0 51 0;
#X connect 14 0 54 0;
#X connect 14 0 57 0;
#X connect 14 0 60 0;
#X connect 14 0 75 0;
#X connect 14 0 78 0;
#X connect 15 0 21 0;
#X connect 16 0 15 1;
#X connect 17 0 15 1;
#X connect 18 0 22 0;
#X connect 19 0 18 1;
#X connect 20 0 18 1;
#X connect 23 0 35 0;
#X connect 24 0 23 1;
#X connect 25 0 23 1;
#X connect 26 0 36 0;
#X connect 27 0 26 1;
#X connect 28 0 26 1;
#X connect 29 0 37 0;
#X connect 30 0 29 1;
#X connect 31 0 29 1;
#X connect 32 0 38 0;
#X connect 33 0 32 1;
#X connect 34 0 32 1;
#X connect 39 0 63 0;
#X connect 40 0 39 1;
#X connect 41 0 39 1;
#X connect 42 0 64 0;
#X connect 43 0 42 1;
#X connect 44 0 42 1;
#X connect 45 0 65 0;
#X connect 46 0 45 1;
#X connect 47 0 45 1;
#X connect 48 0 66 0;
#X connect 49 0 48 1;
#X connect 50 0 48 1;
#X connect 51 0 67 0;
#X connect 52 0 51 1;
#X connect 53 0 51 1;
#X connect 54 0 68 0;
#X connect 55 0 54 1;
#X connect 56 0 54 1;
#X connect 57 0 69 0;
#X connect 58 0 57 1;
#X connect 59 0 57 1;
#X connect 60 0 70 0;
#X connect 61 0 60 1;
#X connect 62 0 60 1;
#X connect 71 0 87 1;
#X connect 71 1 88 1;
#X connect 71 2 89 1;
#X connect 71 3 90 1;
#X connect 71 4 91 1;
#X connect 71 5 92 1;
#X connect 71 6 93 1;
#X connect 71 7 94 1;
#X connect 71 8 95 1;
#X connect 71 9 96 1;
#X connect 71 10 97 1;
#X connect 71 11 98 1;
#X connect 71 12 99 1;
#X connect 71 13 100 1;
#X connect 71 14 101 1;
#X connect 71 15 102 1;
#X connect 73 0 74 1;
#X connect 74 0 4 0;
#X connect 75 0 81 0;
#X connect 76 0 75 1;
#X connect 77 0 75 1;
#X connect 78 0 82 0;
#X connect 79 0 78 1;
#X connect 80 0 78 1;
#X connect 83 0 71 0;
#X connect 84 0 85 0;
#X connect 85 0 103 1;
#X connect 85 1 104 1;
#X connect 87 0 7 0;
#X connect 87 1 8 0;
#X connect 88 0 11 0;
#X connect 88 1 12 0;
#X connect 89 0 16 0;
#X connect 89 1 17 0;
#X connect 90 0 19 0;
#X connect 90 1 20 0;
#X connect 91 0 24 0;
#X connect 91 1 25 0;
#X connect 92 0 27 0;
#X connect 92 1 28 0;
#X connect 93 0 30 0;
#X connect 93 1 31 0;
#X connect 94 0 33 0;
#X connect 94 1 34 0;
#X connect 95 0 40 0;
#X connect 95 1 41 0;
#X connect 96 0 43 0;
#X connect 96 1 44 0;
#X connect 97 0 46 0;
#X connect 97 1 47 0;
#X connect 98 0 49 0;
#X connect 98 1 50 0;
#X connect 99 0 52 0;
#X connect 99 1 53 0;
#X connect 100 0 55 0;
#X connect 100 1 56 0;
#X connect 101 0 58 0;
#X connect 101 1 59 0;
#X connect 102 0 61 0;
#X connect 102 1 62 0;
#X connect 103 0 76 0;
#X connect 103 1 77 0;
#X connect 104 0 79 0;
#X connect 104 1 80 0;
#X connect 105 0 106 0;
#X connect 106 0 107 1;
#X connect 107 0 14 0;
#X connect 108 0 1 1;
#X restore 41 114 pd detect-knobs;
#X msg 502 193 50;
#N canvas 724 141 413 353 midi-control-on-off 0;
#X obj 52 33 r \$0-midi-control-btn-1-s;
#X obj 52 288 s \$0-midi-control-s;
#X obj 113 63 r \$0-midi-mapper-active;
#X obj 113 88 == 0;
#X obj 52 118 spigot 1;
#X obj 52 253 spigot 1;
#X obj 113 148 r \$0-global-state-1;
#X msg 113 216 0;
#X msg 358 216 1;
#X obj 113 173 sel funct-mode midi-mapper-mode;
#X obj 31 294 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X connect 0 0 4 0;
#X connect 2 0 3 0;
#X connect 3 0 4 1;
#X connect 4 0 5 0;
#X connect 5 0 1 0;
#X connect 5 0 10 0;
#X connect 6 0 9 0;
#X connect 7 0 5 1;
#X connect 8 0 5 1;
#X connect 9 0 7 0;
#X connect 9 1 7 0;
#X connect 9 2 8 0;
#X restore 41 54 pd midi-control-on-off;
#X text 306 29 Midi control subpatches.;
#X connect 3 0 6 0;
#X connect 4 0 2 0;
#X connect 6 0 4 0;
#X connect 7 0 12 0;
#X connect 12 0 8 0;
#X restore 871 285 pd midi-control;
#X text 739 286 MIDI is here -->;
#N canvas 56 734 760 216 oneshot-play 0;
#N canvas 747 69 781 859 one-shot-play 0;
#X obj 47 1745 change;
#X obj 47 1775 sel 1;
#X obj 47 1805 s \$0-play-sample-0-r;
#X obj 47 30 r \$0-packed-grid-buttons;
#X obj 47 375 unpack f f f f f f f f f f f f f f f f;
#X obj 67 1655 change;
#X obj 67 1685 sel 1;
#X obj 87 1565 change;
#X obj 87 1595 sel 1;
#X obj 107 1475 change;
#X obj 107 1505 sel 1;
#X obj 127 1385 change;
#X obj 127 1415 sel 1;
#X obj 147 1295 change;
#X obj 147 1325 sel 1;
#X obj 167 1205 change;
#X obj 167 1235 sel 1;
#X obj 187 1115 change;
#X obj 187 1145 sel 1;
#X obj 207 1025 change;
#X obj 207 1055 sel 1;
#X obj 227 935 change;
#X obj 227 965 sel 1;
#X obj 247 845 change;
#X obj 247 875 sel 1;
#X obj 267 755 change;
#X obj 267 785 sel 1;
#X obj 287 675 change;
#X obj 287 705 sel 1;
#X obj 307 585 change;
#X obj 307 615 sel 1;
#X obj 327 495 change;
#X obj 327 525 sel 1;
#X obj 348 405 change;
#X obj 348 435 sel 1;
#X obj 87 1625 s \$0-play-sample-2-r;
#X obj 107 1535 s \$0-play-sample-3-r;
#X obj 127 1445 s \$0-play-sample-4-r;
#X obj 147 1355 s \$0-play-sample-5-r;
#X obj 167 1265 s \$0-play-sample-6-r;
#X obj 187 1175 s \$0-play-sample-7-r;
#X obj 207 1085 s \$0-play-sample-8-r;
#X obj 227 995 s \$0-play-sample-9-r;
#X obj 247 905 s \$0-play-sample-10-r;
#X obj 267 815 s \$0-play-sample-11-r;
#X obj 287 725 s \$0-play-sample-12-r;
#X obj 307 645 s \$0-play-sample-13-r;
#X obj 327 555 s \$0-play-sample-14-r;
#X obj 348 465 s \$0-play-sample-15-r;
#X obj 153 122 r \$0-one-shot-mode-on-off;
#X obj 108 155 f;
#X obj 122 112 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X msg 153 180 0;
#X text 247 217 When one shot mode is turned off \, immediately set
the spigot to off.;
#X text 246 148 If one shot mode is turned on \, wait until the pattern
is hidden before activating. This prevents the pattern from triggering
the sounds wherever a step was active on the 4x4 grid.;
#X obj 67 1715 s \$0-play-sample-1-r;
#X obj 47 227 spigot 1;
#X floatatom 122 228 5 0 0 0 - - -;
#N canvas 61 167 729 469 record-mode 0;
#X obj 27 12 inlet;
#X obj 27 42 unpack f f f f f f f f f f f f f f f f;
#X msg 227 407 0;
#X msg 247 387 1;
#X msg 267 367 2;
#X msg 287 347 3;
#X msg 307 327 4;
#X msg 327 307 5;
#X msg 347 287 6;
#X msg 367 267 7;
#X msg 387 247 8;
#X msg 407 227 9;
#X msg 427 207 10;
#X msg 447 187 11;
#X msg 467 167 12;
#X msg 487 147 13;
#X msg 507 127 14;
#X msg 528 107 15;
#X obj 528 427 s \$0-record-note-to-seq;
#X obj 501 14 inlet reset;
#X obj 307 107 tbc-utils/route-once 1;
#X obj 328 87 tbc-utils/route-once 1;
#X obj 287 127 tbc-utils/route-once 1;
#X obj 267 147 tbc-utils/route-once 1;
#X obj 247 167 tbc-utils/route-once 1;
#X obj 227 187 tbc-utils/route-once 1;
#X obj 207 207 tbc-utils/route-once 1;
#X obj 187 227 tbc-utils/route-once 1;
#X obj 167 247 tbc-utils/route-once 1;
#X obj 147 267 tbc-utils/route-once 1;
#X obj 127 287 tbc-utils/route-once 1;
#X obj 107 307 tbc-utils/route-once 1;
#X obj 87 327 tbc-utils/route-once 1;
#X obj 67 347 tbc-utils/route-once 1;
#X obj 47 367 tbc-utils/route-once 1;
#X obj 27 387 tbc-utils/route-once 1;
#X connect 0 0 1 0;
#X connect 1 0 35 0;
#X connect 1 1 34 0;
#X connect 1 2 33 0;
#X connect 1 3 32 0;
#X connect 1 4 31 0;
#X connect 1 5 30 0;
#X connect 1 6 29 0;
#X connect 1 7 28 0;
#X connect 1 8 27 0;
#X connect 1 9 26 0;
#X connect 1 10 25 0;
#X connect 1 11 24 0;
#X connect 1 12 23 0;
#X connect 1 13 22 0;
#X connect 1 14 20 0;
#X connect 1 15 21 0;
#X connect 2 0 18 0;
#X connect 3 0 18 0;
#X connect 4 0 18 0;
#X connect 5 0 18 0;
#X connect 6 0 18 0;
#X connect 7 0 18 0;
#X connect 8 0 18 0;
#X connect 9 0 18 0;
#X connect 10 0 18 0;
#X connect 11 0 18 0;
#X connect 12 0 18 0;
#X connect 13 0 18 0;
#X connect 14 0 18 0;
#X connect 15 0 18 0;
#X connect 16 0 18 0;
#X connect 17 0 18 0;
#X connect 19 0 20 1;
#X connect 19 0 21 1;
#X connect 19 0 22 1;
#X connect 19 0 23 1;
#X connect 19 0 24 1;
#X connect 19 0 25 1;
#X connect 19 0 26 1;
#X connect 19 0 27 1;
#X connect 19 0 28 1;
#X connect 19 0 29 1;
#X connect 19 0 30 1;
#X connect 19 0 31 1;
#X connect 19 0 32 1;
#X connect 19 0 33 1;
#X connect 19 0 34 1;
#X connect 19 0 35 1;
#X connect 20 0 16 0;
#X connect 21 0 17 0;
#X connect 22 0 15 0;
#X connect 23 0 14 0;
#X connect 24 0 13 0;
#X connect 25 0 12 0;
#X connect 26 0 11 0;
#X connect 27 0 10 0;
#X connect 28 0 9 0;
#X connect 29 0 8 0;
#X connect 30 0 7 0;
#X connect 31 0 6 0;
#X connect 32 0 5 0;
#X connect 33 0 4 0;
#X connect 34 0 3 0;
#X connect 35 0 2 0;
#X restore 70 335 pd record-mode;
#X obj 70 305 spigot 0;
#X obj 108 80 r \$0-sequence-is-hidden;
#X obj 323 315 t b;
#X obj 153 147 sel 0 1;
#X obj 323 268 r \$0-current-step-late;
#X obj 131 275 r \$0-recording-gates;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 3 0 56 0;
#X connect 4 0 0 0;
#X connect 4 1 5 0;
#X connect 4 2 7 0;
#X connect 4 3 9 0;
#X connect 4 4 11 0;
#X connect 4 5 13 0;
#X connect 4 6 15 0;
#X connect 4 7 17 0;
#X connect 4 8 19 0;
#X connect 4 9 21 0;
#X connect 4 10 23 0;
#X connect 4 11 25 0;
#X connect 4 12 27 0;
#X connect 4 13 29 0;
#X connect 4 14 31 0;
#X connect 4 15 33 0;
#X connect 5 0 6 0;
#X connect 6 0 55 0;
#X connect 7 0 8 0;
#X connect 8 0 35 0;
#X connect 9 0 10 0;
#X connect 10 0 36 0;
#X connect 11 0 12 0;
#X connect 12 0 37 0;
#X connect 13 0 14 0;
#X connect 14 0 38 0;
#X connect 15 0 16 0;
#X connect 16 0 39 0;
#X connect 17 0 18 0;
#X connect 18 0 40 0;
#X connect 19 0 20 0;
#X connect 20 0 41 0;
#X connect 21 0 22 0;
#X connect 22 0 42 0;
#X connect 23 0 24 0;
#X connect 24 0 43 0;
#X connect 25 0 26 0;
#X connect 26 0 44 0;
#X connect 27 0 28 0;
#X connect 28 0 45 0;
#X connect 29 0 30 0;
#X connect 30 0 46 0;
#X connect 31 0 32 0;
#X connect 32 0 47 0;
#X connect 33 0 34 0;
#X connect 34 0 48 0;
#X connect 49 0 50 1;
#X connect 49 0 62 0;
#X connect 50 0 56 1;
#X connect 50 0 57 0;
#X connect 52 0 56 1;
#X connect 52 0 57 0;
#X connect 56 0 4 0;
#X connect 56 0 59 0;
#X connect 59 0 58 0;
#X connect 60 0 50 0;
#X connect 60 0 51 0;
#X connect 61 0 58 1;
#X connect 62 0 52 0;
#X connect 62 1 58 1;
#X connect 63 0 61 0;
#X connect 64 0 59 1;
#X restore 29 62 pd one-shot-play;
#N canvas 1247 323 581 574 get-toggle-flash-speed 0;
#X obj 120 454 s \$0-clear-grid;
#X obj 83 230 spigot;
#X obj 83 480 s \$0-clear-toggle-backgrounds;
#X text 79 506 Reset the background color of the grid toggles;
#X text 247 454 Turn off all grid buttons;
#X obj 59 273 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 128 175 r \$0-one-shot-mode-on-off;
#X obj 128 200 t f f;
#X obj 165 230 sel 1;
#X text 215 232 When turned on \, immediately clear grid;
#X obj 35 172 del 20;
#X obj 35 17 r \$0-clock;
#X obj 80 117 / 3;
#X obj 80 142 * 2;
#X text 89 62 Flash is active for 3/4 of the clock tempo;
#X obj 83 336 t b b;
#X obj 80 89 r \$0-clock-time-ms;
#X obj 152 335 metro 50;
#X connect 1 0 5 0;
#X connect 1 0 15 0;
#X connect 6 0 7 0;
#X connect 7 0 1 1;
#X connect 7 0 17 0;
#X connect 7 1 8 0;
#X connect 8 0 15 0;
#X connect 10 0 1 0;
#X connect 11 0 10 0;
#X connect 12 0 13 0;
#X connect 13 0 10 1;
#X connect 15 0 2 0;
#X connect 15 1 0 0;
#X connect 16 0 12 0;
#X connect 17 0 0 0;
#X restore 29 132 pd get-toggle-flash-speed;
#X text 184 53 oneshot-play handles triggering the sounds when the
toggles are pressed;
#N canvas 444 320 579 592 oneshot-color-toggle-backgrounds 0;
#X obj 59 512 s \$0-current-grid-button;
#X obj 22 486 t b f;
#X obj 67 53 r \$0-one-shot-mode-on-off;
#X text 75 452 By setting the current grid button to match the sound
that is playing \, we change the color of that grid button within the
sequencer-grid-colors subpatch;
#N canvas 232 410 966 515 get-sample-played-bangs 0;
#X msg 40 60 0;
#X msg 90 80 1;
#X msg 140 100 2;
#X msg 190 120 3;
#X msg 240 140 4;
#X msg 290 160 5;
#X msg 340 180 6;
#X msg 390 200 7;
#X obj 40 425 outlet;
#X msg 440 220 8;
#X msg 490 240 9;
#X msg 540 260 10;
#X msg 590 280 11;
#X msg 640 299 12;
#X msg 690 320 13;
#X msg 740 340 14;
#X msg 790 360 15;
#X text 370 16 Get the gates from all of the different sequencers;
#X obj 40 15 r \$0-play-sample-0-s;
#X obj 90 35 r \$0-play-sample-1-s;
#X obj 140 55 r \$0-play-sample-2-s;
#X obj 190 75 r \$0-play-sample-3-s;
#X obj 240 95 r \$0-play-sample-4-s;
#X obj 290 115 r \$0-play-sample-5-s;
#X obj 340 135 r \$0-play-sample-6-s;
#X obj 390 155 r \$0-play-sample-7-s;
#X obj 440 175 r \$0-play-sample-8-s;
#X obj 490 195 r \$0-play-sample-9-s;
#X obj 540 215 r \$0-play-sample-10-s;
#X obj 590 235 r \$0-play-sample-11-s;
#X obj 640 255 r \$0-play-sample-12-s;
#X obj 690 275 r \$0-play-sample-13-s;
#X obj 740 295 r \$0-play-sample-14-s;
#X obj 790 315 r \$0-play-sample-15-s;
#X connect 0 0 8 0;
#X connect 1 0 8 0;
#X connect 2 0 8 0;
#X connect 3 0 8 0;
#X connect 4 0 8 0;
#X connect 5 0 8 0;
#X connect 6 0 8 0;
#X connect 7 0 8 0;
#X connect 9 0 8 0;
#X connect 10 0 8 0;
#X connect 11 0 8 0;
#X connect 12 0 8 0;
#X connect 13 0 8 0;
#X connect 14 0 8 0;
#X connect 15 0 8 0;
#X connect 16 0 8 0;
#X connect 18 0 0 0;
#X connect 19 0 1 0;
#X connect 20 0 2 0;
#X connect 21 0 3 0;
#X connect 22 0 4 0;
#X connect 23 0 5 0;
#X connect 24 0 6 0;
#X connect 25 0 7 0;
#X connect 26 0 9 0;
#X connect 27 0 10 0;
#X connect 28 0 11 0;
#X connect 29 0 12 0;
#X connect 30 0 13 0;
#X connect 31 0 14 0;
#X connect 32 0 15 0;
#X connect 33 0 16 0;
#X restore 22 15 pd get-sample-played-bangs;
#X obj 162 322 == 0;
#X obj 154 193 r \$0-clock-time-ms;
#X obj 154 220 / 3;
#X obj 154 245 * 2;
#X obj 22 541 s \$0-color-grid-button;
#X obj 22 221 spigot;
#X obj 101 349 spigot 1;
#X obj 162 297 r \$0-playing;
#X obj 101 379 s \$0-clear-specific-button;
#X obj 101 271 pipe 50;
#X connect 1 0 9 0;
#X connect 1 1 0 0;
#X connect 2 0 10 1;
#X connect 4 0 10 0;
#X connect 5 0 11 1;
#X connect 6 0 7 0;
#X connect 7 0 8 0;
#X connect 8 0 14 1;
#X connect 10 0 1 0;
#X connect 10 0 14 0;
#X connect 11 0 13 0;
#X connect 12 0 5 0;
#X connect 14 0 11 0;
#X restore 29 172 pd oneshot-color-toggle-backgrounds;
#X text 265 127 Get the speed to flash the toggles when in one shot
mode;
#X text 334 173 Color the backgrounds based on this speed;
#N canvas 645 50 731 739 record-notes-to-sequencers 0;
#X obj 13 395 r \$0-record-note-to-seq;
#X text 10 368 Get sequence for button pressed;
#N canvas 881 319 753 693 flash-write-button 0;
#X msg 40 589 color \$1 \$2 \$3;
#X obj 109 304 list;
#X obj 40 304 list;
#X obj 138 179 sel 0;
#X obj 101 149 t f f;
#X obj 40 92 mod 2;
#X obj 40 62 r \$0-current-step;
#X obj 209 269 r \$0-modifier-colors-normal;
#X obj 199 249 r \$0-modifier-colors-flashing;
#X obj 138 204 del 100;
#X obj 40 211 sel 1 0;
#X obj 40 178 spigot 0;
#X obj 40 559 spigot 0;
#X obj 175 489 r \$0-bang-on-load-1;
#X obj 175 514 del 500;
#X msg 175 539 1;
#X text 246 517 Prevent error messages from trying to set colors when
list is empty on startup;
#X obj 275 378 r \$0-global-state-off;
#X obj 101 378 r \$0-global-state-on;
#X msg 101 433 1;
#X msg 408 433 0;
#X obj 40 473 spigot 0;
#X text 75 16 Flash the write button when recording (aka "looper" mode).
;
#X obj 275 403 sel one-shot-mode;
#X obj 101 403 sel one-shot-mode;
#X obj 208 179 r \$0-playing;
#X obj 208 204 sel 0;
#X obj 408 458 del 5;
#X obj 408 483 t b;
#X obj 101 124 r \$0-recording-gates;
#X msg 40 349 \$3 \$3 \$1;
#X obj 40 619 s \$0-play-btn-r;
#X connect 0 0 31 0;
#X connect 1 0 12 0;
#X connect 2 0 30 0;
#X connect 3 0 9 0;
#X connect 4 0 11 1;
#X connect 4 1 3 0;
#X connect 5 0 11 0;
#X connect 6 0 5 0;
#X connect 7 0 1 1;
#X connect 8 0 2 1;
#X connect 9 0 1 0;
#X connect 10 0 2 0;
#X connect 10 1 1 0;
#X connect 11 0 10 0;
#X connect 12 0 0 0;
#X connect 13 0 14 0;
#X connect 14 0 15 0;
#X connect 15 0 12 1;
#X connect 17 0 23 0;
#X connect 18 0 24 0;
#X connect 19 0 21 1;
#X connect 20 0 21 1;
#X connect 20 0 27 0;
#X connect 21 0 12 0;
#X connect 23 1 20 0;
#X connect 24 0 19 0;
#X connect 25 0 26 0;
#X connect 26 0 1 0;
#X connect 27 0 28 0;
#X connect 28 0 1 0;
#X connect 29 0 4 0;
#X connect 30 0 21 0;
#X restore 49 337 pd flash-write-button;
#N canvas 814 50 867 904 list-of-updates-to-make 0;
#X obj 96 108 text define \$0-sequences-to-update;
#X obj 18 163 text delete \$0-sequences-to-update;
#X msg 18 136 -1;
#X obj 55 356 text get \$0-sequences-to-update;
#X obj 54 257 until;
#X obj 55 306 f 0;
#X obj 93 306 + 1;
#X msg 76 280 0;
#X obj 55 219 t f b;
#X obj 55 331 t f f;
#X obj 55 406 list prepend;
#X obj 55 431 list trim;
#X obj 148 381 mod 2;
#X obj 55 193 text size \$0-sequences-to-update;
#X obj 18 72 bng 30 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 55 485 route 1 0;
#X obj 18 107 t b b;
#X obj 55 823 s;
#X obj 18 8 inlet;
#X obj 249 865 s;
#X msg 249 696 0;
#X obj 366 497 r \$0-packed-gate-seq;
#X obj 366 546 spigot;
#X obj 623 286 r \$0-one-shot-mode-on-off;
#X obj 623 526 &&;
#X obj 633 316 r \$0-clearing-grid;
#X obj 633 346 == 0;
#X obj 633 496 t b f;
#X obj 633 466 &&;
#X obj 643 406 == 0;
#X obj 643 436 t b f;
#X obj 643 376 r \$0-updating-pattern;
#X obj 270 837 symbol;
#X floatatom 331 759 5 0 15 1 seq - -;
#X obj 270 782 pack s f;
#X msg 270 807 \$1-\$2-r;
#X obj 249 666 t b b f;
#X obj 76 793 symbol;
#X floatatom 137 715 5 0 15 1 seq - -;
#X obj 76 686 symbol \$0-seq-gate;
#X obj 76 738 pack s f;
#X msg 76 763 \$1-\$2-r;
#X obj 76 656 t b f;
#N canvas 773 66 513 697 insert-new-gates 0;
#X obj 86 222 until;
#X obj 86 367 list;
#X obj 158 424 t a;
#X obj 115 337 list;
#X msg 86 195 16;
#X obj 226 367 list;
#X obj 298 424 t a;
#X obj 255 337 list;
#X obj 86 247 t b b;
#X obj 87 488 ||;
#X obj 98 549 t a;
#X obj 152 167 s \$0-reset-insert-new-gates;
#X obj 180 492 r \$0-reset-insert-new-gates;
#X obj 60 129 t b b b;
#X obj 58 574 list;
#X obj 86 394 list split 1;
#X obj 226 394 list split 1;
#X obj 86 419 t f b;
#X obj 87 518 list prepend;
#X obj 60 93 inlet;
#X text 58 46 "OR" gate the existing list with the new list;
#X obj 144 93 inlet old;
#X obj 284 93 inlet new;
#X obj 58 646 outlet;
#X text 58 26 Using the new list of gates for the current sequence
\,;
#X connect 0 0 8 0;
#X connect 1 0 15 0;
#X connect 2 0 1 1;
#X connect 3 0 1 1;
#X connect 4 0 0 0;
#X connect 5 0 16 0;
#X connect 6 0 5 1;
#X connect 7 0 5 1;
#X connect 8 0 1 0;
#X connect 8 1 5 0;
#X connect 9 0 18 0;
#X connect 10 0 18 1;
#X connect 12 0 18 1;
#X connect 13 0 14 0;
#X connect 13 1 4 0;
#X connect 13 2 11 0;
#X connect 13 2 3 0;
#X connect 13 2 7 0;
#X connect 14 0 23 0;
#X connect 15 0 17 0;
#X connect 15 1 2 0;
#X connect 16 0 9 1;
#X connect 16 1 6 0;
#X connect 17 0 9 0;
#X connect 18 0 10 0;
#X connect 18 0 14 1;
#X connect 19 0 13 0;
#X connect 21 0 7 1;
#X connect 22 0 3 1;
#X restore 55 626 pd insert-new-gates;
#X obj 270 726 symbol \$0-get-seq;
#X obj 55 550 t b a;
#X text 144 462 Route 1: Sequence;
#X text 144 482 Route 0: Seq num;
#X obj 226 543 t b f b b;
#X obj 226 632 s \$0-getting-packed-seq-for-record-mode;
#X msg 272 575 1;
#X msg 226 574 0;
#X text 170 23 The incoming gates are stored in lists to a text file.
;
#X text 170 43 Not very efficient \, but it works.;
#X text 362 470 Get the current sequence;
#X connect 2 0 1 0;
#X connect 3 0 10 0;
#X connect 4 0 5 0;
#X connect 5 0 6 0;
#X connect 5 0 9 0;
#X connect 6 0 5 1;
#X connect 7 0 5 1;
#X connect 8 0 4 0;
#X connect 8 1 7 0;
#X connect 9 0 3 0;
#X connect 9 1 12 0;
#X connect 10 0 11 0;
#X connect 11 0 15 0;
#X connect 12 0 10 1;
#X connect 13 0 8 0;
#X connect 14 0 16 0;
#X connect 15 0 45 0;
#X connect 15 1 42 0;
#X connect 15 1 48 0;
#X connect 16 0 2 0;
#X connect 16 1 13 0;
#X connect 18 0 14 0;
#X connect 20 0 19 0;
#X connect 21 0 22 0;
#X connect 22 0 43 2;
#X connect 23 0 24 0;
#X connect 24 0 22 1;
#X connect 25 0 26 0;
#X connect 26 0 28 0;
#X connect 27 0 24 0;
#X connect 27 1 24 1;
#X connect 28 0 27 0;
#X connect 29 0 30 0;
#X connect 30 0 28 0;
#X connect 30 1 28 1;
#X connect 31 0 29 0;
#X connect 32 0 19 1;
#X connect 33 0 34 1;
#X connect 34 0 35 0;
#X connect 35 0 32 0;
#X connect 36 0 20 0;
#X connect 36 1 44 0;
#X connect 36 2 33 0;
#X connect 37 0 17 1;
#X connect 38 0 40 1;
#X connect 39 0 40 0;
#X connect 40 0 41 0;
#X connect 41 0 37 0;
#X connect 42 0 39 0;
#X connect 42 1 38 0;
#X connect 43 0 17 0;
#X connect 44 0 34 0;
#X connect 45 0 43 0;
#X connect 45 1 43 1;
#X connect 48 0 51 0;
#X connect 48 1 36 0;
#X connect 48 2 50 0;
#X connect 50 0 49 0;
#X connect 51 0 49 0;
#X restore 349 509 pd list-of-updates-to-make;
#X text 23 68 Explaination;
#X text 44 9 When in record mode \, new gates are added to the existing
sequences at the closest step. This turned out to be more complicated
than I thought.;
#X text 335 449 Wait until the end of the current sequences;
#X obj 36 629 spigot;
#X text 62 90 Since the gates have to snap to the nearest step in the
sequence \, sometimes this can be the next step. If TBC wrote to the
seq immediately \, it would play when we pressed the button \, then
again once we reach the next step.;
#X text 64 166 I ended up creating a text file that holds all of the
changes that were added on the current step \, and then it applies
these changes AFTER the next step has happened. In this way \, we hear
the sound when it was first pressed \, (because it is still in one-shot-mode)
but don't update the sequences until we have passed that step in the
sequence. The text file also allows changes to happen to multiple sounds
in one step \, so you can press several buttons at once on a midi controller
\, and they will all add to the sequence correctly.;
#X obj 13 420 t b f b b;
#X obj 13 509 s \$0-getting-packed-seq-for-record-mode;
#X msg 59 452 1;
#X msg 13 451 0;
#N canvas 1215 306 378 404 add-step-into-seq 0;
#X obj 45 142 list split;
#X obj 45 171 list split 1;
#X obj 45 222 list append;
#X obj 45 196 list append 1;
#N canvas 1227 199 528 547 determine-step 0;
#X obj 56 148 r \$0-current-step;
#X obj 35 487 outlet;
#X obj 93 247 r \$0-clock-time-ms;
#X obj 56 301 metro;
#X obj 93 272 / 2;
#X obj 56 336 f 0;
#X obj 94 336 + 1;
#X obj 35 408 +;
#X floatatom 109 302 5 0 0 1 Clock_time_ms - -;
#X msg 77 218 0;
#X floatatom 35 460 5 0 0 0 - - -;
#X obj 35 433 mod 16;
#X text 33 10 Get the step that is closest \, based off the clock time.
If we are halfway to the next step \, it will be the next step \, otherwise
it will be the current step.;
#X msg 56 275 1;
#X obj 56 361 mod 2;
#X floatatom 69 388 5 0 0 0 - - -;
#X obj 35 68 inlet;
#X obj 56 173 t f b b;
#X obj 35 212 f;
#X obj 35 93 t b;
#X connect 0 0 17 0;
#X connect 2 0 4 0;
#X connect 3 0 5 0;
#X connect 4 0 3 1;
#X connect 4 0 8 0;
#X connect 5 0 6 0;
#X connect 5 0 14 0;
#X connect 6 0 5 1;
#X connect 7 0 11 0;
#X connect 9 0 5 1;
#X connect 10 0 1 0;
#X connect 11 0 10 0;
#X connect 13 0 3 0;
#X connect 14 0 15 0;
#X connect 14 0 7 1;
#X connect 16 0 19 0;
#X connect 17 0 18 1;
#X connect 17 1 13 0;
#X connect 17 2 9 0;
#X connect 18 0 7 0;
#X connect 19 0 18 0;
#X restore 162 82 pd determine-step;
#X msg 179 329 1e+009;
#X obj 45 309 t a b;
#X obj 45 354 text insert \$0-sequences-to-update;
#X obj 45 21 inlet;
#X obj 103 21 inlet;
#X obj 122 112 + 1;
#X obj 103 46 t f f;
#X obj 102 283 t f b;
#X connect 0 0 1 0;
#X connect 0 1 2 1;
#X connect 1 0 3 0;
#X connect 2 0 6 0;
#X connect 3 0 2 0;
#X connect 4 0 10 0;
#X connect 4 0 1 1;
#X connect 5 0 7 1;
#X connect 6 0 7 0;
#X connect 6 1 5 0;
#X connect 8 0 0 0;
#X connect 9 0 11 0;
#X connect 10 0 0 1;
#X connect 11 0 12 0;
#X connect 11 1 4 0;
#X connect 12 0 7 0;
#X connect 12 1 5 0;
#X restore 36 659 pd add-step-into-seq;
#X obj 81 604 r \$0-recording-gates;
#N canvas 16 517 389 283 wait-until-next-step 0;
#X obj 136 65 r \$0-current-step-late;
#X obj 136 125 spigot;
#X obj 91 175 spigot;
#X msg 181 100 1;
#X msg 136 150 1;
#X obj 91 200 t b b;
#X msg 158 200 0;
#X obj 91 225 outlet;
#X obj 37 45 inlet;
#X obj 91 45 r \$0-current-step-late;
#X connect 0 0 1 0;
#X connect 1 0 4 0;
#X connect 2 0 5 0;
#X connect 3 0 1 1;
#X connect 4 0 2 1;
#X connect 5 0 7 0;
#X connect 5 1 6 0;
#X connect 6 0 1 1;
#X connect 6 0 2 1;
#X connect 8 0 3 0;
#X connect 9 0 2 0;
#X restore 349 479 pd wait-until-next-step;
#X obj 36 549 t b f;
#X msg 36 574 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
#X connect 0 0 10 0;
#X connect 7 0 14 0;
#X connect 10 0 13 0;
#X connect 10 1 17 0;
#X connect 10 2 12 0;
#X connect 10 3 16 0;
#X connect 12 0 11 0;
#X connect 13 0 11 0;
#X connect 15 0 7 1;
#X connect 16 0 3 0;
#X connect 17 0 18 0;
#X connect 17 1 14 1;
#X connect 18 0 7 0;
#X restore 29 92 pd record-notes-to-sequencers;
#X text 282 91 Record mode;
#X text 31 10 When all modifier buttons are off \, oneshot mode is
active;
#X restore 535 477 pd oneshot-play;
#N canvas 487 416 916 518 clear-grid 0;
#X obj 108 392 pack s f;
#X obj 82 487 s;
#X obj 108 442 symbol;
#X obj 108 338 symbol \$0-grid-btn;
#X floatatom 169 369 5 0 15 1 Grid_button - -;
#X obj 82 199 until;
#X msg 82 170 16;
#X obj 169 256 f 0;
#X obj 207 256 + 1;
#X floatatom 169 281 5 0 0 0 - - -;
#X msg 190 171 0;
#X obj 82 224 t b b b;
#X msg 82 443 0, f 2;
#X obj 116 132 t b b;
#X obj 90 8 r \$0-clear-grid;
#X obj 412 332 pack s f;
#X obj 386 427 s;
#X obj 412 382 symbol;
#X floatatom 473 309 5 0 15 1 Grid_knob - -;
#X obj 386 139 until;
#X msg 386 110 16;
#X obj 473 196 f 0;
#X obj 511 196 + 1;
#X floatatom 473 221 5 0 0 0 - - -;
#X obj 386 164 t b b b;
#X obj 420 72 t b b;
#X obj 412 278 symbol \$0-grid-knob;
#X msg 494 111 0;
#X obj 169 303 t f;
#X obj 473 243 t f;
#N canvas 785 346 882 384 pick-value 0;
#X obj 58 86 inlet bang;
#X obj 58 319 outlet value;
#X obj 58 177 symbol;
#X obj 103 148 r \$0-global-state-1;
#X msg 58 259 1;
#X msg 375 257 0.516;
#X symbolatom 125 178 30 0 0 0 - - -;
#X msg 168 258 0;
#X text 421 163 bpm-mode: 0;
#X text 420 143 one-shot-mode: 1;
#X text 420 121 Reset values;
#X text 188 26 Select the value to reset the knobs to \, based on what
the global-state is.;
#X text 379 282 Note: 0.516 sets the knobs to visual center;
#X obj 58 204 sel one-shot-mode samples-mode sound-mode bpm-mode write-mode
;
#X connect 0 0 2 0;
#X connect 2 0 13 0;
#X connect 3 0 2 1;
#X connect 3 0 6 0;
#X connect 4 0 1 0;
#X connect 5 0 1 0;
#X connect 7 0 1 0;
#X connect 13 0 4 0;
#X connect 13 1 4 0;
#X connect 13 2 7 0;
#X connect 13 3 7 0;
#X connect 13 4 5 0;
#X restore 301 382 pd pick-value;
#X msg 108 417 \$1-\$2-r;
#X msg 412 357 \$1-\$2-r;
#X obj 692 392 pack s f;
#X obj 666 487 s;
#X obj 692 442 symbol;
#X obj 692 338 symbol \$0-grid-btn;
#X floatatom 753 369 5 0 15 1 Grid_button - -;
#X obj 666 139 until;
#X msg 666 110 16;
#X obj 753 196 f 0;
#X obj 791 196 + 1;
#X floatatom 753 221 5 0 0 0 - - -;
#X msg 774 111 0;
#X obj 666 164 t b b b;
#X msg 666 443 0, f 2;
#X obj 700 72 t b b;
#X obj 753 243 t f;
#X msg 692 417 \$1-\$2-r;
#X obj 700 38 r \$0-clear-grid-funct;
#X obj 753 268 sel 7;
#X obj 90 33 t b b b;
#X obj 130 101 s \$0-clearing-grid;
#X msg 160 71 1, f 2;
#X msg 130 71 0, f 2;
#X obj 420 38 r \$0-clear-knobs;
#X connect 0 0 31 0;
#X connect 2 0 1 1;
#X connect 3 0 0 0;
#X connect 4 0 0 1;
#X connect 5 0 11 0;
#X connect 6 0 5 0;
#X connect 7 0 8 0;
#X connect 7 0 9 0;
#X connect 8 0 7 1;
#X connect 9 0 28 0;
#X connect 10 0 7 1;
#X connect 11 0 12 0;
#X connect 11 1 3 0;
#X connect 11 2 7 0;
#X connect 12 0 1 0;
#X connect 13 0 6 0;
#X connect 13 1 10 0;
#X connect 14 0 51 0;
#X connect 15 0 32 0;
#X connect 17 0 16 1;
#X connect 18 0 15 1;
#X connect 19 0 24 0;
#X connect 20 0 19 0;
#X connect 21 0 22 0;
#X connect 21 0 23 0;
#X connect 22 0 21 1;
#X connect 23 0 29 0;
#X connect 24 0 30 0;
#X connect 24 1 26 0;
#X connect 24 2 21 0;
#X connect 25 0 20 0;
#X connect 25 1 27 0;
#X connect 26 0 15 0;
#X connect 27 0 21 1;
#X connect 28 0 4 0;
#X connect 29 0 18 0;
#X connect 30 0 16 0;
#X connect 31 0 2 0;
#X connect 32 0 17 0;
#X connect 33 0 48 0;
#X connect 35 0 34 1;
#X connect 36 0 33 0;
#X connect 37 0 33 1;
#X connect 38 0 44 0;
#X connect 39 0 38 0;
#X connect 40 0 41 0;
#X connect 40 0 42 0;
#X connect 41 0 40 1;
#X connect 42 0 47 0;
#X connect 43 0 40 1;
#X connect 44 0 45 0;
#X connect 44 1 36 0;
#X connect 44 2 40 0;
#X connect 45 0 34 0;
#X connect 46 0 39 0;
#X connect 46 1 43 0;
#X connect 47 0 50 0;
#X connect 48 0 35 0;
#X connect 49 0 46 0;
#X connect 50 1 37 0;
#X connect 51 0 54 0;
#X connect 51 1 13 0;
#X connect 51 2 53 0;
#X connect 53 0 52 0;
#X connect 54 0 52 0;
#X connect 55 0 25 0;
#X restore 535 420 pd clear-grid;
#N canvas 560 458 482 260 fx-stuff 0;
#N canvas 68 152 938 364 init-fx-array 0;
#X obj 66 268 tabwrite \$0-fx-array;
#X obj 223 164 until;
#X msg 223 139 16;
#X obj 223 189 f 0;
#X obj 258 189 + 1;
#X obj 223 112 t b b;
#X msg 277 164 0;
#X obj 223 214 t b f;
#X msg 66 235 15;
#X text 22 29 Clear the FX array by setting every position to 15;
#X obj 343 63 r \$0-reset-fx-array;
#X obj 388 266 s \$0-fx-parameters-to-load;
#X text 401 199 Default FX params;
#X msg 611 132 0 0.482759 1 0.517241 0.517241 0.689655 0.275862 1 0.517241
0.482759 0.517241 0.517241 0.241379 0.206897 0.344828 1;
#X text 616 108 Old backup;
#X msg 388 225 0.25 0.482759 1 0.517241 0.517241 0.241379 0.275862
0.689655 0.517241 0.482759 0.517241 0.517241 0.25 0.206897 0.344828
1;
#X connect 1 0 3 0;
#X connect 2 0 1 0;
#X connect 3 0 4 0;
#X connect 3 0 7 0;
#X connect 4 0 3 1;
#X connect 5 0 2 0;
#X connect 5 1 6 0;
#X connect 6 0 3 1;
#X connect 7 0 8 0;
#X connect 7 1 0 1;
#X connect 8 0 0 0;
#X connect 10 0 5 0;
#X connect 10 0 15 0;
#X connect 15 0 11 0;
#X restore 26 85 pd init-fx-array;
#N canvas 138 81 1086 846 fx-knobs 0;
#X text 597 400 Use a step sequencer from the sequencer sub-patch to
store the 16 volumes. We don't need the gate information \, so it is
not connected;
#X obj 80 34 r \$0-packed-grid-knobs;
#X msg 579 123 0;
#X obj 80 418 unpack f f f f f f f f f f f f f f f f;
#X obj 539 485 s \$0-packed-pitch-seq;
#X obj 453 130 t b b;
#X msg 448 194 1;
#X obj 434 458 tbc-utils/step-seq;
#X msg 490 331 1;
#X obj 453 78 sel fx-mode;
#X obj 80 503 s \$0-fx-parameter-0;
#X obj 100 523 s \$0-fx-parameter-1;
#X obj 120 543 s \$0-fx-parameter-2;
#X obj 140 563 s \$0-fx-parameter-3;
#X obj 160 583 s \$0-fx-parameter-4;
#X obj 180 603 s \$0-fx-parameter-5;
#X obj 200 623 s \$0-fx-parameter-6;
#X obj 220 643 s \$0-fx-parameter-7;
#X obj 240 663 s \$0-fx-parameter-8;
#X obj 260 683 s \$0-fx-parameter-9;
#X obj 280 703 s \$0-fx-parameter-10;
#X obj 300 723 s \$0-fx-parameter-11;
#X obj 320 743 s \$0-fx-parameter-12;
#X obj 340 763 s \$0-fx-parameter-13;
#X obj 360 783 s \$0-fx-parameter-14;
#X obj 381 803 s \$0-fx-parameter-15;
#X obj 138 347 r \$0-fx-parameters-to-load;
#X text 707 22 Load the fx param values to the knobs;
#X text 541 514 The sequence is loaded using load-to-grid within the
patterns subpatch. The name of the input is called "\$0-packed-pitch-seq"
but it is actually just values from 0-1 \, so in this case we are sending
fx param data instead of pitch data;
#X obj 518 364 spigot 0;
#X text 612 209 If the pattern changes while in FX mode \, the knobs
need to be immediately updated with the new fx-parameters;
#X obj 141 201 f;
#X obj 603 185 r \$0-load-fx-params-to-grid;
#X obj 80 232 spigot 0;
#X obj 453 53 r \$0-global-state-on;
#X obj 649 78 sel fx-mode;
#X obj 649 53 r \$0-global-state-off;
#X obj 677 334 == 0;
#X obj 616 364 spigot 1;
#X obj 579 314 t f;
#N canvas 509 50 591 797 receive-fx-params 0;
#X obj 197 407 t b f;
#X obj 207 427 t b f;
#X obj 217 447 t b f;
#X obj 227 467 t b f;
#X obj 237 487 t b f;
#X obj 247 507 t b f;
#X obj 257 527 t b f;
#X obj 267 547 t b f;
#X obj 277 567 t b f;
#X obj 287 587 t b f;
#X obj 297 607 t b f;
#X obj 307 627 t b f;
#X obj 317 647 t b f;
#X obj 327 667 t b f;
#X obj 337 687 t b f;
#X obj 89 718 pack f f f f f f f f f f f f f f f f;
#X obj 89 743 outlet;
#X text 45 26 Receive the incoming data and pack them into a list for
the sequencer to hold onto. Note that the step-sequencer is used in
this case just as a way to store 16 values \, not as an actual step
sequencer.;
#X text 45 106 This patch allows any change made to the data to be
stored \, whether it is coming from the knobs \, from the save file
\, or from an external source.;
#X obj 187 229 r \$0-fx-parameter-0;
#X obj 197 249 r \$0-fx-parameter-1;
#X obj 207 269 r \$0-fx-parameter-2;
#X obj 217 289 r \$0-fx-parameter-3;
#X obj 227 309 r \$0-fx-parameter-4;
#X obj 237 329 r \$0-fx-parameter-5;
#X obj 247 349 r \$0-fx-parameter-6;
#X obj 257 369 r \$0-fx-parameter-7;
#X obj 267 389 r \$0-fx-parameter-8;
#X obj 277 409 r \$0-fx-parameter-9;
#X obj 287 429 r \$0-fx-parameter-10;
#X obj 297 449 r \$0-fx-parameter-11;
#X obj 307 469 r \$0-fx-parameter-12;
#X obj 317 489 r \$0-fx-parameter-13;
#X obj 327 509 r \$0-fx-parameter-14;
#X obj 337 529 r \$0-fx-parameter-15;
#X connect 0 0 15 0;
#X connect 0 1 15 1;
#X connect 1 0 15 0;
#X connect 1 1 15 2;
#X connect 2 0 15 0;
#X connect 2 1 15 3;
#X connect 3 0 15 0;
#X connect 3 1 15 4;
#X connect 4 0 15 0;
#X connect 4 1 15 5;
#X connect 5 0 15 0;
#X connect 5 1 15 6;
#X connect 6 0 15 0;
#X connect 6 1 15 7;
#X connect 7 0 15 0;
#X connect 7 1 15 8;
#X connect 8 0 15 0;
#X connect 8 1 15 9;
#X connect 9 0 15 0;
#X connect 9 1 15 10;
#X connect 10 0 15 0;
#X connect 10 1 15 11;
#X connect 11 0 15 0;
#X connect 11 1 15 12;
#X connect 12 0 15 0;
#X connect 12 1 15 13;
#X connect 13 0 15 0;
#X connect 13 1 15 14;
#X connect 14 0 15 0;
#X connect 14 1 15 15;
#X connect 15 0 16 0;
#X connect 19 0 15 0;
#X connect 20 0 0 0;
#X connect 21 0 1 0;
#X connect 22 0 2 0;
#X connect 23 0 3 0;
#X connect 24 0 4 0;
#X connect 25 0 5 0;
#X connect 26 0 6 0;
#X connect 27 0 7 0;
#X connect 28 0 8 0;
#X connect 29 0 9 0;
#X connect 30 0 10 0;
#X connect 31 0 11 0;
#X connect 32 0 12 0;
#X connect 33 0 13 0;
#X connect 34 0 14 0;
#X restore 616 304 pd receive-fx-params;
#X connect 1 0 33 0;
#X connect 2 0 31 0;
#X connect 2 0 39 0;
#X connect 3 0 10 0;
#X connect 3 1 11 0;
#X connect 3 2 12 0;
#X connect 3 3 13 0;
#X connect 3 4 14 0;
#X connect 3 5 15 0;
#X connect 3 6 16 0;
#X connect 3 7 17 0;
#X connect 3 8 18 0;
#X connect 3 9 19 0;
#X connect 3 10 20 0;
#X connect 3 11 21 0;
#X connect 3 12 22 0;
#X connect 3 13 23 0;
#X connect 3 14 24 0;
#X connect 3 15 25 0;
#X connect 5 0 6 0;
#X connect 5 1 8 0;
#X connect 6 0 31 0;
#X connect 6 0 39 0;
#X connect 7 3 4 0;
#X connect 8 0 7 2;
#X connect 9 0 5 0;
#X connect 26 0 3 0;
#X connect 26 0 7 3;
#X connect 29 0 7 3;
#X connect 31 0 33 1;
#X connect 32 0 8 0;
#X connect 33 0 3 0;
#X connect 33 0 29 0;
#X connect 34 0 9 0;
#X connect 35 1 2 0;
#X connect 36 0 35 0;
#X connect 37 0 38 1;
#X connect 38 0 7 3;
#X connect 39 0 29 1;
#X connect 39 0 37 0;
#X connect 40 0 38 0;
#X restore 26 115 pd fx-knobs;
#X obj 26 35 array define \$0-fx-array 16;
#X text 125 115 <--Load the fx param values to the knobs;
#N canvas 115 261 340 236 turn-off-fx-when-paused 0;
#X floatatom 49 86 5 0 0 0 - - -;
#X obj 49 108 sel 0;
#X obj 49 173 s \$0-current-fx;
#X msg 49 143 15;
#X obj 49 61 r \$0-playing;
#X connect 0 0 1 0;
#X connect 1 0 3 0;
#X connect 3 0 2 0;
#X connect 4 0 0 0;
#X restore 26 185 pd turn-off-fx-when-paused;
#N canvas 550 336 632 430 fx-record 0;
#X obj 79 87 sel fx-mode;
#X msg 79 207 1;
#X msg 334 207 0;
#X obj 34 287 spigot;
#X obj 34 372 s \$0-recording-fx;
#X obj 402 98 r \$0-update-fx-in-memory;
#X obj 402 123 t b;
#X obj 402 372 s \$0-update-pattern;
#X obj 402 282 spigot;
#X obj 402 342 spigot;
#X obj 447 312 r \$0-recording-fx;
#X obj 79 57 r \$0-global-state-on;
#X obj 249 87 sel fx-mode;
#X obj 249 57 r \$0-global-state-off;
#X obj 79 165 t b b;
#X msg 116 317 0;
#X obj 34 25 r \$0-write-btn-0-s;
#X connect 0 0 14 0;
#X connect 1 0 3 1;
#X connect 1 0 8 1;
#X connect 2 0 3 1;
#X connect 2 0 8 1;
#X connect 3 0 4 0;
#X connect 5 0 6 0;
#X connect 6 0 8 0;
#X connect 8 0 9 0;
#X connect 9 0 7 0;
#X connect 10 0 9 1;
#X connect 11 0 0 0;
#X connect 12 1 2 0;
#X connect 13 0 12 0;
#X connect 14 0 1 0;
#X connect 14 1 15 0;
#X connect 15 0 4 0;
#X connect 16 0 3 0;
#X restore 26 165 pd fx-record;
#N canvas 0 50 585 603 handle-current-fx 0;
#X obj 181 123 r \$0-current-step;
#X obj 204 220 s \$0-get-current-fx;
#X floatatom 324 444 5 0 0 0 - - -;
#X obj 324 469 tabread \$0-fx-array;
#X obj 324 494 int;
#X obj 324 524 s \$0-current-fx;
#X obj 324 351 r \$0-get-current-fx;
#X obj 250 191 s \$0-set-new-fx;
#X msg 385 384 1;
#X obj 181 153 t b f b f;
#N canvas 709 127 706 744 prefer-oneshot-fx 0;
#X obj 121 97 inlet new-fx;
#X obj 446 96 inlet get-new;
#X obj 203 692 outlet fx;
#X obj 483 692 outlet spigot;
#X obj 446 628 t f b;
#X msg 483 658 0;
#X obj 446 570 change -1;
#X obj 446 595 t f b;
#X msg 477 457 -1;
#X obj 446 483 f;
#X msg 460 536 set -1;
#X text 52 22 This patch allows TBC to prefer the one-shot-fx over
the saved fx. Without this \, the saved FX chain would override the
one-shot-fx.;
#X obj 142 214 spigot 1;
#X obj 203 127 r \$0-playing;
#X obj 203 157 == 0;
#X obj 174 247 spigot 1;
#X obj 235 187 r \$0-recording-fx;
#X obj 235 217 == 0;
#X obj 203 361 t f f;
#X obj 121 279 f;
#X obj 121 161 t b f f;
#X obj 121 304 t b f;
#X obj 158 331 sel -1;
#X msg 80 304 -1;
#X obj 507 373 r \$0-recording-fx;
#X obj 507 403 == 0;
#X text 222 330 <-- Ignore -1;
#X obj 446 433 spigot 1;
#X text 397 720 TODO: unused outlet \, safe to delete?;
#X connect 0 0 20 0;
#X connect 1 0 27 0;
#X connect 4 1 5 0;
#X connect 5 0 3 0;
#X connect 6 0 7 0;
#X connect 7 0 4 0;
#X connect 7 1 8 0;
#X connect 7 1 10 0;
#X connect 8 0 9 1;
#X connect 9 0 6 0;
#X connect 10 0 6 0;
#X connect 12 0 19 1;
#X connect 13 0 14 0;
#X connect 14 0 12 1;
#X connect 15 0 19 1;
#X connect 16 0 17 0;
#X connect 17 0 15 1;
#X connect 18 0 2 0;
#X connect 18 1 9 1;
#X connect 19 0 21 0;
#X connect 20 0 19 0;
#X connect 20 1 12 0;
#X connect 20 2 15 0;
#X connect 21 0 23 0;
#X connect 21 1 22 0;
#X connect 22 1 18 0;
#X connect 23 0 19 1;
#X connect 24 0 25 0;
#X connect 25 0 27 1;
#X connect 27 0 9 0;
#X restore 70 317 pd prefer-oneshot-fx;
#X obj 324 414 spigot 1;
#X obj 227 293 spigot;
#X obj 272 259 r \$0-fx-polling-on-off;
#X obj 70 123 r \$0-new-fx;
#X text 73 37 Get the new FX from the selector \, or if no FX has been
selected \, then get the FX from the saved FX chain;
#X obj 70 342 t f b;
#X msg 347 384 0;
#X connect 0 0 9 0;
#X connect 2 0 3 0;
#X connect 3 0 4 0;
#X connect 4 0 5 0;
#X connect 6 0 11 0;
#X connect 8 0 11 1;
#X connect 9 0 8 0;
#X connect 9 1 1 0;
#X connect 9 2 12 0;
#X connect 9 3 7 0;
#X connect 10 0 16 0;
#X connect 11 0 2 0;
#X connect 12 0 10 1;
#X connect 13 0 12 1;
#X connect 14 0 10 0;
#X connect 16 0 5 0;
#X connect 16 1 17 0;
#X connect 17 0 11 1;
#X restore 26 145 pd handle-current-fx;
#X restore 871 347 pd fx-stuff;
#X obj 517 735 outlet~ audio-L;
#X obj 661 735 outlet~ audio-R;
#X obj 62 400 cnv 15 20 20 empty \$0-cnv-bottom OUT-R~ 5 11 0 14 -71583
-1 0;
#X obj 516 20 inlet~ audio-in-L;
#X obj 536 39 inlet~ audio-in-R;
#X obj 517 68 throw~ \$0-audio-inlet-L;
#X obj 537 87 throw~ \$0-audio-inlet-R;
#N canvas 359 162 555 729 set-pitch 0;
#X obj 27 123 inlet;
#X obj 87 666 s \$0-pitch-in-0-s;
#X obj 105 647 s \$0-pitch-in-1-s;
#X obj 124 628 s \$0-pitch-in-2-s;
#X obj 142 609 s \$0-pitch-in-3-s;
#X obj 161 590 s \$0-pitch-in-4-s;
#X obj 180 571 s \$0-pitch-in-5-s;
#X obj 198 552 s \$0-pitch-in-6-s;
#X obj 217 533 s \$0-pitch-in-7-s;
#X obj 236 514 s \$0-pitch-in-8-s;
#X obj 254 495 s \$0-pitch-in-9-s;
#X obj 273 476 s \$0-pitch-in-10-s;
#X obj 291 457 s \$0-pitch-in-11-s;
#X obj 310 438 s \$0-pitch-in-12-s;
#X obj 329 419 s \$0-pitch-in-13-s;
#X obj 347 400 s \$0-pitch-in-14-s;
#X obj 366 381 s \$0-pitch-in-15-s;
#X text 18 16 Pitch adjustment scale. 1 means no adjustment \, 2 means
twice the pitch \, 0.5 means half the pitch... ect.;
#X text 18 56 0 is converted to 1 to prevent setting the pitch to 0hz.
;
#X text 18 86 Negative numbers absolute valued;
#X obj 87 348 route 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15;
#X obj 87 178 unpack f f;
#X obj 154 204 abs;
#X obj 154 229 sel 0;
#X obj 87 310 pack f f;
#X msg 140 262 1;
#X obj 27 147 route all;
#X obj 27 362 t f;
#X connect 0 0 26 0;
#X connect 20 0 1 0;
#X connect 20 1 2 0;
#X connect 20 2 3 0;
#X connect 20 3 4 0;
#X connect 20 4 5 0;
#X connect 20 5 6 0;
#X connect 20 6 7 0;
#X connect 20 7 8 0;
#X connect 20 8 9 0;
#X connect 20 9 10 0;
#X connect 20 10 11 0;
#X connect 20 11 12 0;
#X connect 20 12 13 0;
#X connect 20 13 14 0;
#X connect 20 14 15 0;
#X connect 20 15 16 0;
#X connect 21 0 24 0;
#X connect 21 1 22 0;
#X connect 22 0 23 0;
#X connect 23 0 25 0;
#X connect 23 1 24 1;
#X connect 24 0 20 0;
#X connect 25 0 24 1;
#X connect 26 0 27 0;
#X connect 26 1 21 0;
#X connect 27 0 16 0;
#X connect 27 0 15 0;
#X connect 27 0 14 0;
#X connect 27 0 13 0;
#X connect 27 0 12 0;
#X connect 27 0 11 0;
#X connect 27 0 10 0;
#X connect 27 0 9 0;
#X connect 27 0 8 0;
#X connect 27 0 7 0;
#X connect 27 0 6 0;
#X connect 27 0 5 0;
#X connect 27 0 4 0;
#X connect 27 0 3 0;
#X connect 27 0 2 0;
#X connect 27 0 1 0;
#X restore 1216 95 pd set-pitch;
#X obj 903 25 inlet pattern;
#N canvas 226 578 432 272 samples 0;
#N canvas 221 184 1173 758 save-sample-paths-to-disk 0;
#X msg 644 309 clear;
#N canvas 0 50 450 300 loop-16 0;
#X obj 64 137 until;
#X msg 64 110 16;
#X obj 64 17 inlet bang;
#X obj 58 264 outlet;
#X obj 64 42 t b b;
#X obj 138 266 outlet done;
#X obj 64 187 t a a;
#X msg 101 110 0;
#X obj 64 162 f 0;
#X obj 138 242 sel 15;
#X obj 105 162 + 1;
#X connect 0 0 8 0;
#X connect 1 0 0 0;
#X connect 2 0 4 0;
#X connect 4 0 1 0;
#X connect 4 1 7 0;
#X connect 6 0 9 0;
#X connect 6 1 3 0;
#X connect 7 0 8 1;
#X connect 8 0 6 0;
#X connect 8 0 10 0;
#X connect 9 0 5 0;
#X connect 10 0 8 1;
#X restore 342 186 pd loop-16;
#X floatatom 342 211 5 0 0 0 - - -;
#X obj 419 211 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 386 359 pack s f;
#X obj 365 465 s;
#X obj 386 409 symbol;
#X floatatom 447 336 5 0 15 1 seq - -;
#X obj 644 275 sel 0;
#X obj 342 498 sel 15;
#X text 694 273 At the start \, clear the file;
#X text 398 496 At the end \, write the file;
#X msg 697 557 add \$1;
#X text 398 465 Send bang to load correct sample;
#X obj 697 523 r \$0-sample-path;
#X obj 697 713 textfile;
#X obj 386 312 symbol \$0-sample-path;
#X obj 342 523 t b b;
#X obj 314 651 del 2000;
#X msg 314 676 label empty;
#X msg 342 589 label SAVE_COMPLETE!;
#X obj 342 559 del 500;
#X obj 791 575 r \$0-tbc-id;
#X msg 746 662 write \$1;
#X obj 746 610 f;
#X obj 836 662 print saving-sample-paths;
#X obj 36 26 r \$0-save-sample-paths;
#X obj 718 650 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X text 718 491 Save path to text file;
#X msg 386 383 \$1-\$2-r;
#X obj 342 618 s \$0-lcd-2-r;
#X obj 314 706 s \$0-lcd-2-r;
#X obj 494 180 s \$0-lcd-2-r;
#X text 254 21 If a new sample is selected \, save-sample-paths is
banged \, and we save the samples text file to include the new sample
path.;
#X msg 493 151 label SAVING_SAMPLE_PATHS...;
#X obj 36 131 t b b b;
#X obj 365 276 t b b f;
#X obj 342 235 t f f f;
#X obj 36 256 f;
#X obj 57 222 r \$0-current-sound;
#X text 21 302 to the current sound;
#X text 21 282 After saving \, get the path;
#X obj 746 635 makefilename tbc-state-saves/tbc-%d/samples.txt;
#X connect 0 0 15 0;
#X connect 1 0 2 0;
#X connect 1 1 3 0;
#X connect 2 0 37 0;
#X connect 4 0 29 0;
#X connect 6 0 5 1;
#X connect 7 0 4 1;
#X connect 8 0 0 0;
#X connect 9 0 17 0;
#X connect 12 0 15 0;
#X connect 14 0 12 0;
#X connect 16 0 4 0;
#X connect 17 0 21 0;
#X connect 17 1 24 0;
#X connect 18 0 19 0;
#X connect 19 0 31 0;
#X connect 20 0 30 0;
#X connect 21 0 20 0;
#X connect 21 0 18 0;
#X connect 22 0 24 1;
#X connect 23 0 15 0;
#X connect 24 0 27 0;
#X connect 24 0 42 0;
#X connect 26 0 35 0;
#X connect 29 0 6 0;
#X connect 34 0 32 0;
#X connect 35 0 38 0;
#X connect 35 1 34 0;
#X connect 35 1 1 0;
#X connect 36 0 5 0;
#X connect 36 1 16 0;
#X connect 36 2 7 0;
#X connect 37 0 9 0;
#X connect 37 1 36 0;
#X connect 37 2 8 0;
#X connect 38 0 36 0;
#X connect 39 0 38 1;
#X connect 42 0 23 0;
#X connect 42 0 25 0;
#X restore 20 94 pd save-sample-paths-to-disk;
#N canvas 218 81 1062 889 load-sample-paths-from-disk 0;
#X obj 409 548 textfile;
#N canvas 0 50 450 300 loop-16 0;
#X obj 64 137 until;
#X msg 64 110 16;
#X obj 64 17 inlet bang;
#X obj 58 264 outlet;
#X obj 64 42 t b b;
#X obj 138 266 outlet done;
#X obj 64 187 t a a;
#X msg 101 110 0;
#X obj 64 162 f 0;
#X obj 138 242 sel 15;
#X obj 105 162 + 1;
#X connect 0 0 8 0;
#X connect 1 0 0 0;
#X connect 2 0 4 0;
#X connect 4 0 1 0;
#X connect 4 1 7 0;
#X connect 6 0 9 0;
#X connect 6 1 3 0;
#X connect 7 0 8 1;
#X connect 8 0 6 0;
#X connect 8 0 10 0;
#X connect 9 0 5 0;
#X connect 10 0 8 1;
#X restore 62 295 pd loop-16;
#X floatatom 62 320 5 0 0 0 - - -;
#X obj 139 323 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 62 73 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144 -1
-1;
#X obj 62 7 r \$0-bang-on-load-1;
#X obj 430 762 pack s f;
#X obj 409 838 s;
#X obj 430 812 symbol;
#X floatatom 491 739 5 0 15 1 seq - -;
#X obj 409 578 t a b;
#X obj 452 612 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X msg 321 512 bang;
#X msg 352 483 rewind;
#X obj 62 93 t b b b;
#X obj 372 113 t b b;
#X text 433 479 Open the file to read \, and rewind to the top;
#X obj 62 32 del 10;
#X obj 62 344 t b f;
#X obj 99 422 s \$0-loading-sample-num;
#X msg 88 125 label LOADING_SAMPLES_FROM_DISK;
#X obj 430 655 symbol \$0-sample-path;
#X obj 491 701 r \$0-loading-sample-num;
#X msg 96 188 label FINISHED_LOADING_SAMPLES;
#X text 316 33 Load samples paths from text file and pass to the samplers
;
#X obj 139 343 del 2000;
#X msg 139 368 label empty;
#X text 488 842 Pass the sample path to the associated sampler;
#X obj 454 285 r \$0-tbc-id;
#X obj 409 320 f;
#X msg 409 454 read \$1;
#X obj 496 453 print loading-sample-paths;
#X msg 430 787 \$1-\$2-r;
#X obj 88 151 s \$0-lcd-2-r;
#X obj 139 393 s \$0-lcd-2-r;
#X obj 96 213 s \$0-lcd-2-r;
#X obj 25 161 t b b;
#N canvas 0 81 664 385 get-path-on-startup 0;
#X obj 45 255 s;
#X obj 66 172 f \$0;
#X obj 66 197 pack f f;
#X obj 45 96 t b b;
#X obj 45 65 inlet;
#X text 133 38 This is a bit of a hack to ensure that the sample display
in the GUI gets the path to the current sound on startup. Without this
\, the current sample path isn't banged out until the WRITE button
is pressed.;
#X obj 128 117 r \$0-current-sound;
#X msg 66 227 symbol \$1-sample-path-\$2-r;
#X obj 128 142 route bang;
#X connect 1 0 2 0;
#X connect 2 0 7 0;
#X connect 3 0 0 0;
#X connect 3 1 1 0;
#X connect 4 0 3 0;
#X connect 6 0 8 0;
#X connect 7 0 0 1;
#X connect 8 1 2 1;
#X restore 25 497 pd get-path-on-startup;
#X obj 409 345 makefilename tbc-state-saves/tbc-%d/samples.txt;
#X obj 496 423 spigot;
#X obj 541 393 r \$0-debug-log;
#X connect 0 0 10 0;
#X connect 1 0 2 0;
#X connect 1 1 3 0;
#X connect 2 0 18 0;
#X connect 3 0 23 0;
#X connect 3 0 25 0;
#X connect 4 0 14 0;
#X connect 5 0 17 0;
#X connect 6 0 32 0;
#X connect 8 0 7 1;
#X connect 9 0 6 1;
#X connect 10 0 7 0;
#X connect 10 1 11 0;
#X connect 10 1 21 0;
#X connect 12 0 0 0;
#X connect 13 0 0 0;
#X connect 14 0 36 0;
#X connect 14 1 20 0;
#X connect 14 2 15 0;
#X connect 15 0 13 0;
#X connect 15 1 29 0;
#X connect 17 0 4 0;
#X connect 18 0 12 0;
#X connect 18 1 19 0;
#X connect 20 0 33 0;
#X connect 21 0 6 0;
#X connect 22 0 9 0;
#X connect 23 0 35 0;
#X connect 25 0 26 0;
#X connect 26 0 34 0;
#X connect 28 0 29 1;
#X connect 29 0 38 0;
#X connect 30 0 0 0;
#X connect 32 0 8 0;
#X connect 36 0 37 0;
#X connect 36 1 1 0;
#X connect 38 0 30 0;
#X connect 38 0 39 0;
#X connect 39 0 31 0;
#X connect 40 0 39 1;
#X restore 20 114 pd load-sample-paths-from-disk;
#N canvas 50 501 915 474 display-current-file-name 0;
#X obj 69 336 pack s f;
#X obj 48 412 s;
#X obj 69 386 symbol;
#X floatatom 130 313 5 0 15 1 seq - -;
#X obj 69 229 symbol \$0-sample-path;
#X obj 43 33 r \$0-current-sound;
#X obj 317 195 tbc-utils/get-file-name;
#X obj 43 158 change;
#X obj 43 191 t b b f;
#X obj 317 155 r \$0-sample-path;
#X msg 317 320 label \$1;
#X text 208 20 Get the name of the current sample by banging the sample
path of the current sound;
#X text 277 108 Substring the name of the sample from the full path
\, then display on the LCD;
#X obj 43 133 spigot 1;
#X obj 104 67 r \$0-samples-btn-s;
#X obj 104 92 == 0;
#X floatatom 128 127 5 0 0 0 - - -;
#X floatatom 52 70 5 0 0 0 - - -;
#X msg 69 361 \$1-\$2-r;
#X obj 525 170 r \$0-global-state-1;
#X obj 317 290 symbol;
#X msg 382 289 symbol empty;
#X obj 826 239 t b;
#X obj 317 395 spigot 0;
#X obj 434 322 r \$0-bang-on-load-1;
#X obj 434 347 del 100;
#X msg 434 372 1;
#X obj 317 425 s \$0-lcd-3-r;
#X msg 472 169 40;
#X obj 472 142 r \$0-bang-on-load-1;
#X obj 525 241 t b;
#X obj 525 195 sel write-mode sound-mode samples-mode bpm-mode;
#X connect 0 0 18 0;
#X connect 2 0 1 1;
#X connect 3 0 0 1;
#X connect 4 0 0 0;
#X connect 5 0 13 0;
#X connect 5 0 17 0;
#X connect 6 0 20 0;
#X connect 7 0 8 0;
#X connect 8 0 1 0;
#X connect 8 1 4 0;
#X connect 8 2 3 0;
#X connect 9 0 6 0;
#X connect 10 0 23 0;
#X connect 13 0 7 0;
#X connect 14 0 15 0;
#X connect 15 0 13 1;
#X connect 15 0 16 0;
#X connect 18 0 2 0;
#X connect 19 0 31 0;
#X connect 20 0 10 0;
#X connect 21 0 10 0;
#X connect 22 0 21 0;
#X connect 23 0 27 0;
#X connect 24 0 25 0;
#X connect 25 0 26 0;
#X connect 26 0 23 1;
#X connect 28 0 6 1;
#X connect 29 0 28 0;
#X connect 30 0 20 0;
#X connect 31 0 30 0;
#X connect 31 1 30 0;
#X connect 31 2 30 0;
#X connect 31 3 30 0;
#X connect 31 4 22 0;
#X restore 20 144 pd display-current-file-name;
#N canvas 511 48 1215 917 all-16-samplers 0;
#X obj 12 187 bng 30 250 50 0 \$0-play-sample-0-s \$0-play-sample-0-r
Trigger 35 7 0 10 -262144 -1 -1;
#X text 20 90 Scroll right for more samples ->>>>>>>>>>>;
#X obj 12 121 r \$0-seq-gate-0-s;
#X obj 47 243 r \$0-seq-pitch-0-s;
#X floatatom 47 345 5 0 0 0 - - -;
#X obj 372 187 bng 30 250 50 0 \$0-play-sample-1-s \$0-play-sample-1-r
Trigger 35 7 0 10 -262144 -1 -1;
#X floatatom 407 345 5 0 0 0 - - -;
#X obj 372 121 r \$0-seq-gate-1-s;
#X obj 407 243 r \$0-seq-pitch-1-s;
#X obj 189 353 r \$0-sample-path-0-r;
#X obj 254 810 s \$0-sample-path;
#X obj 549 353 r \$0-sample-path-1-r;
#X obj 732 187 bng 30 250 50 0 \$0-play-sample-2-s \$0-play-sample-2-r
Trigger 35 7 0 10 -262144 -1 -1;
#X floatatom 767 345 5 0 0 0 - - -;
#X obj 1092 187 bng 30 250 50 0 \$0-play-sample-3-s \$0-play-sample-3-r
Trigger 35 7 0 10 -262144 -1 -1;
#X floatatom 1127 345 5 0 0 0 - - -;
#X obj 732 121 r \$0-seq-gate-2-s;
#X obj 767 243 r \$0-seq-pitch-2-s;
#X obj 909 353 r \$0-sample-path-2-r;
#X obj 1092 121 r \$0-seq-gate-3-s;
#X obj 1127 243 r \$0-seq-pitch-3-s;
#X obj 1269 353 r \$0-sample-path-3-r;
#X obj 1462 187 bng 30 250 50 0 \$0-play-sample-4-s \$0-play-sample-4-r
Trigger 35 7 0 10 -262144 -1 -1;
#X floatatom 1497 345 5 0 0 0 - - -;
#X obj 1822 187 bng 30 250 50 0 \$0-play-sample-5-s \$0-play-sample-5-r
Trigger 35 7 0 10 -262144 -1 -1;
#X floatatom 1857 347 5 0 0 0 - - -;
#X obj 2182 187 bng 30 250 50 0 \$0-play-sample-6-s \$0-play-sample-6-r
Trigger 35 7 0 10 -262144 -1 -1;
#X floatatom 2217 347 5 0 0 0 - - -;
#X obj 2542 187 bng 30 250 50 0 \$0-play-sample-7-s \$0-play-sample-7-r
Trigger 35 7 0 10 -262144 -1 -1;
#X floatatom 2577 345 5 0 0 0 - - -;
#X obj 1462 121 r \$0-seq-gate-4-s;
#X obj 1497 243 r \$0-seq-pitch-4-s;
#X obj 1639 353 r \$0-sample-path-4-r;
#X obj 1822 121 r \$0-seq-gate-5-s;
#X obj 1857 243 r \$0-seq-pitch-5-s;
#X obj 1999 353 r \$0-sample-path-5-r;
#X obj 2182 121 r \$0-seq-gate-6-s;
#X obj 2217 243 r \$0-seq-pitch-6-s;
#X obj 2359 353 r \$0-sample-path-6-r;
#X obj 2542 121 r \$0-seq-gate-7-s;
#X obj 2577 243 r \$0-seq-pitch-7-s;
#X obj 2719 353 r \$0-sample-path-7-r;
#X obj 189 373 r \$0-pick-sample-0-r;
#X obj 549 373 r \$0-pick-sample-1-r;
#X obj 909 373 r \$0-pick-sample-2-r;
#X obj 1269 373 r \$0-pick-sample-3-r;
#X obj 1639 373 r \$0-pick-sample-4-r;
#X obj 1999 373 r \$0-pick-sample-5-r;
#X obj 2359 373 r \$0-pick-sample-6-r;
#X obj 2719 373 r \$0-pick-sample-7-r;
#X text 19 5 Notes:;
#X text 29 28 EACH TRIGGER BUTTON CONTAINS A SEND AND RECIEVE!;
#X obj 2902 187 bng 30 250 50 0 \$0-play-sample-8-s \$0-play-sample-8-r
Trigger 35 7 0 10 -262144 -1 -1;
#X floatatom 2937 345 5 0 0 0 - - -;
#X obj 3262 187 bng 30 250 50 0 \$0-play-sample-9-s \$0-play-sample-9-r
Trigger 35 7 0 10 -262144 -1 -1;
#X floatatom 3297 345 5 0 0 0 - - -;
#X obj 3622 187 bng 30 250 50 0 \$0-play-sample-10-s \$0-play-sample-10-r
Trigger 35 7 0 10 -262144 -1 -1;
#X floatatom 3657 345 5 0 0 0 - - -;
#X obj 3982 187 bng 30 250 50 0 \$0-play-sample-11-s \$0-play-sample-11-r
Trigger 35 7 0 10 -262144 -1 -1;
#X floatatom 4017 345 5 0 0 0 - - -;
#X obj 4342 187 bng 30 250 50 0 \$0-play-sample-12-s \$0-play-sample-12-r
Trigger 35 7 0 10 -262144 -1 -1;
#X floatatom 4377 345 5 0 0 0 - - -;
#X obj 4702 187 bng 30 250 50 0 \$0-play-sample-13-s \$0-play-sample-13-r
Trigger 35 7 0 10 -262144 -1 -1;
#X floatatom 4737 345 5 0 0 0 - - -;
#X obj 5062 187 bng 30 250 50 0 \$0-play-sample-14-s \$0-play-sample-14-r
Trigger 35 7 0 10 -262144 -1 -1;
#X floatatom 5097 345 5 0 0 0 - - -;
#X obj 5422 187 bng 30 250 50 0 \$0-play-sample-15-s \$0-play-sample-15-r
Trigger 35 7 0 10 -262144 -1 -1;
#X floatatom 5457 345 5 0 0 0 - - -;
#X obj 2902 121 r \$0-seq-gate-8-s;
#X obj 2937 243 r \$0-seq-pitch-8-s;
#X obj 3079 353 r \$0-sample-path-8-r;
#X obj 3079 373 r \$0-pick-sample-8-r;
#X obj 3262 121 r \$0-seq-gate-9-s;
#X obj 3297 243 r \$0-seq-pitch-9-s;
#X obj 3439 353 r \$0-sample-path-9-r;
#X obj 3439 373 r \$0-pick-sample-9-r;
#X obj 3622 121 r \$0-seq-gate-10-s;
#X obj 3657 243 r \$0-seq-pitch-10-s;
#X obj 3799 353 r \$0-sample-path-10-r;
#X obj 3799 373 r \$0-pick-sample-10-r;
#X obj 3982 121 r \$0-seq-gate-11-s;
#X obj 4017 243 r \$0-seq-pitch-11-s;
#X obj 4159 353 r \$0-sample-path-11-r;
#X obj 4159 373 r \$0-pick-sample-11-r;
#X obj 4342 121 r \$0-seq-gate-12-s;
#X obj 4377 243 r \$0-seq-pitch-12-s;
#X obj 4519 353 r \$0-sample-path-12-r;
#X obj 4519 373 r \$0-pick-sample-12-r;
#X obj 4702 121 r \$0-seq-gate-13-s;
#X obj 4737 243 r \$0-seq-pitch-13-s;
#X obj 4879 353 r \$0-sample-path-13-r;
#X obj 4879 373 r \$0-pick-sample-13-r;
#X obj 5062 121 r \$0-seq-gate-14-s;
#X obj 5097 243 r \$0-seq-pitch-14-s;
#X obj 5239 353 r \$0-sample-path-14-r;
#X obj 5239 373 r \$0-pick-sample-14-r;
#X obj 5422 121 r \$0-seq-gate-15-s;
#X obj 5457 243 r \$0-seq-pitch-15-s;
#X obj 5599 353 r \$0-sample-path-15-r;
#X obj 5599 373 r \$0-pick-sample-15-r;
#X text 13 889 \$0-sample-path is used to store the filenames in the
external text file \, and also to display the name of the current sample
onto the lcd.;
#X obj 12 146 sel 1;
#X obj 372 146 sel 1;
#X obj 732 146 sel 1;
#X obj 1092 146 sel 1;
#X obj 1462 146 sel 1;
#X obj 1822 146 sel 1;
#X obj 2182 146 sel 1;
#X obj 2542 146 sel 1;
#X obj 2902 146 sel 1;
#X obj 3262 146 sel 1;
#X obj 3622 146 sel 1;
#X obj 3982 146 sel 1;
#X obj 4342 146 sel 1;
#X obj 4702 146 sel 1;
#X obj 5062 146 sel 1;
#X obj 5422 146 sel 1;
#X obj 68 265 r \$0-pitch-in-0-s;
#X obj 68 290 t b f;
#X obj 424 292 t b f;
#X obj 424 267 r \$0-pitch-in-1-s;
#X obj 784 293 t b f;
#X obj 784 268 r \$0-pitch-in-2-s;
#X obj 1144 293 t b f;
#X obj 1144 268 r \$0-pitch-in-3-s;
#X obj 1514 293 t b f;
#X obj 1514 268 r \$0-pitch-in-4-s;
#X obj 1874 293 t b f;
#X obj 1874 268 r \$0-pitch-in-5-s;
#X obj 2234 293 t b f;
#X obj 2234 268 r \$0-pitch-in-6-s;
#X obj 2594 293 t b f;
#X obj 2594 269 r \$0-pitch-in-7-s;
#X obj 2954 293 t b f;
#X obj 3314 293 t b f;
#X obj 2954 269 r \$0-pitch-in-8-s;
#X obj 3314 269 r \$0-pitch-in-9-s;
#X obj 3674 293 t b f;
#X obj 4034 293 t b f;
#X obj 4394 293 t b f;
#X obj 4394 269 r \$0-pitch-in-12-s;
#X obj 4034 269 r \$0-pitch-in-11-s;
#X obj 3674 269 r \$0-pitch-in-10-s;
#X obj 4754 293 t b f;
#X obj 5114 293 t b f;
#X obj 5474 293 t b f;
#X obj 4754 269 r \$0-pitch-in-13-s;
#X obj 5114 269 r \$0-pitch-in-14-s;
#X obj 5474 269 r \$0-pitch-in-15-s;
#X obj 11 864 send~ \$0-audio-out-L-0;
#X obj 21 844 send~ \$0-audio-out-R-0;
#X obj 371 862 send~ \$0-audio-out-L-1;
#X obj 381 842 send~ \$0-audio-out-R-1;
#X obj 741 843 send~ \$0-audio-out-R-2;
#X obj 731 863 send~ \$0-audio-out-L-2;
#X obj 1091 863 send~ \$0-audio-out-L-3;
#X obj 1461 863 send~ \$0-audio-out-L-4;
#X obj 1101 843 send~ \$0-audio-out-R-3;
#X obj 1471 843 send~ \$0-audio-out-R-4;
#X obj 1831 844 send~ \$0-audio-out-R-5;
#X obj 2192 843 send~ \$0-audio-out-R-6;
#X obj 2551 843 send~ \$0-audio-out-R-7;
#X obj 2911 843 send~ \$0-audio-out-R-8;
#X obj 3271 843 send~ \$0-audio-out-R-9;
#X obj 3632 842 send~ \$0-audio-out-R-10;
#X obj 3991 843 send~ \$0-audio-out-R-11;
#X obj 4351 843 send~ \$0-audio-out-R-12;
#X obj 4712 844 send~ \$0-audio-out-R-13;
#X obj 5071 843 send~ \$0-audio-out-R-14;
#X obj 5431 843 send~ \$0-audio-out-R-15;
#X obj 1821 864 send~ \$0-audio-out-L-5;
#X obj 2182 863 send~ \$0-audio-out-L-6;
#X obj 2541 863 send~ \$0-audio-out-L-7;
#X obj 2901 863 send~ \$0-audio-out-L-8;
#X obj 3261 863 send~ \$0-audio-out-L-9;
#X obj 3622 862 send~ \$0-audio-out-L-10;
#X obj 3981 863 send~ \$0-audio-out-L-11;
#X obj 4341 863 send~ \$0-audio-out-L-12;
#X obj 4702 864 send~ \$0-audio-out-L-13;
#X obj 5061 863 send~ \$0-audio-out-L-14;
#X obj 5421 863 send~ \$0-audio-out-L-15;
#X obj 83 403 r \$0-sample-start-position-0;
#X obj 118 423 r \$0-sample-length-0;
#X obj 154 443 r \$0-sample-rate-0;
#X obj 443 403 r \$0-sample-start-position-1;
#X obj 478 423 r \$0-sample-length-1;
#X obj 514 443 r \$0-sample-rate-1;
#X obj 803 403 r \$0-sample-start-position-2;
#X obj 838 423 r \$0-sample-length-2;
#X obj 874 443 r \$0-sample-rate-2;
#X obj 1163 403 r \$0-sample-start-position-3;
#X obj 1198 423 r \$0-sample-length-3;
#X obj 1234 443 r \$0-sample-rate-3;
#X obj 1533 403 r \$0-sample-start-position-4;
#X obj 1568 423 r \$0-sample-length-4;
#X obj 1604 443 r \$0-sample-rate-4;
#X obj 1893 403 r \$0-sample-start-position-5;
#X obj 1928 423 r \$0-sample-length-5;
#X obj 1964 443 r \$0-sample-rate-5;
#X obj 2253 403 r \$0-sample-start-position-6;
#X obj 2288 423 r \$0-sample-length-6;
#X obj 2324 443 r \$0-sample-rate-6;
#X obj 2613 403 r \$0-sample-start-position-7;
#X obj 2648 423 r \$0-sample-length-7;
#X obj 2684 443 r \$0-sample-rate-7;
#X obj 2973 403 r \$0-sample-start-position-8;
#X obj 3008 423 r \$0-sample-length-8;
#X obj 3044 443 r \$0-sample-rate-8;
#X obj 3333 403 r \$0-sample-start-position-9;
#X obj 3368 423 r \$0-sample-length-9;
#X obj 3404 443 r \$0-sample-rate-9;
#X obj 3693 403 r \$0-sample-start-position-10;
#X obj 3728 423 r \$0-sample-length-10;
#X obj 3764 443 r \$0-sample-rate-10;
#X obj 4053 403 r \$0-sample-start-position-11;
#X obj 4088 423 r \$0-sample-length-11;
#X obj 4124 443 r \$0-sample-rate-11;
#X obj 4413 403 r \$0-sample-start-position-12;
#X obj 4448 423 r \$0-sample-length-12;
#X obj 4484 443 r \$0-sample-rate-12;
#X obj 4773 403 r \$0-sample-start-position-13;
#X obj 4808 423 r \$0-sample-length-13;
#X obj 4844 443 r \$0-sample-rate-13;
#X obj 5133 403 r \$0-sample-start-position-14;
#X obj 5168 423 r \$0-sample-length-14;
#X obj 5204 443 r \$0-sample-rate-14;
#X obj 5493 403 r \$0-sample-start-position-15;
#X obj 5528 423 r \$0-sample-length-15;
#X obj 5564 443 r \$0-sample-rate-15;
#X floatatom 102 462 5 0 0 0 - - -;
#X floatatom 62 457 5 0 0 0 - - -;
#X obj 5457 317 * 1;
#X obj 5097 317 * 1;
#X obj 4737 317 * 1;
#X obj 4377 317 * 1;
#X obj 4017 317 * 1;
#X obj 3657 317 * 1;
#X obj 3297 317 * 1;
#X obj 2937 317 * 1;
#X obj 2577 317 * 1;
#X obj 2217 317 * 1;
#X obj 1857 317 * 1;
#X obj 1497 317 * 1;
#X obj 1127 317 * 1;
#X obj 767 317 * 1;
#X obj 407 316 * 1;
#X obj 47 314 * 1;
#X obj 325 775 s \$0-current-sample-patch-id;
#X text 467 891 \$0-current-sample-patch-id is used to display the
array waveform onto the LCD \, since we need the data from the array.
This way we don't have to reload the file.;
#X obj 372 503 tbc-utils/tbc-sample-player;
#X obj 12 503 tbc-utils/tbc-sample-player;
#X obj 732 503 tbc-utils/tbc-sample-player;
#X obj 1092 503 tbc-utils/tbc-sample-player;
#X obj 1462 503 tbc-utils/tbc-sample-player;
#X obj 1822 503 tbc-utils/tbc-sample-player;
#X obj 2182 503 tbc-utils/tbc-sample-player;
#X obj 2542 503 tbc-utils/tbc-sample-player;
#X obj 2902 503 tbc-utils/tbc-sample-player;
#X obj 3262 503 tbc-utils/tbc-sample-player;
#X obj 3622 503 tbc-utils/tbc-sample-player;
#X obj 3982 503 tbc-utils/tbc-sample-player;
#X obj 4342 503 tbc-utils/tbc-sample-player;
#X obj 4702 503 tbc-utils/tbc-sample-player;
#X obj 5062 503 tbc-utils/tbc-sample-player;
#X obj 5422 503 tbc-utils/tbc-sample-player;
#X connect 0 0 250 0;
#X connect 2 0 101 0;
#X connect 3 0 246 0;
#X connect 4 0 250 1;
#X connect 5 0 249 0;
#X connect 6 0 249 1;
#X connect 7 0 102 0;
#X connect 8 0 245 0;
#X connect 9 0 250 6;
#X connect 11 0 249 6;
#X connect 12 0 251 0;
#X connect 13 0 251 1;
#X connect 14 0 252 0;
#X connect 15 0 252 1;
#X connect 16 0 103 0;
#X connect 17 0 244 0;
#X connect 18 0 251 6;
#X connect 19 0 104 0;
#X connect 20 0 243 0;
#X connect 21 0 252 6;
#X connect 22 0 253 0;
#X connect 23 0 253 1;
#X connect 24 0 254 0;
#X connect 25 0 254 1;
#X connect 26 0 255 0;
#X connect 27 0 255 1;
#X connect 28 0 256 0;
#X connect 29 0 256 1;
#X connect 30 0 105 0;
#X connect 31 0 242 0;
#X connect 32 0 253 6;
#X connect 33 0 106 0;
#X connect 34 0 241 0;
#X connect 35 0 254 6;
#X connect 36 0 107 0;
#X connect 37 0 240 0;
#X connect 38 0 255 6;
#X connect 39 0 108 0;
#X connect 40 0 239 0;
#X connect 41 0 256 6;
#X connect 42 0 250 5;
#X connect 43 0 249 5;
#X connect 44 0 251 5;
#X connect 45 0 252 5;
#X connect 46 0 253 5;
#X connect 47 0 254 5;
#X connect 48 0 255 5;
#X connect 49 0 256 5;
#X connect 52 0 257 0;
#X connect 53 0 257 1;
#X connect 54 0 258 0;
#X connect 55 0 258 1;
#X connect 56 0 259 0;
#X connect 57 0 259 1;
#X connect 58 0 260 0;
#X connect 59 0 260 1;
#X connect 60 0 261 0;
#X connect 61 0 261 1;
#X connect 62 0 262 0;
#X connect 63 0 262 1;
#X connect 64 0 263 0;
#X connect 65 0 263 1;
#X connect 66 0 264 0;
#X connect 67 0 264 1;
#X connect 68 0 109 0;
#X connect 69 0 238 0;
#X connect 70 0 257 6;
#X connect 71 0 257 5;
#X connect 72 0 110 0;
#X connect 73 0 237 0;
#X connect 74 0 258 6;
#X connect 75 0 258 5;
#X connect 76 0 111 0;
#X connect 77 0 236 0;
#X connect 78 0 259 6;
#X connect 79 0 259 5;
#X connect 80 0 112 0;
#X connect 81 0 235 0;
#X connect 82 0 260 6;
#X connect 83 0 260 5;
#X connect 84 0 113 0;
#X connect 85 0 234 0;
#X connect 86 0 261 6;
#X connect 87 0 261 5;
#X connect 88 0 114 0;
#X connect 89 0 233 0;
#X connect 90 0 262 6;
#X connect 91 0 262 5;
#X connect 92 0 115 0;
#X connect 93 0 232 0;
#X connect 94 0 263 6;
#X connect 95 0 263 5;
#X connect 96 0 116 0;
#X connect 97 0 231 0;
#X connect 98 0 264 6;
#X connect 99 0 264 5;
#X connect 101 0 0 0;
#X connect 102 0 5 0;
#X connect 103 0 12 0;
#X connect 104 0 14 0;
#X connect 105 0 22 0;
#X connect 106 0 24 0;
#X connect 107 0 26 0;
#X connect 108 0 28 0;
#X connect 109 0 52 0;
#X connect 110 0 54 0;
#X connect 111 0 56 0;
#X connect 112 0 58 0;
#X connect 113 0 60 0;
#X connect 114 0 62 0;
#X connect 115 0 64 0;
#X connect 116 0 66 0;
#X connect 117 0 118 0;
#X connect 118 0 246 0;
#X connect 118 1 246 1;
#X connect 119 0 245 0;
#X connect 119 1 245 1;
#X connect 120 0 119 0;
#X connect 121 0 244 0;
#X connect 121 1 244 1;
#X connect 122 0 121 0;
#X connect 123 0 243 0;
#X connect 123 1 243 1;
#X connect 124 0 123 0;
#X connect 125 0 242 0;
#X connect 125 1 242 1;
#X connect 126 0 125 0;
#X connect 127 0 241 0;
#X connect 127 1 241 1;
#X connect 128 0 127 0;
#X connect 129 0 240 0;
#X connect 129 1 240 1;
#X connect 130 0 129 0;
#X connect 131 0 239 0;
#X connect 131 1 239 1;
#X connect 132 0 131 0;
#X connect 133 0 238 0;
#X connect 133 1 238 1;
#X connect 134 0 237 0;
#X connect 134 1 237 1;
#X connect 135 0 133 0;
#X connect 136 0 134 0;
#X connect 137 0 236 0;
#X connect 137 1 236 1;
#X connect 138 0 235 0;
#X connect 138 1 235 1;
#X connect 139 0 234 0;
#X connect 139 1 234 1;
#X connect 140 0 139 0;
#X connect 141 0 138 0;
#X connect 142 0 137 0;
#X connect 143 0 233 0;
#X connect 143 1 233 1;
#X connect 144 0 232 0;
#X connect 144 1 232 1;
#X connect 145 0 231 0;
#X connect 145 1 231 1;
#X connect 146 0 143 0;
#X connect 147 0 144 0;
#X connect 148 0 145 0;
#X connect 181 0 230 0;
#X connect 181 0 250 2;
#X connect 182 0 229 0;
#X connect 182 0 250 3;
#X connect 183 0 250 4;
#X connect 184 0 249 2;
#X connect 185 0 249 3;
#X connect 186 0 249 4;
#X connect 187 0 251 2;
#X connect 188 0 251 3;
#X connect 189 0 251 4;
#X connect 190 0 252 2;
#X connect 191 0 252 3;
#X connect 192 0 252 4;
#X connect 193 0 253 2;
#X connect 194 0 253 3;
#X connect 195 0 253 4;
#X connect 196 0 254 2;
#X connect 197 0 254 3;
#X connect 198 0 254 4;
#X connect 199 0 255 2;
#X connect 200 0 255 3;
#X connect 201 0 255 4;
#X connect 202 0 256 2;
#X connect 203 0 256 3;
#X connect 204 0 256 4;
#X connect 205 0 257 2;
#X connect 206 0 257 3;
#X connect 207 0 257 4;
#X connect 208 0 258 2;
#X connect 209 0 258 3;
#X connect 210 0 258 4;
#X connect 211 0 259 2;
#X connect 212 0 259 3;
#X connect 213 0 259 4;
#X connect 214 0 260 2;
#X connect 215 0 260 3;
#X connect 216 0 260 4;
#X connect 217 0 261 2;
#X connect 218 0 261 3;
#X connect 219 0 261 4;
#X connect 220 0 262 2;
#X connect 221 0 262 3;
#X connect 222 0 262 4;
#X connect 223 0 263 2;
#X connect 224 0 263 3;
#X connect 225 0 263 4;
#X connect 226 0 264 2;
#X connect 227 0 264 3;
#X connect 228 0 264 4;
#X connect 231 0 67 0;
#X connect 232 0 65 0;
#X connect 233 0 63 0;
#X connect 234 0 61 0;
#X connect 235 0 59 0;
#X connect 236 0 57 0;
#X connect 237 0 55 0;
#X connect 238 0 53 0;
#X connect 239 0 29 0;
#X connect 240 0 27 0;
#X connect 241 0 25 0;
#X connect 242 0 23 0;
#X connect 243 0 15 0;
#X connect 244 0 13 0;
#X connect 245 0 6 0;
#X connect 246 0 4 0;
#X connect 249 0 151 0;
#X connect 249 1 152 0;
#X connect 249 2 10 0;
#X connect 249 3 247 0;
#X connect 250 0 149 0;
#X connect 250 1 150 0;
#X connect 250 2 10 0;
#X connect 250 3 247 0;
#X connect 251 0 154 0;
#X connect 251 1 153 0;
#X connect 251 2 10 0;
#X connect 251 3 247 0;
#X connect 252 0 155 0;
#X connect 252 1 157 0;
#X connect 252 2 10 0;
#X connect 252 3 247 0;
#X connect 253 0 156 0;
#X connect 253 1 158 0;
#X connect 253 2 10 0;
#X connect 253 3 247 0;
#X connect 254 0 170 0;
#X connect 254 1 159 0;
#X connect 254 2 10 0;
#X connect 254 3 247 0;
#X connect 255 0 171 0;
#X connect 255 1 160 0;
#X connect 255 2 10 0;
#X connect 255 3 247 0;
#X connect 256 0 172 0;
#X connect 256 1 161 0;
#X connect 256 2 10 0;
#X connect 256 3 247 0;
#X connect 257 0 173 0;
#X connect 257 1 162 0;
#X connect 257 2 10 0;
#X connect 257 3 247 0;
#X connect 258 0 174 0;
#X connect 258 1 163 0;
#X connect 258 2 10 0;
#X connect 258 3 247 0;
#X connect 259 0 175 0;
#X connect 259 1 164 0;
#X connect 259 2 10 0;
#X connect 259 3 247 0;
#X connect 260 0 176 0;
#X connect 260 1 165 0;
#X connect 260 2 10 0;
#X connect 260 3 247 0;
#X connect 261 0 177 0;
#X connect 261 1 166 0;
#X connect 261 2 10 0;
#X connect 261 3 247 0;
#X connect 262 0 178 0;
#X connect 262 1 167 0;
#X connect 262 2 10 0;
#X connect 262 3 247 0;
#X connect 263 0 179 0;
#X connect 263 1 168 0;
#X connect 263 2 10 0;
#X connect 263 3 247 0;
#X connect 264 0 180 0;
#X connect 264 1 169 0;
#X connect 264 2 10 0;
#X connect 264 3 247 0;
#X restore 20 14 pd all-16-samplers;
#N canvas 243 319 690 177 volume-for-samplers 0;
#X text 175 108 Catch the audio out from all 16 samplers and change
their volumes;
#X text 176 61 Store the volume knobs and display them when the write
button is off;
#N canvas 92 129 1086 872 volume-knobs 0;
#X text 594 438 Use a step sequencer from the sequencer sub-patch to
store the 16 volumes. We don't need the gate information \, so it is
not connected;
#X obj 49 13 r \$0-packed-grid-knobs;
#X obj 49 183 spigot 1;
#X text 518 534 The sequence is loaded using load-to-grid within the
patterns subpatch. The name of the input is called "\$0-packed-pitch-seq"
but it is actually just values from 0-1 \, so in this case we are sending
volume data instead of pitch data;
#X obj 416 477 tbc-utils/step-seq;
#X obj 49 532 s \$0-sample-volume-0;
#X obj 69 552 s \$0-sample-volume-1;
#X obj 89 572 s \$0-sample-volume-2;
#X obj 109 592 s \$0-sample-volume-3;
#X obj 129 612 s \$0-sample-volume-4;
#X obj 149 632 s \$0-sample-volume-5;
#X obj 169 652 s \$0-sample-volume-6;
#X obj 189 672 s \$0-sample-volume-7;
#X obj 209 692 s \$0-sample-volume-8;
#X obj 229 712 s \$0-sample-volume-9;
#X obj 249 732 s \$0-sample-volume-10;
#X obj 269 752 s \$0-sample-volume-11;
#X obj 289 772 s \$0-sample-volume-12;
#X obj 309 792 s \$0-sample-volume-13;
#X obj 329 812 s \$0-sample-volume-14;
#X obj 350 832 s \$0-sample-volume-15;
#X obj 49 467 unpack f f f f f f f f f f f f f f f f;
#X obj 570 222 r \$0-load-sample-volumes-to-grid;
#X obj 49 438 t a;
#X obj 114 350 r \$0-sample-volumes-to-load;
#X obj 521 510 s \$0-packed-pitch-seq;
#X msg 561 76 0;
#X obj 435 83 t b b;
#X msg 435 137 1;
#X msg 472 284 1;
#X obj 500 337 spigot 0;
#X obj 631 6 r \$0-global-state-off;
#X obj 435 5 r \$0-global-state-on;
#X obj 435 31 sel one-shot-mode;
#X obj 631 31 sel one-shot-mode;
#N canvas 509 50 591 797 receive-volumes 0;
#X obj 197 407 t b f;
#X obj 207 427 t b f;
#X obj 217 447 t b f;
#X obj 227 467 t b f;
#X obj 237 487 t b f;
#X obj 247 507 t b f;
#X obj 257 527 t b f;
#X obj 267 547 t b f;
#X obj 277 567 t b f;
#X obj 287 587 t b f;
#X obj 297 607 t b f;
#X obj 307 627 t b f;
#X obj 317 647 t b f;
#X obj 327 667 t b f;
#X obj 337 687 t b f;
#X obj 89 718 pack f f f f f f f f f f f f f f f f;
#X obj 89 743 outlet;
#X obj 187 229 r \$0-sample-volume-0;
#X obj 197 249 r \$0-sample-volume-1;
#X obj 207 269 r \$0-sample-volume-2;
#X obj 217 289 r \$0-sample-volume-3;
#X obj 227 309 r \$0-sample-volume-4;
#X obj 237 329 r \$0-sample-volume-5;
#X obj 247 349 r \$0-sample-volume-6;
#X obj 257 369 r \$0-sample-volume-7;
#X obj 267 389 r \$0-sample-volume-8;
#X obj 277 409 r \$0-sample-volume-9;
#X obj 287 429 r \$0-sample-volume-10;
#X obj 297 449 r \$0-sample-volume-11;
#X obj 307 469 r \$0-sample-volume-12;
#X obj 317 489 r \$0-sample-volume-13;
#X obj 327 509 r \$0-sample-volume-14;
#X obj 337 529 r \$0-sample-volume-15;
#X text 45 26 Receive the incoming data and pack them into a list for
the sequencer to hold onto. Note that the step-sequencer is used in
this case just as a way to store 16 values \, not as an actual step
sequencer.;
#X text 45 106 This patch allows any change made to the data to be
stored \, whether it is coming from the knobs \, from the save file
\, or from an external source.;
#X connect 0 0 15 0;
#X connect 0 1 15 1;
#X connect 1 0 15 0;
#X connect 1 1 15 2;
#X connect 2 0 15 0;
#X connect 2 1 15 3;
#X connect 3 0 15 0;
#X connect 3 1 15 4;
#X connect 4 0 15 0;
#X connect 4 1 15 5;
#X connect 5 0 15 0;
#X connect 5 1 15 6;
#X connect 6 0 15 0;
#X connect 6 1 15 7;
#X connect 7 0 15 0;
#X connect 7 1 15 8;
#X connect 8 0 15 0;
#X connect 8 1 15 9;
#X connect 9 0 15 0;
#X connect 9 1 15 10;
#X connect 10 0 15 0;
#X connect 10 1 15 11;
#X connect 11 0 15 0;
#X connect 11 1 15 12;
#X connect 12 0 15 0;
#X connect 12 1 15 13;
#X connect 13 0 15 0;
#X connect 13 1 15 14;
#X connect 14 0 15 0;
#X connect 14 1 15 15;
#X connect 15 0 16 0;
#X connect 17 0 15 0;
#X connect 18 0 0 0;
#X connect 19 0 1 0;
#X connect 20 0 2 0;
#X connect 21 0 3 0;
#X connect 22 0 4 0;
#X connect 23 0 5 0;
#X connect 24 0 6 0;
#X connect 25 0 7 0;
#X connect 26 0 8 0;
#X connect 27 0 9 0;
#X connect 28 0 10 0;
#X connect 29 0 11 0;
#X connect 30 0 12 0;
#X connect 31 0 13 0;
#X connect 32 0 14 0;
#X restore 608 277 pd receive-volumes;
#X obj 669 307 == 0;
#X obj 561 287 t f;
#X obj 608 337 spigot 1;
#X connect 1 0 2 0;
#X connect 2 0 23 0;
#X connect 2 0 30 0;
#X connect 4 3 25 0;
#X connect 21 0 5 0;
#X connect 21 1 6 0;
#X connect 21 2 7 0;
#X connect 21 3 8 0;
#X connect 21 4 9 0;
#X connect 21 5 10 0;
#X connect 21 6 11 0;
#X connect 21 7 12 0;
#X connect 21 8 13 0;
#X connect 21 9 14 0;
#X connect 21 10 15 0;
#X connect 21 11 16 0;
#X connect 21 12 17 0;
#X connect 21 13 18 0;
#X connect 21 14 19 0;
#X connect 21 15 20 0;
#X connect 22 0 29 0;
#X connect 23 0 21 0;
#X connect 24 0 23 0;
#X connect 24 0 4 3;
#X connect 26 0 2 1;
#X connect 26 0 37 0;
#X connect 27 0 28 0;
#X connect 27 1 29 0;
#X connect 28 0 2 1;
#X connect 28 0 37 0;
#X connect 29 0 4 2;
#X connect 30 0 4 3;
#X connect 31 0 34 0;
#X connect 32 0 33 0;
#X connect 33 0 27 0;
#X connect 34 1 26 0;
#X connect 35 0 38 0;
#X connect 36 0 38 1;
#X connect 37 0 30 1;
#X connect 37 0 36 0;
#X connect 38 0 4 3;
#X restore 29 64 pd volume-knobs;
#N canvas 76 113 1619 815 catch-audio 0;
#X obj 46 425 *~;
#X obj 66 445 *~;
#X obj 86 465 *~;
#X obj 106 485 *~;
#X obj 126 505 *~;
#X obj 146 525 *~;
#X obj 166 545 *~;
#X obj 186 565 *~;
#X obj 206 585 *~;
#X obj 226 605 *~;
#X obj 246 625 *~;
#X obj 266 645 *~;
#X obj 286 665 *~;
#X obj 306 685 *~;
#X obj 326 705 *~;
#X obj 346 725 *~;
#X obj 1104 406 line~;
#X obj 1124 426 line~;
#X obj 1144 446 line~;
#X obj 1164 466 line~;
#X obj 1184 486 line~;
#X obj 1204 506 line~;
#X obj 1224 526 line~;
#X obj 1244 546 line~;
#X obj 1264 566 line~;
#X obj 1284 586 line~;
#X obj 1304 606 line~;
#X obj 1324 626 line~;
#X obj 1344 646 line~;
#X obj 1364 666 line~;
#X obj 1384 686 line~;
#X obj 1404 706 line~;
#X obj 45 79 receive~ \$0-audio-out-L-0;
#X obj 65 99 receive~ \$0-audio-out-L-1;
#X obj 85 119 receive~ \$0-audio-out-L-2;
#X obj 105 139 receive~ \$0-audio-out-L-3;
#X obj 125 159 receive~ \$0-audio-out-L-4;
#X obj 145 179 receive~ \$0-audio-out-L-5;
#X obj 166 199 receive~ \$0-audio-out-L-6;
#X obj 185 219 receive~ \$0-audio-out-L-7;
#X obj 205 239 receive~ \$0-audio-out-L-8;
#X obj 225 259 receive~ \$0-audio-out-L-9;
#X obj 245 279 receive~ \$0-audio-out-L-10;
#X obj 265 299 receive~ \$0-audio-out-L-11;
#X obj 285 319 receive~ \$0-audio-out-L-12;
#X obj 305 339 receive~ \$0-audio-out-L-13;
#X obj 325 359 receive~ \$0-audio-out-L-14;
#X obj 346 379 receive~ \$0-audio-out-L-15;
#X obj 576 425 *~;
#X obj 596 445 *~;
#X obj 616 465 *~;
#X obj 636 485 *~;
#X obj 656 505 *~;
#X obj 676 525 *~;
#X obj 696 545 *~;
#X obj 716 565 *~;
#X obj 736 585 *~;
#X obj 756 605 *~;
#X obj 776 625 *~;
#X obj 796 645 *~;
#X obj 816 665 *~;
#X obj 836 685 *~;
#X obj 856 705 *~;
#X obj 876 725 *~;
#X obj 47 744 throw~ \$0-audio-out-L;
#X obj 577 744 throw~ \$0-audio-out-R;
#X obj 575 79 receive~ \$0-audio-out-R-0;
#X obj 595 99 receive~ \$0-audio-out-R-1;
#X obj 615 119 receive~ \$0-audio-out-R-2;
#X obj 635 139 receive~ \$0-audio-out-R-3;
#X obj 655 159 receive~ \$0-audio-out-R-4;
#X obj 676 179 receive~ \$0-audio-out-R-5;
#X obj 696 199 receive~ \$0-audio-out-R-6;
#X obj 715 219 receive~ \$0-audio-out-R-7;
#X obj 735 239 receive~ \$0-audio-out-R-8;
#X obj 755 259 receive~ \$0-audio-out-R-9;
#X obj 775 279 receive~ \$0-audio-out-R-10;
#X obj 795 299 receive~ \$0-audio-out-R-11;
#X obj 815 319 receive~ \$0-audio-out-R-12;
#X obj 835 339 receive~ \$0-audio-out-R-13;
#X obj 855 359 receive~ \$0-audio-out-R-14;
#X obj 876 379 receive~ \$0-audio-out-R-15;
#X obj 1104 24 r \$0-sample-volume-0;
#X obj 1124 44 r \$0-sample-volume-1;
#X obj 1144 64 r \$0-sample-volume-2;
#X obj 1164 84 r \$0-sample-volume-3;
#X obj 1184 104 r \$0-sample-volume-4;
#X obj 1204 124 r \$0-sample-volume-5;
#X obj 1224 144 r \$0-sample-volume-6;
#X obj 1244 164 r \$0-sample-volume-7;
#X obj 1264 184 r \$0-sample-volume-8;
#X obj 1284 204 r \$0-sample-volume-9;
#X obj 1304 224 r \$0-sample-volume-10;
#X obj 1324 244 r \$0-sample-volume-11;
#X obj 1344 264 r \$0-sample-volume-12;
#X obj 1364 284 r \$0-sample-volume-13;
#X obj 1384 304 r \$0-sample-volume-14;
#X obj 1404 324 r \$0-sample-volume-15;
#X obj 1124 346 pack 0 1;
#X obj 1104 326 pack 0 1;
#X obj 1144 366 pack 0 1;
#X obj 1164 386 pack 0 1;
#X obj 1184 406 pack 0 1;
#X obj 1204 426 pack 0 1;
#X obj 1224 446 pack 0 1;
#X obj 1244 466 pack 0 1;
#X obj 1264 486 pack 0 1;
#X obj 1284 506 pack 0 1;
#X obj 1304 526 pack 0 1;
#X obj 1324 546 pack 0 1;
#X obj 1344 566 pack 0 1;
#X obj 1364 586 pack 0 1;
#X obj 1384 606 pack 0 1;
#X obj 1404 626 pack 0 1;
#X text 45 11 Catch the audio out from all 16 sampler objects \, and
multiply it by the sample volumes.;
#X obj 1404 526 tbc-utils/lin-to-log;
#X obj 1104 226 tbc-utils/lin-to-log;
#X obj 1124 246 tbc-utils/lin-to-log;
#X obj 1144 266 tbc-utils/lin-to-log;
#X obj 1164 286 tbc-utils/lin-to-log;
#X obj 1184 306 tbc-utils/lin-to-log;
#X obj 1204 326 tbc-utils/lin-to-log;
#X obj 1224 346 tbc-utils/lin-to-log;
#X obj 1244 366 tbc-utils/lin-to-log;
#X obj 1264 386 tbc-utils/lin-to-log;
#X obj 1284 406 tbc-utils/lin-to-log;
#X obj 1304 426 tbc-utils/lin-to-log;
#X obj 1324 446 tbc-utils/lin-to-log;
#X obj 1344 466 tbc-utils/lin-to-log;
#X obj 1364 486 tbc-utils/lin-to-log;
#X obj 1384 506 tbc-utils/lin-to-log;
#X connect 0 0 64 0;
#X connect 1 0 64 0;
#X connect 2 0 64 0;
#X connect 3 0 64 0;
#X connect 4 0 64 0;
#X connect 5 0 64 0;
#X connect 6 0 64 0;
#X connect 7 0 64 0;
#X connect 8 0 64 0;
#X connect 9 0 64 0;
#X connect 10 0 64 0;
#X connect 11 0 64 0;
#X connect 12 0 64 0;
#X connect 13 0 64 0;
#X connect 14 0 64 0;
#X connect 15 0 64 0;
#X connect 16 0 0 1;
#X connect 16 0 48 1;
#X connect 17 0 1 1;
#X connect 17 0 49 1;
#X connect 18 0 2 1;
#X connect 18 0 50 1;
#X connect 19 0 3 1;
#X connect 19 0 51 1;
#X connect 20 0 4 1;
#X connect 20 0 52 1;
#X connect 21 0 5 1;
#X connect 21 0 53 1;
#X connect 22 0 6 1;
#X connect 22 0 54 1;
#X connect 23 0 7 1;
#X connect 23 0 55 1;
#X connect 24 0 8 1;
#X connect 24 0 56 1;
#X connect 25 0 9 1;
#X connect 25 0 57 1;
#X connect 26 0 10 1;
#X connect 26 0 58 1;
#X connect 27 0 11 1;
#X connect 27 0 59 1;
#X connect 28 0 12 1;
#X connect 28 0 60 1;
#X connect 29 0 13 1;
#X connect 29 0 61 1;
#X connect 30 0 14 1;
#X connect 30 0 62 1;
#X connect 31 0 15 1;
#X connect 31 0 63 1;
#X connect 32 0 0 0;
#X connect 33 0 1 0;
#X connect 34 0 2 0;
#X connect 35 0 3 0;
#X connect 36 0 4 0;
#X connect 37 0 5 0;
#X connect 38 0 6 0;
#X connect 39 0 7 0;
#X connect 40 0 8 0;
#X connect 41 0 9 0;
#X connect 42 0 10 0;
#X connect 43 0 11 0;
#X connect 44 0 12 0;
#X connect 45 0 13 0;
#X connect 46 0 14 0;
#X connect 47 0 15 0;
#X connect 48 0 65 0;
#X connect 49 0 65 0;
#X connect 50 0 65 0;
#X connect 51 0 65 0;
#X connect 52 0 65 0;
#X connect 53 0 65 0;
#X connect 54 0 65 0;
#X connect 55 0 65 0;
#X connect 56 0 65 0;
#X connect 57 0 65 0;
#X connect 58 0 65 0;
#X connect 59 0 65 0;
#X connect 60 0 65 0;
#X connect 61 0 65 0;
#X connect 62 0 65 0;
#X connect 63 0 65 0;
#X connect 66 0 48 0;
#X connect 67 0 49 0;
#X connect 68 0 50 0;
#X connect 69 0 51 0;
#X connect 70 0 52 0;
#X connect 71 0 53 0;
#X connect 72 0 54 0;
#X connect 73 0 55 0;
#X connect 74 0 56 0;
#X connect 75 0 57 0;
#X connect 76 0 58 0;
#X connect 77 0 59 0;
#X connect 78 0 60 0;
#X connect 79 0 61 0;
#X connect 80 0 62 0;
#X connect 81 0 63 0;
#X connect 82 0 116 0;
#X connect 83 0 117 0;
#X connect 84 0 118 0;
#X connect 85 0 119 0;
#X connect 86 0 120 0;
#X connect 87 0 121 0;
#X connect 88 0 122 0;
#X connect 89 0 123 0;
#X connect 90 0 124 0;
#X connect 91 0 125 0;
#X connect 92 0 126 0;
#X connect 93 0 127 0;
#X connect 94 0 128 0;
#X connect 95 0 129 0;
#X connect 96 0 130 0;
#X connect 97 0 115 0;
#X connect 98 0 17 0;
#X connect 99 0 16 0;
#X connect 100 0 18 0;
#X connect 101 0 19 0;
#X connect 102 0 20 0;
#X connect 103 0 21 0;
#X connect 104 0 22 0;
#X connect 105 0 23 0;
#X connect 106 0 24 0;
#X connect 107 0 25 0;
#X connect 108 0 26 0;
#X connect 109 0 27 0;
#X connect 110 0 28 0;
#X connect 111 0 29 0;
#X connect 112 0 30 0;
#X connect 113 0 31 0;
#X connect 115 0 113 0;
#X connect 116 0 99 0;
#X connect 117 0 98 0;
#X connect 118 0 100 0;
#X connect 119 0 101 0;
#X connect 120 0 102 0;
#X connect 121 0 103 0;
#X connect 122 0 104 0;
#X connect 123 0 105 0;
#X connect 124 0 106 0;
#X connect 125 0 107 0;
#X connect 126 0 108 0;
#X connect 127 0 109 0;
#X connect 128 0 110 0;
#X connect 129 0 111 0;
#X connect 130 0 112 0;
#X restore 29 114 pd catch-audio;
#N canvas 516 373 467 182 init-sample-volumes 0;
#X obj 35 131 s \$0-sample-volumes-to-load;
#X text 48 64 Default sample volumes;
#X msg 35 90 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1;
#X obj 35 28 r \$0-reset-sample-volumes;
#X connect 2 0 0 0;
#X connect 3 0 2 0;
#X restore 29 24 pd init-sample-volumes;
#X restore 20 44 pd volume-for-samplers;
#N canvas 961 362 742 210 sample-length-and-start-positions 0;
#X text 214 152 <--Load the sample length values to the knobs;
#N canvas 135 74 1086 846 sample-length-knobs 0;
#X obj 80 34 r \$0-packed-grid-knobs;
#X msg 579 123 0;
#X obj 80 418 unpack f f f f f f f f f f f f f f f f;
#X obj 539 485 s \$0-packed-pitch-seq;
#X obj 453 130 t b b;
#X msg 448 194 1;
#X obj 434 458 tbc-utils/step-seq;
#X msg 490 331 1;
#X text 707 22 Load the fx param values to the knobs;
#X obj 518 364 spigot 0;
#X obj 141 201 f;
#X obj 140 346 r \$0-sample-lengths-to-load;
#X obj 453 78 sel samples-mode;
#X obj 80 503 s \$0-sample-length-0;
#X obj 100 523 s \$0-sample-length-1;
#X obj 120 543 s \$0-sample-length-2;
#X obj 140 563 s \$0-sample-length-3;
#X obj 160 583 s \$0-sample-length-4;
#X obj 179 603 s \$0-sample-length-5;
#X obj 200 623 s \$0-sample-length-6;
#X obj 220 643 s \$0-sample-length-7;
#X obj 240 663 s \$0-sample-length-8;
#X obj 260 683 s \$0-sample-length-9;
#X obj 280 703 s \$0-sample-length-10;
#X obj 300 723 s \$0-sample-length-11;
#X obj 320 743 s \$0-sample-length-12;
#X obj 340 763 s \$0-sample-length-13;
#X obj 360 783 s \$0-sample-length-14;
#X obj 381 803 s \$0-sample-length-15;
#X text 595 209 If the pattern changes while in samples mode \, the
knobs need to be immediately updated with the new sample lengths;
#X text 597 400 Use a step sequencer from the sequencer sub-patch to
store the 16 values. We don't need the gate information \, so it is
not connected;
#X text 541 514 The sequence is loaded using load-to-grid within the
patterns subpatch. The name of the input is called "\$0-packed-pitch-seq"
but it is actually just values from 0-1 \, so in this case we are sending
sample length data instead of pitch data;
#X obj 595 186 r \$0-load-sample-lengths-to-grid;
#X obj 649 78 sel samples-mode;
#X obj 649 53 r \$0-global-state-off;
#X obj 453 53 r \$0-global-state-on;
#X obj 80 232 spigot 0;
#X obj 677 334 == 0;
#X obj 616 364 spigot 1;
#X obj 579 314 t f;
#N canvas 1132 87 591 797 receive-sample-lengths 0;
#X obj 197 407 t b f;
#X obj 207 427 t b f;
#X obj 217 447 t b f;
#X obj 227 467 t b f;
#X obj 237 487 t b f;
#X obj 247 507 t b f;
#X obj 257 527 t b f;
#X obj 267 547 t b f;
#X obj 277 567 t b f;
#X obj 287 587 t b f;
#X obj 297 607 t b f;
#X obj 307 627 t b f;
#X obj 317 647 t b f;
#X obj 327 667 t b f;
#X obj 337 687 t b f;
#X obj 89 718 pack f f f f f f f f f f f f f f f f;
#X obj 89 743 outlet;
#X text 45 26 Receive the incoming data and pack them into a list for
the sequencer to hold onto. Note that the step-sequencer is used in
this case just as a way to store 16 values \, not as an actual step
sequencer.;
#X text 45 106 This patch allows any change made to the data to be
stored \, whether it is coming from the knobs \, from the save file
\, or from an external source.;
#X obj 187 229 r \$0-sample-length-0;
#X obj 197 249 r \$0-sample-length-1;
#X obj 207 269 r \$0-sample-length-2;
#X obj 217 289 r \$0-sample-length-3;
#X obj 227 309 r \$0-sample-length-4;
#X obj 237 329 r \$0-sample-length-5;
#X obj 247 349 r \$0-sample-length-6;
#X obj 257 369 r \$0-sample-length-7;
#X obj 267 389 r \$0-sample-length-8;
#X obj 277 409 r \$0-sample-length-9;
#X obj 287 429 r \$0-sample-length-10;
#X obj 297 449 r \$0-sample-length-11;
#X obj 307 469 r \$0-sample-length-12;
#X obj 317 489 r \$0-sample-length-13;
#X obj 327 509 r \$0-sample-length-14;
#X obj 337 529 r \$0-sample-length-15;
#X connect 0 0 15 0;
#X connect 0 1 15 1;
#X connect 1 0 15 0;
#X connect 1 1 15 2;
#X connect 2 0 15 0;
#X connect 2 1 15 3;
#X connect 3 0 15 0;
#X connect 3 1 15 4;
#X connect 4 0 15 0;
#X connect 4 1 15 5;
#X connect 5 0 15 0;
#X connect 5 1 15 6;
#X connect 6 0 15 0;
#X connect 6 1 15 7;
#X connect 7 0 15 0;
#X connect 7 1 15 8;
#X connect 8 0 15 0;
#X connect 8 1 15 9;
#X connect 9 0 15 0;
#X connect 9 1 15 10;
#X connect 10 0 15 0;
#X connect 10 1 15 11;
#X connect 11 0 15 0;
#X connect 11 1 15 12;
#X connect 12 0 15 0;
#X connect 12 1 15 13;
#X connect 13 0 15 0;
#X connect 13 1 15 14;
#X connect 14 0 15 0;
#X connect 14 1 15 15;
#X connect 15 0 16 0;
#X connect 19 0 15 0;
#X connect 20 0 0 0;
#X connect 21 0 1 0;
#X connect 22 0 2 0;
#X connect 23 0 3 0;
#X connect 24 0 4 0;
#X connect 25 0 5 0;
#X connect 26 0 6 0;
#X connect 27 0 7 0;
#X connect 28 0 8 0;
#X connect 29 0 9 0;
#X connect 30 0 10 0;
#X connect 31 0 11 0;
#X connect 32 0 12 0;
#X connect 33 0 13 0;
#X connect 34 0 14 0;
#X restore 616 304 pd receive-sample-lengths;
#X connect 0 0 36 0;
#X connect 1 0 10 0;
#X connect 1 0 39 0;
#X connect 2 0 13 0;
#X connect 2 1 14 0;
#X connect 2 2 15 0;
#X connect 2 3 16 0;
#X connect 2 4 17 0;
#X connect 2 5 18 0;
#X connect 2 6 19 0;
#X connect 2 7 20 0;
#X connect 2 8 21 0;
#X connect 2 9 22 0;
#X connect 2 10 23 0;
#X connect 2 11 24 0;
#X connect 2 12 25 0;
#X connect 2 13 26 0;
#X connect 2 14 27 0;
#X connect 2 15 28 0;
#X connect 4 0 5 0;
#X connect 4 1 7 0;
#X connect 5 0 10 0;
#X connect 5 0 39 0;
#X connect 6 3 3 0;
#X connect 7 0 6 2;
#X connect 9 0 6 3;
#X connect 10 0 36 1;
#X connect 11 0 2 0;
#X connect 11 0 6 3;
#X connect 12 0 4 0;
#X connect 32 0 7 0;
#X connect 33 1 1 0;
#X connect 34 0 33 0;
#X connect 35 0 12 0;
#X connect 36 0 2 0;
#X connect 36 0 9 0;
#X connect 37 0 38 1;
#X connect 38 0 6 3;
#X connect 39 0 9 1;
#X connect 39 0 37 0;
#X connect 40 0 38 0;
#X restore 26 150 pd sample-length-knobs;
#N canvas 19 565 467 182 init-sample-lengths 0;
#X msg 35 90 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1 1;
#X obj 35 131 s \$0-sample-lengths-to-load;
#X text 48 64 Default sample lengths;
#X obj 35 28 r \$0-reset-sample-lengths;
#X connect 0 0 1 0;
#X connect 3 0 0 0;
#X restore 26 120 pd init-sample-lengths;
#X text 294 62 <--Load the sample start positions values to the knobs
;
#N canvas 19 565 467 182 init-sample-start-positions 0;
#X obj 35 131 s \$0-sample-start-positions-to-load;
#X obj 35 28 r \$0-reset-sample-start-positions;
#X text 48 64 Default sample start positions;
#X msg 35 90 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
#X connect 1 0 3 0;
#X connect 3 0 0 0;
#X restore 26 30 pd init-sample-start-positions;
#N canvas 126 99 1086 846 sample-start-position-knobs 0;
#X obj 80 34 r \$0-packed-grid-knobs;
#X msg 579 123 0;
#X obj 80 418 unpack f f f f f f f f f f f f f f f f;
#X obj 539 485 s \$0-packed-pitch-seq;
#X obj 453 130 t b b;
#X msg 448 194 1;
#X obj 434 458 tbc-utils/step-seq;
#X msg 490 331 1;
#X text 707 22 Load the fx param values to the knobs;
#X obj 518 364 spigot 0;
#X obj 141 201 f;
#X text 597 400 Use a step sequencer from the sequencer sub-patch to
store the 16 values. We don't need the gate information \, so it is
not connected;
#X obj 80 503 s \$0-sample-start-position-0;
#X obj 100 523 s \$0-sample-start-position-1;
#X obj 120 543 s \$0-sample-start-position-2;
#X obj 140 563 s \$0-sample-start-position-3;
#X obj 160 583 s \$0-sample-start-position-4;
#X obj 180 603 s \$0-sample-start-position-5;
#X obj 200 623 s \$0-sample-start-position-6;
#X obj 220 643 s \$0-sample-start-position-7;
#X obj 240 663 s \$0-sample-start-position-8;
#X obj 260 683 s \$0-sample-start-position-9;
#X obj 280 703 s \$0-sample-start-position-10;
#X obj 300 723 s \$0-sample-start-position-11;
#X obj 320 743 s \$0-sample-start-position-12;
#X obj 340 763 s \$0-sample-start-position-13;
#X obj 360 783 s \$0-sample-start-position-14;
#X obj 381 803 s \$0-sample-start-position-15;
#X obj 156 348 r \$0-sample-start-positions-to-load;
#X obj 596 196 r \$0-load-sample-start-positions-to-grid;
#X obj 453 78 sel sound-mode;
#X text 593 223 If the pattern changes while in sound mode \, the knobs
need to be immediately updated with the new start positions;
#X text 541 514 The sequence is loaded using load-to-grid within the
patterns subpatch. The name of the input is called "\$0-packed-pitch-seq"
but it is actually just values from 0-1 \, so in this case we are sending
sample start position data instead of pitch data;
#X obj 649 78 sel sound-mode;
#X obj 649 53 r \$0-global-state-off;
#X obj 453 52 r \$0-global-state-on;
#X obj 80 232 spigot 0;
#X obj 677 334 == 0;
#X obj 616 364 spigot 1;
#X obj 579 314 t f;
#N canvas 509 50 591 797 receive-sample-start-positions 0;
#X obj 197 407 t b f;
#X obj 207 427 t b f;
#X obj 217 447 t b f;
#X obj 227 467 t b f;
#X obj 237 487 t b f;
#X obj 247 507 t b f;
#X obj 257 527 t b f;
#X obj 267 547 t b f;
#X obj 277 567 t b f;
#X obj 287 587 t b f;
#X obj 297 607 t b f;
#X obj 307 627 t b f;
#X obj 317 647 t b f;
#X obj 327 667 t b f;
#X obj 337 687 t b f;
#X obj 89 718 pack f f f f f f f f f f f f f f f f;
#X obj 89 743 outlet;
#X text 45 26 Receive the incoming data and pack them into a list for
the sequencer to hold onto. Note that the step-sequencer is used in
this case just as a way to store 16 values \, not as an actual step
sequencer.;
#X text 45 106 This patch allows any change made to the data to be
stored \, whether it is coming from the knobs \, from the save file
\, or from an external source.;
#X obj 187 229 r \$0-sample-start-position-0;
#X obj 197 249 r \$0-sample-start-position-1;
#X obj 207 269 r \$0-sample-start-position-2;
#X obj 217 289 r \$0-sample-start-position-3;
#X obj 227 309 r \$0-sample-start-position-4;
#X obj 237 329 r \$0-sample-start-position-5;
#X obj 247 349 r \$0-sample-start-position-6;
#X obj 257 369 r \$0-sample-start-position-7;
#X obj 267 389 r \$0-sample-start-position-8;
#X obj 277 409 r \$0-sample-start-position-9;
#X obj 287 429 r \$0-sample-start-position-10;
#X obj 297 449 r \$0-sample-start-position-11;
#X obj 307 469 r \$0-sample-start-position-12;
#X obj 317 489 r \$0-sample-start-position-13;
#X obj 327 509 r \$0-sample-start-position-14;
#X obj 337 529 r \$0-sample-start-position-15;
#X connect 0 0 15 0;
#X connect 0 1 15 1;
#X connect 1 0 15 0;
#X connect 1 1 15 2;
#X connect 2 0 15 0;
#X connect 2 1 15 3;
#X connect 3 0 15 0;
#X connect 3 1 15 4;
#X connect 4 0 15 0;
#X connect 4 1 15 5;
#X connect 5 0 15 0;
#X connect 5 1 15 6;
#X connect 6 0 15 0;
#X connect 6 1 15 7;
#X connect 7 0 15 0;
#X connect 7 1 15 8;
#X connect 8 0 15 0;
#X connect 8 1 15 9;
#X connect 9 0 15 0;
#X connect 9 1 15 10;
#X connect 10 0 15 0;
#X connect 10 1 15 11;
#X connect 11 0 15 0;
#X connect 11 1 15 12;
#X connect 12 0 15 0;
#X connect 12 1 15 13;
#X connect 13 0 15 0;
#X connect 13 1 15 14;
#X connect 14 0 15 0;
#X connect 14 1 15 15;
#X connect 15 0 16 0;
#X connect 19 0 15 0;
#X connect 20 0 0 0;
#X connect 21 0 1 0;
#X connect 22 0 2 0;
#X connect 23 0 3 0;
#X connect 24 0 4 0;
#X connect 25 0 5 0;
#X connect 26 0 6 0;
#X connect 27 0 7 0;
#X connect 28 0 8 0;
#X connect 29 0 9 0;
#X connect 30 0 10 0;
#X connect 31 0 11 0;
#X connect 32 0 12 0;
#X connect 33 0 13 0;
#X connect 34 0 14 0;
#X restore 616 304 pd receive-sample-start-positions;
#X connect 0 0 36 0;
#X connect 1 0 10 0;
#X connect 1 0 39 0;
#X connect 2 0 12 0;
#X connect 2 1 13 0;
#X connect 2 2 14 0;
#X connect 2 3 15 0;
#X connect 2 4 16 0;
#X connect 2 5 17 0;
#X connect 2 6 18 0;
#X connect 2 7 19 0;
#X connect 2 8 20 0;
#X connect 2 9 21 0;
#X connect 2 10 22 0;
#X connect 2 11 23 0;
#X connect 2 12 24 0;
#X connect 2 13 25 0;
#X connect 2 14 26 0;
#X connect 2 15 27 0;
#X connect 4 0 5 0;
#X connect 4 1 7 0;
#X connect 5 0 10 0;
#X connect 5 0 39 0;
#X connect 6 3 3 0;
#X connect 7 0 6 2;
#X connect 9 0 6 3;
#X connect 10 0 36 1;
#X connect 28 0 2 0;
#X connect 28 0 6 3;
#X connect 29 0 7 0;
#X connect 30 0 4 0;
#X connect 33 1 1 0;
#X connect 34 0 33 0;
#X connect 35 0 30 0;
#X connect 36 0 2 0;
#X connect 36 0 9 0;
#X connect 37 0 38 1;
#X connect 38 0 6 3;
#X connect 39 0 9 1;
#X connect 39 0 37 0;
#X connect 40 0 38 0;
#X restore 26 60 pd sample-start-position-knobs;
#X restore 20 64 pd sample-length-and-start-positions;
#N canvas 236 130 717 769 reset-pitch-when-paused 0;
#X obj 187 92 sel 0;
#X obj 187 293 unpack f f f f f f f f f f f f f f f f;
#X obj 187 378 s \$0-seq-pitch-0-s;
#X obj 207 398 s \$0-seq-pitch-1-s;
#X obj 227 418 s \$0-seq-pitch-2-s;
#X obj 247 438 s \$0-seq-pitch-3-s;
#X obj 267 458 s \$0-seq-pitch-4-s;
#X obj 287 478 s \$0-seq-pitch-5-s;
#X obj 307 498 s \$0-seq-pitch-6-s;
#X obj 327 518 s \$0-seq-pitch-7-s;
#X obj 347 538 s \$0-seq-pitch-8-s;
#X obj 367 558 s \$0-seq-pitch-9-s;
#X obj 387 578 s \$0-seq-pitch-10-s;
#X obj 407 598 s \$0-seq-pitch-11-s;
#X obj 427 618 s \$0-seq-pitch-12-s;
#X obj 447 638 s \$0-seq-pitch-13-s;
#X obj 467 658 s \$0-seq-pitch-14-s;
#X obj 488 678 s \$0-seq-pitch-15-s;
#X obj 185 30 r \$0-playing;
#X obj 187 127 t b b;
#X obj 224 217 s \$0-stop-all-samples;
#X obj 21 127 r \$0-bang-on-load-1;
#X obj 241 92 r \$0-reset-all-pitch;
#X msg 187 247 440 440 440 440 440 440 440 440 440 440 440 440 440
440 440 440;
#X text 243 8 Reset pitch of each sampler when the pattern is paused.
;
#X obj 185 60 t f f;
#X obj 224 187 spigot;
#X connect 0 0 19 0;
#X connect 1 0 2 0;
#X connect 1 1 3 0;
#X connect 1 2 4 0;
#X connect 1 3 5 0;
#X connect 1 4 6 0;
#X connect 1 5 7 0;
#X connect 1 6 8 0;
#X connect 1 7 9 0;
#X connect 1 8 10 0;
#X connect 1 9 11 0;
#X connect 1 10 12 0;
#X connect 1 11 13 0;
#X connect 1 12 14 0;
#X connect 1 13 15 0;
#X connect 1 14 16 0;
#X connect 1 15 17 0;
#X connect 18 0 25 0;
#X connect 19 0 23 0;
#X connect 19 1 26 0;
#X connect 21 0 23 0;
#X connect 22 0 19 0;
#X connect 23 0 1 0;
#X connect 25 0 26 1;
#X connect 25 1 0 0;
#X connect 26 0 20 0;
#X restore 20 174 pd reset-pitch-when-paused;
#N canvas 4 486 544 484 stop-all-playing-samples 0;
#X obj 40 91 unpack f f f f f f f f f f f f f f f f;
#X obj 40 136 s \$0-seq-pitch-0-s;
#X obj 60 156 s \$0-seq-pitch-1-s;
#X obj 80 176 s \$0-seq-pitch-2-s;
#X obj 100 196 s \$0-seq-pitch-3-s;
#X obj 120 216 s \$0-seq-pitch-4-s;
#X obj 140 236 s \$0-seq-pitch-5-s;
#X obj 160 256 s \$0-seq-pitch-6-s;
#X obj 180 276 s \$0-seq-pitch-7-s;
#X obj 200 296 s \$0-seq-pitch-8-s;
#X obj 220 316 s \$0-seq-pitch-9-s;
#X obj 240 336 s \$0-seq-pitch-10-s;
#X obj 260 356 s \$0-seq-pitch-11-s;
#X obj 280 376 s \$0-seq-pitch-12-s;
#X obj 300 396 s \$0-seq-pitch-13-s;
#X obj 320 416 s \$0-seq-pitch-14-s;
#X obj 341 436 s \$0-seq-pitch-15-s;
#X msg 40 61 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
#X obj 40 31 r \$0-stop-all-samples;
#X connect 0 0 1 0;
#X connect 0 1 2 0;
#X connect 0 2 3 0;
#X connect 0 3 4 0;
#X connect 0 4 5 0;
#X connect 0 5 6 0;
#X connect 0 6 7 0;
#X connect 0 7 8 0;
#X connect 0 8 9 0;
#X connect 0 9 10 0;
#X connect 0 10 11 0;
#X connect 0 11 12 0;
#X connect 0 12 13 0;
#X connect 0 13 14 0;
#X connect 0 14 15 0;
#X connect 0 15 16 0;
#X connect 17 0 0 0;
#X connect 18 0 17 0;
#X restore 20 194 pd stop-all-playing-samples;
#N canvas 94 496 332 193 store-current-sample-patch-id 0;
#X obj 40 37 r \$0-get-current-sample-patch-id;
#X obj 40 117 f;
#X obj 61 88 r \$0-current-sample-patch-id;
#X obj 40 62 t b;
#X obj 40 142 s \$0-current-sample-patch-id;
#X connect 0 0 3 0;
#X connect 1 0 4 0;
#X connect 2 0 1 1;
#X connect 3 0 1 0;
#X restore 20 224 pd store-current-sample-patch-id;
#X restore 535 401 pd samples;
#N canvas 630 135 722 698 funct-functions 0;
#N canvas 142 64 1023 808 pattern-clear 0;
#X obj 37 90 &&;
#X obj 37 115 sel 1;
#X msg 37 432 0;
#X obj 60 643 s \$0-pattern-btn-r;
#X obj 36 761 s \$0-funct-btn-r;
#X obj 251 214 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 360 199 s \$0-clear-grid;
#N canvas 0 50 450 300 loop-16 0;
#X obj 64 137 until;
#X msg 64 110 16;
#X obj 64 17 inlet bang;
#X obj 58 264 outlet;
#X obj 64 42 t b b;
#X obj 138 266 outlet done;
#X obj 64 187 t a a;
#X msg 101 110 0;
#X obj 64 162 f 0;
#X obj 138 242 sel 15;
#X obj 105 162 + 1;
#X connect 0 0 8 0;
#X connect 1 0 0 0;
#X connect 2 0 4 0;
#X connect 4 0 1 0;
#X connect 4 1 7 0;
#X connect 6 0 9 0;
#X connect 6 1 3 0;
#X connect 7 0 8 1;
#X connect 8 0 6 0;
#X connect 8 0 10 0;
#X connect 9 0 5 0;
#X connect 10 0 8 1;
#X restore 231 263 pd loop-16;
#X floatatom 231 288 5 0 0 0 - - -;
#X obj 308 289 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 252 406 pack s f;
#X obj 231 512 s;
#X obj 252 456 symbol;
#X floatatom 313 383 5 0 15 1 seq - -;
#X msg 231 485 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
#X obj 252 359 symbol \$0-seq-gate;
#X obj 532 406 pack s f;
#X obj 511 562 s;
#X obj 532 456 symbol;
#X floatatom 593 383 5 0 15 1 seq - -;
#X obj 532 359 symbol \$0-seq-pitch;
#X obj 511 312 t b b f;
#X obj 231 312 t b b f;
#X obj 742 352 pack s f;
#X obj 721 458 s;
#X obj 742 402 symbol;
#X floatatom 803 329 5 0 15 1 seq - -;
#X obj 721 258 t b b f;
#X obj 742 305 symbol \$0-seq-retrig;
#X obj 360 119 s \$0-reset-fx-array;
#X msg 532 431 \$1-\$2-r;
#X msg 252 431 \$1-\$2-r;
#X msg 742 377 \$1-\$2-r;
#X text 463 12 Clear the whole pattern when funct + pattern is pressed
(In that order);
#X msg 721 431 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
#X obj 60 613 pipe 50;
#X obj 37 682 pipe 25;
#X msg 511 498 0.515862 0.515862 0.515862 0.515862 0.515862 0.515862
0.515862 0.515862 0.515862 0.515862 0.515862 0.515862 0.515862 0.515862
0.515862 0.515862;
#X obj 100 231 s \$0-fx-0-pitch;
#X msg 100 208 0;
#X obj 83 572 s \$0-update-pattern;
#X obj 37 25 r \$0-pattern-btn-0-s;
#X obj 360 159 s \$0-reset-sample-start-positions;
#X obj 360 139 s \$0-reset-sample-lengths;
#X obj 210 699 r \$0-current-pattern;
#X obj 179 729 f;
#X obj 179 702 t b;
#X obj 148 140 s \$0-stop-all-samples;
#X obj 37 140 t b b b b b;
#X obj 213 784 print clearing-pattern-#;
#X obj 37 457 t f f b b;
#X obj 360 219 s \$0-reset-sample-volumes;
#X obj 106 542 s \$0-apply-new-volumes;
#X obj 360 239 s \$0-reset-all-pitch;
#X text 126 612 Delayed to help midi LED turn off;
#X obj 360 179 s \$0-clear-knobs;
#X obj 17 781 s \$0-reset-funct-params;
#X obj 37 707 t f f;
#X obj 213 759 spigot;
#X obj 258 729 r \$0-debug-log;
#N canvas 0 50 441 201 funct-check 0;
#X obj 37 123 outlet;
#X obj 37 32 r \$0-global-state-on;
#X msg 37 82 1;
#X obj 207 32 r \$0-global-state-off;
#X msg 316 82 0;
#X obj 207 57 sel funct-mode;
#X obj 37 57 sel funct-mode;
#X connect 1 0 6 0;
#X connect 2 0 0 0;
#X connect 3 0 5 0;
#X connect 4 0 0 0;
#X connect 5 1 4 0;
#X connect 6 0 2 0;
#X restore 58 59 pd funct-check;
#X connect 0 0 1 0;
#X connect 1 0 48 0;
#X connect 2 0 50 0;
#X connect 5 0 6 0;
#X connect 5 0 29 0;
#X connect 5 0 43 0;
#X connect 5 0 42 0;
#X connect 5 0 51 0;
#X connect 5 0 53 0;
#X connect 5 0 55 0;
#X connect 7 0 8 0;
#X connect 7 1 9 0;
#X connect 8 0 21 0;
#X connect 8 0 22 0;
#X connect 8 0 27 0;
#X connect 10 0 31 0;
#X connect 12 0 11 1;
#X connect 13 0 10 1;
#X connect 14 0 11 0;
#X connect 15 0 10 0;
#X connect 16 0 30 0;
#X connect 18 0 17 1;
#X connect 19 0 16 1;
#X connect 20 0 16 0;
#X connect 21 0 37 0;
#X connect 21 1 20 0;
#X connect 21 2 19 0;
#X connect 22 0 14 0;
#X connect 22 1 15 0;
#X connect 22 2 13 0;
#X connect 23 0 32 0;
#X connect 25 0 24 1;
#X connect 26 0 23 1;
#X connect 27 0 34 0;
#X connect 27 1 28 0;
#X connect 27 2 26 0;
#X connect 28 0 23 0;
#X connect 30 0 18 0;
#X connect 31 0 12 0;
#X connect 32 0 25 0;
#X connect 34 0 24 0;
#X connect 35 0 3 0;
#X connect 36 0 46 0;
#X connect 36 0 57 0;
#X connect 37 0 17 0;
#X connect 39 0 38 0;
#X connect 41 0 0 0;
#X connect 44 0 45 1;
#X connect 45 0 58 0;
#X connect 46 0 45 0;
#X connect 48 0 2 0;
#X connect 48 1 7 0;
#X connect 48 2 5 0;
#X connect 48 3 39 0;
#X connect 48 4 47 0;
#X connect 50 0 36 0;
#X connect 50 1 35 0;
#X connect 50 2 40 0;
#X connect 50 3 52 0;
#X connect 57 0 56 0;
#X connect 57 1 4 0;
#X connect 58 0 49 0;
#X connect 59 0 58 1;
#X connect 60 0 0 1;
#X restore 36 89 pd pattern-clear;
#X obj 46 302 r \$0-packed-grid-buttons;
#X obj 92 499 spigot;
#X obj 109 469 s \$0-clear-grid-funct;
#N canvas 221 186 777 757 funct-grid-buttons 0;
#X obj 165 123 unpack f f f f f f f f f f f f f f f f;
#X obj 345 483 s \$0-randomize-gates;
#X obj 345 453 sel 1;
#X obj 128 14 inlet;
#X obj 365 403 sel 1;
#X obj 385 353 sel 1;
#X obj 385 383 s \$0-randomize-retrig;
#X obj 365 433 s \$0-randomize-pitch;
#X obj 405 303 sel 1;
#X obj 405 333 s \$0-randomize-fx;
#X obj 425 253 sel 1;
#X obj 425 283 s \$0-randomize-fx-params;
#X obj 305 653 s \$0-randomize-sound-or-pattern;
#X msg 318 622 symbol sound;
#X msg 305 602 symbol pattern;
#X obj 305 563 sel 1;
#X obj 325 503 sel 1;
#X obj 161 672 s \$0-shift-pattern;
#X msg 161 517 up;
#X obj 161 632 symbol;
#X obj 161 443 sel 1;
#X obj 171 463 sel 1;
#X obj 201 503 sel 1;
#X obj 181 483 sel 1;
#X msg 171 537 left;
#X msg 201 577 down;
#X msg 181 557 right;
#X obj 77 184 sel 1;
#X obj 87 204 sel 1;
#X obj 67 284 sel 1;
#X text 31 285 COPY;
#X text 17 185 REVERSE;
#X text 36 205 ????;
#X obj 445 203 sel 1;
#X obj 466 153 sel 1;
#X obj 77 235 s \$0-reverse-pattern;
#N canvas 517 380 644 409 start-copy-mode 0;
#X obj 18 11 inlet;
#X obj 41 325 s \$0-select-pattern-to-paste;
#X msg 41 295 1;
#X msg 18 352 label SELECT_WHERE_TO_PASTE;
#X obj 64 261 s \$0-stop-waiting-for-button-presses;
#X msg 64 142 0;
#X obj 101 237 s \$0-funct-btn-r;
#X obj 64 167 t f f;
#X text 133 106 Bit of a hack to make sure the funct button turns off.
Should be handled within the other states patch \, but for some reason
after the state is changed to something else \, it turns back on the
funct button unless it's explicitly turned off here. Not sure what's
going on \, but this fixes it.;
#X obj 18 379 s \$0-lcd-2-r;
#X obj 87 62 s \$0-save-pattern;
#X obj 18 36 t b b b b;
#X connect 0 0 11 0;
#X connect 2 0 1 0;
#X connect 3 0 9 0;
#X connect 5 0 7 0;
#X connect 7 0 4 0;
#X connect 7 1 6 0;
#X connect 11 0 3 0;
#X connect 11 1 2 0;
#X connect 11 2 5 0;
#X connect 11 3 10 0;
#X restore 67 307 pd start-copy-mode;
#X obj 128 57 t a a;
#N canvas 81 581 539 300 save 0;
#X obj 32 263 s \$0-save-pattern;
#X obj 32 106 unpack f f f f f f f f f f f f f f f f;
#X obj 32 209 sel 1;
#X text 56 77 Skip button 7 because it is the pattern/sound switch
;
#X obj 32 47 inlet;
#X text 55 12 Save the pattern when any button is pressed in the grid.
;
#X connect 1 0 2 0;
#X connect 1 1 2 0;
#X connect 1 2 2 0;
#X connect 1 3 2 0;
#X connect 1 4 2 0;
#X connect 1 5 2 0;
#X connect 1 6 2 0;
#X connect 1 8 2 0;
#X connect 1 9 2 0;
#X connect 1 10 2 0;
#X connect 1 11 2 0;
#X connect 1 12 2 0;
#X connect 1 13 2 0;
#X connect 1 14 2 0;
#X connect 1 15 2 0;
#X connect 2 0 0 0;
#X connect 4 0 1 0;
#X restore 88 99 pd save;
#X obj 445 233 s \$0-randomize-sample-start-positions;
#X obj 466 183 s \$0-randomize-sample-lengths;
#X obj 325 533 s \$0-randomize-volumes;
#X connect 0 0 27 0;
#X connect 0 1 20 0;
#X connect 0 2 28 0;
#X connect 0 3 29 0;
#X connect 0 4 21 0;
#X connect 0 5 22 0;
#X connect 0 6 23 0;
#X connect 0 7 15 0;
#X connect 0 8 16 0;
#X connect 0 9 2 0;
#X connect 0 10 4 0;
#X connect 0 11 5 0;
#X connect 0 12 8 0;
#X connect 0 13 10 0;
#X connect 0 14 33 0;
#X connect 0 15 34 0;
#X connect 2 0 1 0;
#X connect 3 0 37 0;
#X connect 4 0 7 0;
#X connect 5 0 6 0;
#X connect 8 0 9 0;
#X connect 10 0 11 0;
#X connect 13 0 12 0;
#X connect 14 0 12 0;
#X connect 15 0 14 0;
#X connect 15 1 13 0;
#X connect 16 0 41 0;
#X connect 18 0 19 0;
#X connect 19 0 17 0;
#X connect 20 0 18 0;
#X connect 21 0 24 0;
#X connect 22 0 25 0;
#X connect 23 0 26 0;
#X connect 24 0 19 0;
#X connect 25 0 19 0;
#X connect 26 0 19 0;
#X connect 27 0 35 0;
#X connect 29 0 36 0;
#X connect 33 0 39 0;
#X connect 34 0 40 0;
#X connect 37 0 38 0;
#X connect 37 1 0 0;
#X restore 92 631 pd funct-grid-buttons;
#X text 267 11 Actions to perform when the function button is on;
#X obj 46 367 spigot 1;
#X msg 80 335 1, f 2;
#X msg 107 335 0, f 2;
#X obj 46 392 t b b a b;
#X obj 109 439 spigot;
#N canvas 728 131 1079 846 funct-knobs 0;
#X text 580 340 Use a step sequencer from the sequencer sub-patch to
store the 16 volumes. We don't need the gate information \, so it is
not connected;
#X obj 57 44 r \$0-packed-grid-knobs;
#X msg 552 151 0;
#X obj 57 393 unpack f f f f f f f f f f f f f f f f;
#X obj 512 427 s \$0-packed-pitch-seq;
#X text 508 458 The sequence is loaded using load-to-grid within the
patterns subpatch. The name of the input is called "\$0-packed-pitch-seq"
but it is actually just values from 0-1 \, so in this case we are sending
volume data instead of pitch data;
#X obj 426 110 t b b;
#X msg 426 142 1;
#X obj 407 393 tbc-utils/step-seq;
#X msg 463 253 1;
#X obj 57 478 s \$0-funct-parameter-0;
#X obj 77 498 s \$0-funct-parameter-1;
#X obj 97 518 s \$0-funct-parameter-2;
#X obj 117 538 s \$0-funct-parameter-3;
#X obj 137 558 s \$0-funct-parameter-4;
#X obj 156 578 s \$0-funct-parameter-5;
#X obj 177 598 s \$0-funct-parameter-6;
#X obj 197 618 s \$0-funct-parameter-7;
#X obj 217 638 s \$0-funct-parameter-8;
#X obj 237 658 s \$0-funct-parameter-9;
#X obj 257 678 s \$0-funct-parameter-10;
#X obj 277 698 s \$0-funct-parameter-11;
#X obj 297 718 s \$0-funct-parameter-12;
#X obj 317 738 s \$0-funct-parameter-13;
#X obj 337 758 s \$0-funct-parameter-14;
#X obj 358 778 s \$0-funct-parameter-15;
#X obj 135 318 r \$0-funct-parameters-to-load;
#X text 714 22 Load the funct param values to the knobs;
#X obj 426 78 sel funct-mode;
#X obj 426 48 r \$0-global-state-on;
#X obj 616 78 sel funct-mode;
#X obj 616 48 r \$0-global-state-off;
#X obj 552 255 t f;
#X obj 491 307 spigot 0;
#X obj 601 307 spigot 1;
#X obj 662 275 == 0;
#N canvas 509 50 591 797 receive-funct-params 0;
#X obj 197 407 t b f;
#X obj 207 427 t b f;
#X obj 217 447 t b f;
#X obj 227 467 t b f;
#X obj 237 487 t b f;
#X obj 247 507 t b f;
#X obj 257 527 t b f;
#X obj 267 547 t b f;
#X obj 277 567 t b f;
#X obj 287 587 t b f;
#X obj 297 607 t b f;
#X obj 307 627 t b f;
#X obj 317 647 t b f;
#X obj 327 667 t b f;
#X obj 337 687 t b f;
#X obj 89 718 pack f f f f f f f f f f f f f f f f;
#X obj 89 743 outlet;
#X text 45 26 Receive the incoming data and pack them into a list for
the sequencer to hold onto. Note that the step-sequencer is used in
this case just as a way to store 16 values \, not as an actual step
sequencer.;
#X text 45 106 This patch allows any change made to the data to be
stored \, whether it is coming from the knobs \, from the save file
\, or from an external source.;
#X obj 187 229 r \$0-funct-parameter-0;
#X obj 197 249 r \$0-funct-parameter-1;
#X obj 207 269 r \$0-funct-parameter-2;
#X obj 217 289 r \$0-funct-parameter-3;
#X obj 227 309 r \$0-funct-parameter-4;
#X obj 237 329 r \$0-funct-parameter-5;
#X obj 247 349 r \$0-funct-parameter-6;
#X obj 257 369 r \$0-funct-parameter-7;
#X obj 267 389 r \$0-funct-parameter-8;
#X obj 277 409 r \$0-funct-parameter-9;
#X obj 287 429 r \$0-funct-parameter-10;
#X obj 297 449 r \$0-funct-parameter-11;
#X obj 307 469 r \$0-funct-parameter-12;
#X obj 317 489 r \$0-funct-parameter-13;
#X obj 327 509 r \$0-funct-parameter-14;
#X obj 337 529 r \$0-funct-parameter-15;
#X connect 0 0 15 0;
#X connect 0 1 15 1;
#X connect 1 0 15 0;
#X connect 1 1 15 2;
#X connect 2 0 15 0;
#X connect 2 1 15 3;
#X connect 3 0 15 0;
#X connect 3 1 15 4;
#X connect 4 0 15 0;
#X connect 4 1 15 5;
#X connect 5 0 15 0;
#X connect 5 1 15 6;
#X connect 6 0 15 0;
#X connect 6 1 15 7;
#X connect 7 0 15 0;
#X connect 7 1 15 8;
#X connect 8 0 15 0;
#X connect 8 1 15 9;
#X connect 9 0 15 0;
#X connect 9 1 15 10;
#X connect 10 0 15 0;
#X connect 10 1 15 11;
#X connect 11 0 15 0;
#X connect 11 1 15 12;
#X connect 12 0 15 0;
#X connect 12 1 15 13;
#X connect 13 0 15 0;
#X connect 13 1 15 14;
#X connect 14 0 15 0;
#X connect 14 1 15 15;
#X connect 15 0 16 0;
#X connect 19 0 15 0;
#X connect 20 0 0 0;
#X connect 21 0 1 0;
#X connect 22 0 2 0;
#X connect 23 0 3 0;
#X connect 24 0 4 0;
#X connect 25 0 5 0;
#X connect 26 0 6 0;
#X connect 27 0 7 0;
#X connect 28 0 8 0;
#X connect 29 0 9 0;
#X connect 30 0 10 0;
#X connect 31 0 11 0;
#X connect 32 0 12 0;
#X connect 33 0 13 0;
#X connect 34 0 14 0;
#X restore 601 245 pd receive-funct-params;
#X obj 57 242 spigot 0;
#X connect 1 0 37 0;
#X connect 2 0 32 0;
#X connect 2 0 37 1;
#X connect 3 0 10 0;
#X connect 3 1 11 0;
#X connect 3 2 12 0;
#X connect 3 3 13 0;
#X connect 3 4 14 0;
#X connect 3 5 15 0;
#X connect 3 6 16 0;
#X connect 3 7 17 0;
#X connect 3 8 18 0;
#X connect 3 9 19 0;
#X connect 3 10 20 0;
#X connect 3 11 21 0;
#X connect 3 12 22 0;
#X connect 3 13 23 0;
#X connect 3 14 24 0;
#X connect 3 15 25 0;
#X connect 6 0 7 0;
#X connect 6 1 9 0;
#X connect 7 0 32 0;
#X connect 7 0 37 1;
#X connect 8 3 4 0;
#X connect 9 0 8 2;
#X connect 26 0 3 0;
#X connect 26 0 8 3;
#X connect 28 0 6 0;
#X connect 29 0 28 0;
#X connect 30 1 2 0;
#X connect 31 0 30 0;
#X connect 32 0 33 1;
#X connect 32 0 35 0;
#X connect 33 0 8 3;
#X connect 34 0 8 3;
#X connect 35 0 34 1;
#X connect 36 0 34 0;
#X connect 37 0 3 0;
#X connect 37 0 33 0;
#X restore 36 69 pd funct-knobs;
#X text 396 506 Color the "randomizers" background;
#X text 102 608 Handle function buttons;
#N canvas 273 81 759 855 highlight-button 0;
#X obj 47 12 inlet;
#X obj 47 967 change;
#X obj 47 987 sel 1;
#X obj 47 42 unpack f f f f f f f f f f f f f f f f;
#X obj 67 907 change;
#X obj 67 927 sel 1;
#X obj 87 847 change;
#X obj 87 867 sel 1;
#X obj 107 787 change;
#X obj 107 807 sel 1;
#X obj 127 727 change;
#X obj 127 747 sel 1;
#X obj 147 667 change;
#X obj 147 687 sel 1;
#X obj 167 607 change;
#X obj 167 627 sel 1;
#X obj 187 547 change;
#X obj 187 567 sel 1;
#X obj 207 487 change;
#X obj 207 507 sel 1;
#X obj 227 427 change;
#X obj 227 447 sel 1;
#X obj 247 367 change;
#X obj 247 387 sel 1;
#X obj 267 307 change;
#X obj 267 327 sel 1;
#X obj 287 247 change;
#X obj 287 267 sel 1;
#X obj 307 187 change;
#X obj 307 207 sel 1;
#X obj 327 127 change;
#X obj 327 147 sel 1;
#X obj 348 67 change;
#X obj 348 87 sel 1;
#X msg 47 1007 0;
#X msg 67 947 1;
#X msg 87 887 2;
#X msg 107 827 3;
#X msg 127 767 4;
#X msg 147 707 5;
#X msg 167 647 6;
#X msg 187 587 7;
#X msg 207 527 8;
#X msg 227 467 9;
#X msg 247 407 10;
#X msg 267 347 11;
#X msg 287 287 12;
#X msg 307 227 13;
#X msg 327 167 14;
#X msg 348 107 15;
#X obj 348 1132 s \$0-color-grid-button;
#X obj 374 1103 s \$0-current-grid-button;
#X obj 348 1027 t b f b;
#X obj 401 1075 outlet;
#X text 97 1105 Color the btn that was pressed;
#X obj 401 1052 del 100;
#X text 197 11 Get grid button to highlight;
#X connect 0 0 3 0;
#X connect 1 0 2 0;
#X connect 2 0 34 0;
#X connect 3 0 1 0;
#X connect 3 1 4 0;
#X connect 3 2 6 0;
#X connect 3 3 8 0;
#X connect 3 4 10 0;
#X connect 3 5 12 0;
#X connect 3 6 14 0;
#X connect 3 7 16 0;
#X connect 3 8 18 0;
#X connect 3 9 20 0;
#X connect 3 10 22 0;
#X connect 3 11 24 0;
#X connect 3 12 26 0;
#X connect 3 13 28 0;
#X connect 3 14 30 0;
#X connect 3 15 32 0;
#X connect 4 0 5 0;
#X connect 5 0 35 0;
#X connect 6 0 7 0;
#X connect 7 0 36 0;
#X connect 8 0 9 0;
#X connect 9 0 37 0;
#X connect 10 0 11 0;
#X connect 11 0 38 0;
#X connect 12 0 13 0;
#X connect 13 0 39 0;
#X connect 14 0 15 0;
#X connect 15 0 40 0;
#X connect 16 0 17 0;
#X connect 17 0 41 0;
#X connect 18 0 19 0;
#X connect 19 0 42 0;
#X connect 20 0 21 0;
#X connect 21 0 43 0;
#X connect 22 0 23 0;
#X connect 23 0 44 0;
#X connect 24 0 25 0;
#X connect 25 0 45 0;
#X connect 26 0 27 0;
#X connect 27 0 46 0;
#X connect 28 0 29 0;
#X connect 29 0 47 0;
#X connect 30 0 31 0;
#X connect 31 0 48 0;
#X connect 32 0 33 0;
#X connect 33 0 49 0;
#X connect 34 0 52 0;
#X connect 35 0 52 0;
#X connect 36 0 52 0;
#X connect 37 0 52 0;
#X connect 38 0 52 0;
#X connect 39 0 52 0;
#X connect 40 0 52 0;
#X connect 41 0 52 0;
#X connect 42 0 52 0;
#X connect 43 0 52 0;
#X connect 44 0 52 0;
#X connect 45 0 52 0;
#X connect 46 0 52 0;
#X connect 47 0 52 0;
#X connect 48 0 52 0;
#X connect 49 0 52 0;
#X connect 52 0 50 0;
#X connect 52 1 51 0;
#X connect 52 2 55 0;
#X connect 55 0 53 0;
#X restore 129 574 pd highlight-button;
#X obj 92 529 t a a;
#X obj 385 481 f;
#N canvas 1021 199 695 576 handle-open-midi-mapper 0;
#X obj 89 122 inlet;
#X obj 115 212 s \$0-midi-control-btn-r;
#X obj 44 322 spigot;
#X obj 44 352 sel 1;
#X obj 81 422 f \$0;
#X msg 81 447 \; pd-\$1-mapper-buttons vis 1;
#X obj 44 282 r \$0-midi-control-btn-s;
#X msg 44 490 1;
#X obj 44 520 s \$0-midi-mapper-state;
#X obj 89 157 t b b b;
#X msg 89 182 1, f 1;
#X msg 115 182 0, f 1;
#X msg 142 182 0, f 1;
#X text 111 351 <-- Check to open the midi mapper;
#X obj 204 123 inlet;
#X obj 475 290 s \$0-midi-control-btn-r;
#X obj 449 178 t b b b;
#X msg 502 203 0, f 1;
#X obj 496 233 r \$0-midi-control-s;
#X obj 475 260 f;
#X obj 204 148 sel funct-mode midi-mapper-mode;
#X obj 44 377 t b b;
#X text 30 14 Handle opening the midi mapper.;
#X text 29 35 Also store the state of the MIDI button when we enter
FUNCT mode \, so that if MIDI was turned on before entering FUNCT mode
\, the button will turn back on after we exit FUNCT mode.;
#X connect 0 0 9 0;
#X connect 2 0 3 0;
#X connect 3 0 21 0;
#X connect 4 0 5 0;
#X connect 6 0 2 0;
#X connect 7 0 8 0;
#X connect 9 0 10 0;
#X connect 9 1 11 0;
#X connect 9 2 12 0;
#X connect 10 0 2 1;
#X connect 11 0 1 0;
#X connect 12 0 2 1;
#X connect 14 0 20 0;
#X connect 16 1 19 0;
#X connect 16 2 17 0;
#X connect 17 0 2 1;
#X connect 18 0 19 1;
#X connect 19 0 15 0;
#X connect 20 2 16 0;
#X connect 21 0 7 0;
#X connect 21 1 4 0;
#X restore 296 224 pd handle-open-midi-mapper;
#X msg 407 379 0;
#X obj 407 409 s \$0-flash-current-grid-button;
#X obj 407 349 del 10;
#N canvas 1101 138 693 689 color-grid-btns 0;
#X obj 40 65 t b f;
#X obj 38 345 spigot;
#X msg 50 317 0, f 1;
#X msg 70 317 1, f 1;
#X obj 98 345 spigot;
#X msg 110 317 0, f 1;
#X msg 130 317 1, f 1;
#X obj 229 529 s;
#X obj 250 479 pack f \$0;
#X obj 213 198 until;
#X obj 250 415 f 0;
#X obj 288 415 + 1;
#X msg 271 203 0;
#X msg 213 148 8;
#X obj 213 173 t f b;
#X obj 250 440 + 8;
#X obj 213 223 t b b;
#X obj 52 201 r \$0-colors-packed;
#X obj 38 263 list;
#X obj 52 226 t b a;
#X obj 77 284 sel 1;
#X msg 250 504 symbol \$2-grid-btn-\$1-r;
#X msg 38 370 color \$2 \$2 \$2;
#X obj 40 35 inlet;
#X text 16 567 Color the grid buttons to match the background canvas
;
#X msg 61 399 color \$2 \$1 \$1;
#X obj 40 95 del 15;
#X connect 0 0 26 0;
#X connect 0 1 20 0;
#X connect 1 0 22 0;
#X connect 2 0 1 1;
#X connect 3 0 1 1;
#X connect 4 0 25 0;
#X connect 5 0 4 1;
#X connect 6 0 4 1;
#X connect 8 0 21 0;
#X connect 9 0 16 0;
#X connect 10 0 11 0;
#X connect 10 0 15 0;
#X connect 11 0 10 1;
#X connect 12 0 10 1;
#X connect 13 0 14 0;
#X connect 14 0 9 0;
#X connect 14 1 12 0;
#X connect 15 0 8 0;
#X connect 16 0 18 0;
#X connect 16 1 10 0;
#X connect 17 0 19 0;
#X connect 18 0 1 0;
#X connect 18 0 4 0;
#X connect 19 0 18 0;
#X connect 19 1 18 1;
#X connect 20 0 3 0;
#X connect 20 0 5 0;
#X connect 20 1 2 0;
#X connect 20 1 6 0;
#X connect 21 0 7 1;
#X connect 22 0 7 0;
#X connect 23 0 0 0;
#X connect 25 0 7 0;
#X connect 26 0 13 0;
#X restore 385 528 pd color-grid-btns;
#X obj 322 289 t f f f f f;
#X obj 296 82 r \$0-global-state-on;
#X obj 296 107 sel funct-mode;
#X msg 296 135 1;
#X obj 538 137 sel funct-mode;
#X obj 501 82 r \$0-global-state-off;
#X msg 647 225 0;
#X obj 501 107 t a a;
#X obj 407 319 sel 1;
#X obj 296 160 t f f b;
#X obj 349 190 s \$0-clear-grid;
#N canvas 592 498 600 159 reset-funct-params 0;
#X obj 51 100 s \$0-funct-parameters-to-load;
#X text 268 25 Default funct params;
#X obj 51 24 r \$0-reset-funct-params;
#X msg 51 54 0 0 0 0 0 0 0 0 0.515862 0.515862 0.515862 0.515862 0.515862
0.515862 0.515862 0.515862;
#X connect 2 0 3 0;
#X connect 3 0 0 0;
#X restore 36 39 pd reset-funct-params;
#N canvas 405 170 753 563 sample-record-on-off 0;
#X obj 98 65 inlet;
#X obj 98 143 t b b b;
#X msg 98 168 1, f 1;
#X msg 151 168 0, f 1;
#X obj 98 90 sel 1 0;
#X obj 53 292 r \$0-write-btn-0-s;
#X obj 154 258 s \$0-write-btn-r;
#X obj 53 382 s \$0-recording-sample;
#X obj 154 230 f;
#X obj 175 199 r \$0-recording-sample;
#X msg 16 292 0;
#X msg 71 484 label empty;
#X obj 71 514 s \$0-lcd-2-r;
#X obj 71 421 sel 0 1;
#X msg 97 454 label RECORDING_ON;
#X obj 53 342 spigot 0;
#X obj 267 517 s \$0-write-btn-r;
#X obj 267 487 spigot;
#X obj 312 417 r \$0-recording-sample;
#X msg 267 417 0;
#X obj 267 361 t b;
#X msg 329 478 stop;
#X obj 329 448 sel 0;
#X obj 124 115 t b b;
#X text 33 8 Record a sample into the sampler for the currently selected
sound.;
#X text 335 386 <-- 4 sec + 5ms (to allow ext audio to fade out);
#X obj 267 387 del 1005;
#X connect 0 0 4 0;
#X connect 1 0 2 0;
#X connect 1 1 8 0;
#X connect 1 2 3 0;
#X connect 2 0 15 1;
#X connect 3 0 15 1;
#X connect 4 0 1 0;
#X connect 4 1 23 0;
#X connect 5 0 15 0;
#X connect 8 0 6 0;
#X connect 9 0 8 1;
#X connect 10 0 15 0;
#X connect 11 0 12 0;
#X connect 13 0 11 0;
#X connect 13 1 14 0;
#X connect 14 0 12 0;
#X connect 15 0 7 0;
#X connect 15 0 13 0;
#X connect 15 0 20 0;
#X connect 17 0 16 0;
#X connect 18 0 22 0;
#X connect 18 0 17 1;
#X connect 19 0 17 0;
#X connect 20 0 26 0;
#X connect 21 0 26 0;
#X connect 22 0 21 0;
#X connect 23 0 3 0;
#X connect 23 1 10 0;
#X connect 26 0 19 0;
#X restore 343 585 pd sample-record-on-off;
#N canvas 1021 199 558 613 one-shot-record-on-off 0;
#X obj 89 122 inlet;
#X obj 44 352 spigot;
#X obj 89 157 t b b b;
#X msg 89 182 1, f 1;
#X msg 142 182 0, f 1;
#X obj 285 121 inlet;
#X msg 431 219 0, f 1;
#X obj 394 286 f;
#X obj 415 259 r \$0-playing;
#X obj 285 146 sel funct-mode;
#X obj 394 316 s \$0-play-btn-r;
#X obj 153 263 s \$0-play-btn-r;
#X obj 44 312 r \$0-play-btn-0-s;
#X obj 81 507 s \$0-recording-gates;
#X obj 153 231 f;
#X obj 174 201 r \$0-recording-gates;
#X obj 394 194 t b b;
#X text 35 33 Turn on one-shot recording (aka "looper" mode) when the
WRITE button is pressed while in FUNCT mode;
#X obj 44 487 s \$0-funct-btn-r;
#X obj 44 377 t f f;
#X msg 44 427 0;
#X obj 44 402 sel 1;
#X obj 44 457 spigot;
#X obj 89 427 r \$0-playing;
#X connect 0 0 2 0;
#X connect 1 0 19 0;
#X connect 2 0 3 0;
#X connect 2 1 14 0;
#X connect 2 2 4 0;
#X connect 3 0 1 1;
#X connect 4 0 1 1;
#X connect 5 0 9 0;
#X connect 6 0 1 1;
#X connect 7 0 10 0;
#X connect 8 0 7 1;
#X connect 9 1 16 0;
#X connect 12 0 1 0;
#X connect 14 0 11 0;
#X connect 15 0 14 1;
#X connect 16 0 7 0;
#X connect 16 1 6 0;
#X connect 19 0 21 0;
#X connect 19 1 13 0;
#X connect 20 0 22 0;
#X connect 21 0 20 0;
#X connect 22 0 18 0;
#X connect 23 0 22 1;
#X restore 286 244 pd one-shot-record-on-off;
#X connect 1 0 6 0;
#X connect 2 0 15 0;
#X connect 6 0 9 0;
#X connect 7 0 6 1;
#X connect 8 0 6 1;
#X connect 9 0 7 0;
#X connect 9 1 10 0;
#X connect 9 2 2 0;
#X connect 9 3 8 0;
#X connect 10 0 3 0;
#X connect 14 0 16 0;
#X connect 15 0 4 0;
#X connect 15 1 14 0;
#X connect 16 0 21 0;
#X connect 18 0 19 0;
#X connect 20 0 18 0;
#X connect 22 0 10 1;
#X connect 22 1 34 0;
#X connect 22 2 2 1;
#X connect 22 3 16 0;
#X connect 22 4 30 0;
#X connect 23 0 24 0;
#X connect 24 0 25 0;
#X connect 25 0 31 0;
#X connect 26 1 28 0;
#X connect 27 0 29 0;
#X connect 28 0 22 0;
#X connect 29 0 17 1;
#X connect 29 0 35 1;
#X connect 29 1 26 0;
#X connect 30 0 20 0;
#X connect 31 0 17 0;
#X connect 31 0 35 0;
#X connect 31 1 22 0;
#X connect 31 2 32 0;
#X restore 871 328 pd funct-functions;
#X obj 0 21 cnv 15 470 101 empty \$0-cnv-top IN-L~ 5 12 0 14 -1 -71583
0;
#X obj 60 21 cnv 15 20 20 empty \$0-cnv-top IN-R~ 5 12 0 14 -1 -71583
0;
#X obj 138 21 cnv 15 20 20 empty \$0-cnv-top STEP 5 12 0 14 -1 -71583
0;
#X obj 100 86 cnv 15 15 15 \$0-lcd-2-s \$0-lcd-2-r empty 0 5 0 14 -1
-155648 0;
#X obj 100 104 cnv 15 15 15 \$0-lcd-3-s \$0-lcd-3-r empty 0 5 0 14
-1 -155648 0;
#X obj 200 48 cnv 15 15 15 \$0-lcd-0-s \$0-lcd-0-r PATTERN:15 0 5 0
14 -1 -155648 0;
#X obj 200 67 cnv 15 15 15 \$0-lcd-1-s \$0-lcd-1-r SOUND:0 0 5 0 14
-1 -155648 0;
#X obj 100 48 cnv 15 15 15 \$0-lcd-bpm-s \$0-lcd-bpm-r 110_BPM 0 5
0 14 -1 -155648 0;
#X obj 100 67 cnv 15 15 15 \$0-lcd-swing-s \$0-lcd-swing-r 0%_SWING
0 5 0 14 -1 -155648 0;
#N canvas 75 202 732 530 trigger-sounds 0;
#X obj 47 483 s \$0-play-sample-0-r;
#X obj 82 445 s \$0-play-sample-2-r;
#X obj 100 426 s \$0-play-sample-3-r;
#X obj 118 407 s \$0-play-sample-4-r;
#X obj 135 388 s \$0-play-sample-5-r;
#X obj 153 369 s \$0-play-sample-6-r;
#X obj 171 350 s \$0-play-sample-7-r;
#X obj 189 331 s \$0-play-sample-8-r;
#X obj 206 312 s \$0-play-sample-9-r;
#X obj 224 293 s \$0-play-sample-10-r;
#X obj 242 274 s \$0-play-sample-11-r;
#X obj 260 255 s \$0-play-sample-12-r;
#X obj 277 236 s \$0-play-sample-13-r;
#X obj 295 217 s \$0-play-sample-14-r;
#X obj 313 198 s \$0-play-sample-15-r;
#X obj 64 464 s \$0-play-sample-1-r;
#X text 244 12 Unpack the input and route bangs to the correct sounds
;
#X obj 47 169 sel 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15;
#X obj 79 110 spigot 0;
#X obj 132 80 r \$0-recording-gates;
#X obj 47 49 t f f;
#X obj 79 140 s \$0-record-note-to-seq;
#X text 206 106 If "live" mode is active \, record the trigs to;
#X obj 47 14 inlet trigs;
#X connect 17 0 0 0;
#X connect 17 1 15 0;
#X connect 17 2 1 0;
#X connect 17 3 2 0;
#X connect 17 4 3 0;
#X connect 17 5 4 0;
#X connect 17 6 5 0;
#X connect 17 7 6 0;
#X connect 17 8 7 0;
#X connect 17 9 8 0;
#X connect 17 10 9 0;
#X connect 17 11 10 0;
#X connect 17 12 11 0;
#X connect 17 13 12 0;
#X connect 17 14 13 0;
#X connect 17 15 14 0;
#X connect 18 0 21 0;
#X connect 19 0 18 1;
#X connect 20 0 17 0;
#X connect 20 1 18 0;
#X connect 23 0 20 0;
#X restore 1043 95 pd trigger-sounds;
#X obj 11 301 cnv 10 200 90 \$0-cnv-funct-rand-btn-s \$0-cnv-funct-rand-btn-r
ONE_SHOT_MODE 60 80 0 10 -71583 -1 0;
#X obj 20 191 tgl 30 0 \$0-grid-btn-0-s \$0-grid-btn-0-r empty 0 38
0 10 -71583 -1 -1 0 1;
#X obj 70 191 tgl 30 0 \$0-grid-btn-1-s \$0-grid-btn-1-r empty 0 38
0 10 -71583 -1 -1 0 1;
#X obj 120 191 tgl 30 0 \$0-grid-btn-2-s \$0-grid-btn-2-r empty 0 38
0 10 -71583 -1 -1 0 1;
#X obj 170 191 tgl 30 0 \$0-grid-btn-3-s \$0-grid-btn-3-r empty 0 38
0 10 -71583 -1 -1 0 1;
#X obj 20 241 tgl 30 0 \$0-grid-btn-4-s \$0-grid-btn-4-r empty 0 38
0 10 -71583 -1 -1 0 1;
#X obj 70 241 tgl 30 0 \$0-grid-btn-5-s \$0-grid-btn-5-r empty 0 38
0 10 -71583 -1 -1 0 1;
#X obj 120 241 tgl 30 0 \$0-grid-btn-6-s \$0-grid-btn-6-r empty 0 38
0 10 -71583 -1 -1 0 1;
#X obj 170 241 tgl 30 0 \$0-grid-btn-7-s \$0-grid-btn-7-r empty 0 38
0 10 -71583 -1 -1 0 1;
#X obj 20 291 tgl 30 0 \$0-grid-btn-8-s \$0-grid-btn-8-r empty 0 38
0 10 -71583 -1 -1 0 1;
#X obj 70 291 tgl 30 0 \$0-grid-btn-9-s \$0-grid-btn-9-r empty 0 38
0 10 -71583 -1 -1 0 1;
#X obj 120 291 tgl 30 0 \$0-grid-btn-10-s \$0-grid-btn-10-r empty 0
38 0 10 -71583 -1 -1 0 1;
#X obj 170 291 tgl 30 0 \$0-grid-btn-11-s \$0-grid-btn-11-r empty 0
38 0 10 -71583 -1 -1 0 1;
#X obj 20 341 tgl 30 0 \$0-grid-btn-12-s \$0-grid-btn-12-r empty 0
38 0 10 -71583 -1 -1 0 1;
#X obj 70 341 tgl 30 0 \$0-grid-btn-13-s \$0-grid-btn-13-r empty 0
38 0 10 -71583 -1 -1 0 1;
#X obj 120 341 tgl 30 0 \$0-grid-btn-14-s \$0-grid-btn-14-r empty 0
38 0 10 -71583 -1 -1 0 1;
#X obj 170 341 tgl 30 0 \$0-grid-btn-15-s \$0-grid-btn-15-r empty 0
38 0 10 -71583 -1 -1 0 1;
#X obj 0 -230 bng 15 250 50 0 empty empty Startup_animation 17 7 0
10 -262144 -1 -1;
#X obj 0 -285 r \$0-bang-on-load-1;
#N canvas 266 121 1432 909 display-waveform 0;
#X obj 504 42 r \$0-global-state-1;
#X text 330 286 <-- Ignore empty symbol;
#X obj 696 310 r \$0-display-waveform;
#X text 748 7 Display the waveform of the currently selected sound
;
#X obj 0 0 cnv 15 150 55 \$0-sound-display-bg-s \$0-sound-display-bg-r
empty 20 12 0 14 -1 -1 0;
#N canvas 0 81 450 250 (subpatch) 0;
#X array \$0-snd-display-L 20672 float 4;
#X coords 0 1 20671 -1 150 55 2 0 0;
#X restore 0 0 graph;
#X text 595 700 Resize the array to fit the current sound;
#X text 570 818 Get the array data from the current sound and place
it in the display;
#X obj 774 381 r \$0-colors-packed;
#X obj 635 593 s \$0-sound-display-bg-r;
#X obj 369 671 spigot 0;
#X obj 846 593 s \$0-lcd-array-size-r;
#X obj 457 752 t f f;
#X obj 494 777 array size \$0-snd-display-L;
#X obj 457 797 array set \$0-snd-display-L;
#X obj 369 700 array size \$0-snd-display-L;
#X obj 272 289 sel -L;
#N canvas 264 227 734 528 incremental-loader 0;
#X obj 78 75 inlet array-name;
#X obj 213 75 inlet size;
#X obj 172 173 f;
#X obj 78 100 t b a;
#X obj 115 351 t a;
#X obj 281 324 f 0;
#X obj 319 324 + 1;
#X obj 281 269 <;
#X obj 281 294 sel 1;
#X obj 281 370 *;
#X obj 172 203 t f f;
#X obj 209 294 t b f;
#X msg 335 294 0;
#X obj 281 240 f;
#X obj 281 210 del;
#X obj 239 401 t b f b f;
#X obj 213 100 t f b f;
#X obj 393 144 t f;
#X obj 393 404 t f;
#N canvas 829 356 749 605 incremental-display 0;
#X obj 19 359 until;
#X obj 19 414 f 0;
#X obj 113 60 int;
#X obj 255 29 inlet starting-point;
#X obj 19 446 t f f;
#X obj 52 414 + 1;
#X obj 19 329 f;
#X obj 113 29 inlet slice-size;
#X obj 19 29 inlet next;
#X obj 19 512 tabread;
#X msg 39 477 set \$1;
#X obj 429 29 inlet array-name;
#X obj 19 550 array set \$0-snd-display-L;
#X obj 571 29 inlet total-size;
#X obj 113 196 <;
#X obj 113 136 +;
#X obj 40 158 f;
#X obj 113 221 sel 1 0;
#X obj 113 161 t f f;
#X obj 129 285 f;
#X obj 150 259 expr $f2 - $f1;
#X text 274 259 <-- If if was greater \, then take the difference;
#X obj 113 85 t f f;
#X obj 131 336 t b a;
#X msg 131 361 0;
#X text 110 414 <-- Counter to copy data from the input array to the
display array;
#X text 156 196 <-- Check if chunk+starting is less than total size
;
#X connect 0 0 1 0;
#X connect 1 0 5 0;
#X connect 1 0 4 0;
#X connect 2 0 22 0;
#X connect 3 0 15 0;
#X connect 4 0 9 0;
#X connect 4 1 12 1;
#X connect 5 0 1 1;
#X connect 6 0 0 0;
#X connect 7 0 2 0;
#X connect 8 0 6 0;
#X connect 9 0 12 0;
#X connect 10 0 9 0;
#X connect 11 0 23 0;
#X connect 13 0 14 1;
#X connect 13 0 20 1;
#X connect 14 0 17 0;
#X connect 15 0 18 0;
#X connect 16 0 6 1;
#X connect 17 0 16 0;
#X connect 17 1 19 0;
#X connect 18 0 14 0;
#X connect 18 1 20 0;
#X connect 19 0 6 1;
#X connect 20 0 19 1;
#X connect 22 0 15 1;
#X connect 22 1 16 1;
#X connect 23 0 24 0;
#X connect 23 1 10 0;
#X connect 24 0 1 1;
#X restore 120 481 pd incremental-display;
#X text 340 181 <-- Delay between copying each chunk;
#X text 243 143 <-- Chunk size;
#X text 81 14 Load through the array in sections (chunks) \, instead
of loading it all at once.;
#X text 350 325 <-- Counter to keep track of number of chunks;
#X msg 302 182 100;
#X msg 193 145 10000;
#X connect 0 0 3 0;
#X connect 1 0 16 0;
#X connect 2 0 10 0;
#X connect 3 0 2 0;
#X connect 3 1 4 0;
#X connect 4 0 19 3;
#X connect 5 0 6 0;
#X connect 5 0 9 0;
#X connect 6 0 5 1;
#X connect 7 0 8 0;
#X connect 8 0 5 0;
#X connect 9 0 15 0;
#X connect 10 0 19 1;
#X connect 10 1 11 0;
#X connect 11 0 5 0;
#X connect 11 1 9 1;
#X connect 12 0 5 1;
#X connect 13 0 7 0;
#X connect 14 0 13 0;
#X connect 15 0 14 0;
#X connect 15 1 13 1;
#X connect 15 2 19 0;
#X connect 15 3 19 2;
#X connect 16 0 7 1;
#X connect 16 1 25 0;
#X connect 16 1 24 0;
#X connect 16 1 12 0;
#X connect 16 2 17 0;
#X connect 17 0 18 0;
#X connect 18 0 19 4;
#X connect 24 0 14 1;
#X connect 25 0 2 1;
#X restore 317 834 pd incremental-loader;
#X obj 343 578 t f f f;
#X obj 343 783 t f;
#X msg 457 727 1;
#X obj 635 347 spigot 1;
#X obj 745 347 spigot 1;
#X obj 144 1 cnv 5 5 5 \$0-lcd-array-size-s \$0-lcd-array-size-r empty
-141 27 0 14 -1 -1 0;
#X obj 317 750 spigot 0;
#X obj 430 636 f;
#X msg 635 514 color \$1 \$2 \$3;
#X obj 635 474 list;
#X obj 457 672 sel 0 1;
#X msg 856 557 label empty;
#X obj 745 474 list;
#X msg 774 439 \$1 \$1 \$1;
#X obj 774 408 list;
#X msg 664 439 \$3 \$1 \$1;
#X text 924 112 <-- Turns "off" display by setting to all bg color
;
#X obj 504 141 t b b b b;
#X obj 745 254 spigot 1;
#X msg 841 219 1;
#X obj 877 114 t b b;
#X obj 745 219 del 5;
#X msg 806 219 0;
#X text 885 219 <-- Delay the bang to prevent the background from flashing.
This happens because when you change sound it enters one-shot-mode
briefly \, and it will set the bg to black. This is sort of a hack
\, but it works for now.;
#N canvas 885 338 844 567 get-saved-array-size 0;
#X msg 140 402 1e+009;
#X obj 154 180 t f b;
#X msg 209 210 1;
#X obj 109 152 sel -1;
#X obj 54 25 inlet;
#X obj 46 372 t a b;
#X obj 54 50 t a a;
#X obj 46 242 symbol;
#X text 225 156 <-- If it wasn't found \, place it in the text;
#X text 336 241 <-- If it was found \, get the array size;
#X text 348 129 <-- Search for array name in text;
#X obj 154 267 outlet;
#X obj 107 312 array size;
#X obj 46 267 t a b a;
#X text 255 518 <-- Tet object that stores the name and array size
;
#X obj 46 342 pack s f;
#X obj 46 427 text insert \$0-sample-sizes;
#X obj 46 517 text define \$0-sample-sizes;
#X obj 154 242 text get \$0-sample-sizes;
#X obj 109 127 text search \$0-sample-sizes 0;
#X connect 0 0 16 1;
#X connect 1 0 18 0;
#X connect 1 1 2 0;
#X connect 2 0 18 1;
#X connect 3 0 7 0;
#X connect 3 1 1 0;
#X connect 4 0 6 0;
#X connect 5 0 16 0;
#X connect 5 1 0 0;
#X connect 6 0 19 0;
#X connect 6 1 7 1;
#X connect 7 0 13 0;
#X connect 12 0 15 1;
#X connect 13 0 15 0;
#X connect 13 1 12 0;
#X connect 13 2 12 1;
#X connect 15 0 5 0;
#X connect 18 0 11 0;
#X connect 19 0 3 0;
#X restore 364 349 pd get-saved-array-size;
#N canvas 0 50 417 247 check-duplicate 0;
#X obj 65 163 spigot;
#X obj 65 42 inlet;
#X obj 65 188 outlet;
#X obj 136 35 r \$0-bang-on-load-3;
#X obj 136 60 del 100;
#X msg 136 100 -1;
#X obj 65 107 t f f;
#X obj 110 133 > 0;
#X connect 0 0 2 0;
#X connect 1 0 6 0;
#X connect 3 0 4 0;
#X connect 4 0 5 0;
#X connect 5 0 7 0;
#X connect 6 0 0 0;
#X connect 6 1 7 0;
#X connect 7 0 0 1;
#X restore 272 190 pd check-duplicate;
#X obj 317 519 t a b;
#X obj 343 552 f;
#X obj 317 319 t a a;
#X msg 846 537 label TOO_BIG_TO_DISPLAY;
#X text 185 -3 <-- Note: Tiny 5px canvas object hidden in this corner!
The canvas is named \$0-lcd-array-size-r and it shows the message "TOO_BIG_TO_DISPLAY"
;
#X obj 235 85 r \$0-current-sample-patch-id;
#X msg 272 264 symbol \$1-sample-L;
#X obj 235 155 t b f;
#X obj 272 477 symbol;
#X obj 317 401 t a b;
#X obj 354 426 del 75;
#X obj 235 126 spigot 1;
#X obj 430 609 < 100000;
#N canvas 608 328 407 366 display-start-and-length 0;
#X obj 279 112 f \$0;
#X obj 36 77 t f b;
#X obj 36 52 r \$0-current-sound;
#X obj 36 307 s \$0-current-sample-length-r;
#X msg 36 247 sample-length-\$1;
#X msg 66 152 sample-start-position-\$1;
#X obj 66 212 s \$0-current-sample-start-position-r;
#X obj 41 25 hsl 150 10 0 1 0 0 \$0-current-sample-start-position-s
\$0-current-sample-start-position-r empty -2 -8 0 10 -1 -262144 -1
0 1;
#X obj 41 35 hsl 150 10 0 1 0 0 \$0-current-sample-length-s \$0-current-sample-length-r
empty -2 -8 0 10 -1 -262144 -1 14900 1;
#X obj 66 182 tbc-utils/receive-generator;
#X obj 36 277 tbc-utils/receive-generator;
#X connect 0 0 9 1;
#X connect 0 0 10 1;
#X connect 1 0 5 0;
#X connect 1 0 4 0;
#X connect 1 1 0 0;
#X connect 2 0 1 0;
#X connect 4 0 10 0;
#X connect 5 0 9 0;
#X connect 9 0 6 0;
#X connect 10 0 3 0;
#X restore 2 731 pd display-start-and-length;
#X text 7 707 This is WIP VVVVV;
#X obj 504 85 sel write-mode sound-mode samples-mode bpm-mode;
#X obj 272 234 f;
#X obj 53 155 r \$0-recording-sample;
#X obj 53 180 sel 0;
#X text 25 210 Re-bang if a new sample was recorded;
#X obj 317 812 symbol;
#X connect 0 0 59 0;
#X connect 2 0 21 1;
#X connect 2 0 55 1;
#X connect 8 0 32 1;
#X connect 8 0 32 0;
#X connect 10 0 15 0;
#X connect 12 0 14 0;
#X connect 12 1 13 0;
#X connect 16 1 46 0;
#X connect 18 0 19 0;
#X connect 18 1 10 0;
#X connect 18 2 56 0;
#X connect 19 0 17 1;
#X connect 20 0 12 0;
#X connect 21 0 27 0;
#X connect 22 0 30 0;
#X connect 24 0 64 0;
#X connect 25 0 10 1;
#X connect 25 0 24 1;
#X connect 25 0 28 0;
#X connect 26 0 9 0;
#X connect 26 0 11 0;
#X connect 27 0 26 0;
#X connect 28 0 20 0;
#X connect 28 0 47 0;
#X connect 28 1 29 0;
#X connect 29 0 11 0;
#X connect 30 0 26 0;
#X connect 31 0 30 1;
#X connect 32 0 33 0;
#X connect 32 0 31 0;
#X connect 33 0 27 1;
#X connect 35 1 25 0;
#X connect 35 2 21 0;
#X connect 35 3 40 0;
#X connect 36 0 22 0;
#X connect 37 0 36 1;
#X connect 38 0 39 0;
#X connect 38 1 37 0;
#X connect 39 0 36 0;
#X connect 40 0 36 1;
#X connect 42 0 45 1;
#X connect 43 0 60 0;
#X connect 44 0 24 0;
#X connect 44 1 45 0;
#X connect 45 0 18 0;
#X connect 46 0 53 0;
#X connect 46 1 42 0;
#X connect 47 0 11 0;
#X connect 49 0 55 0;
#X connect 50 0 16 0;
#X connect 51 1 43 0;
#X connect 52 0 44 0;
#X connect 53 0 52 1;
#X connect 53 1 54 0;
#X connect 54 0 52 0;
#X connect 55 0 51 0;
#X connect 56 0 25 0;
#X connect 59 0 35 0;
#X connect 59 1 35 0;
#X connect 59 2 35 0;
#X connect 59 3 35 0;
#X connect 59 4 38 0;
#X connect 60 0 50 0;
#X connect 61 0 62 0;
#X connect 62 0 60 0;
#X connect 64 0 17 0;
#X coords 0 -1 1 1 150 55 1 0 0;
#X restore 301 57 pd display-waveform;
#X obj 20 49 tbc-images/metro-animation;
#X obj 20 -150 r \$0-current-step;
#X text 0 -305 vvv Activate startup animation;
#X obj 48 -30 r \$0-hi-color-structs;
#X obj 20 -94 spigot 0;
#X obj 81 -120 r \$0-display-animation;
#X msg 10 -190 0;
#X text 695 577 <-- Effects get applied here;
#X obj 967 735 outlet pattern;
#X obj 817 735 outlet step;
#X obj 205 400 cnv 15 15 15 empty \$0-cnv-bottom PATTERN 5 11 0 14
-71583 -1 0;
#X obj 437 400 cnv 15 15 15 empty \$0-cnv-bottom EXP 5 11 0 14 -71583
-1 0;
#X obj 0 -260 delay 500;
#X obj 463 -30 r \$0-fg-color-structs;
#N canvas 690 489 546 360 write-button 0;
#X obj 269 301 s \$0-one-shot-mode-on-off;
#X obj 289 116 sel one-shot-mode;
#X msg 309 271 0;
#X obj 269 146 sel write-mode;
#X msg 269 271 1;
#X obj 73 116 sel one-shot-mode;
#X obj 53 146 sel write-mode;
#X msg 93 276 0;
#X msg 53 276 1;
#X obj 53 76 r \$0-global-state-on;
#X obj 269 76 r \$0-global-state-off;
#N canvas 442 388 444 418 write-mode-on-off 0;
#X obj 39 29 inlet;
#X obj 76 313 s \$0-turn-off-get-next-button;
#X msg 76 262 0;
#X obj 99 289 s \$0-flash-current-grid-button;
#X obj 76 86 change;
#X obj 113 199 s \$0-stop-waiting-for-button-presses;
#N canvas 573 369 422 183 handle-view-sequencer 0;
#X obj 39 29 inlet;
#X obj 39 117 s \$0-clear-toggle-backgrounds;
#X obj 39 58 t b f f;
#X obj 39 88 t b;
#X obj 92 88 s \$0-view-sequencer;
#X connect 0 0 2 0;
#X connect 2 0 3 0;
#X connect 2 2 4 0;
#X connect 3 0 1 0;
#X restore 39 362 pd handle-view-sequencer;
#X obj 76 117 sel 0;
#X obj 76 149 t b b;
#X msg 113 174 0;
#X obj 39 60 t f f;
#X text 91 236 <-- NOTE: There was a [del 5] here!;
#X connect 0 0 10 0;
#X connect 2 0 3 0;
#X connect 2 0 1 0;
#X connect 4 0 7 0;
#X connect 7 0 8 0;
#X connect 8 0 2 0;
#X connect 8 1 9 0;
#X connect 9 0 5 0;
#X connect 10 0 6 0;
#X connect 10 1 4 0;
#X restore 53 306 pd write-mode-on-off;
#X text 56 35 When the write button is off \, turn on one shot mode
;
#X obj 53 171 t b b b;
#X obj 106 211 s \$0-load-current-gates;
#X obj 79 241 s \$0-load-current-pitches;
#X connect 1 1 2 0;
#X connect 2 0 0 0;
#X connect 3 1 7 0;
#X connect 4 0 0 0;
#X connect 5 0 4 0;
#X connect 6 0 13 0;
#X connect 7 0 11 0;
#X connect 8 0 11 0;
#X connect 9 0 5 0;
#X connect 9 0 6 0;
#X connect 10 0 1 0;
#X connect 10 0 3 0;
#X connect 13 0 8 0;
#X connect 13 1 15 0;
#X connect 13 2 14 0;
#X restore 535 458 pd write-button;
#X obj 444 21 cnv 15 20 20 empty \$0-cnv-top FX 5 12 0 14 -1 -71583
0;
#X obj 286 21 cnv 15 20 20 empty \$0-cnv-top TRIGS 5 12 0 14 -1 -71583
0;
#X obj 368 21 cnv 15 20 20 empty \$0-cnv-top TUNE 5 12 0 14 -1 -71583
0;
#X obj 203 21 cnv 15 20 20 empty \$0-cnv-top PATTERN 5 12 0 14 -1 -71583
0;
#X obj 261 301 cnv 10 200 90 \$0-cnv-grid-knobs-label-s \$0-cnv-grid-knobs-label-r
VOLUME 80 80 0 10 -71583 -1 0;
#X obj 270 191 flatgui/knob 30 30 0 1 0 1 \$0-grid-knob-0-s \$0-grid-knob-0-r
empty 8 38 1 8 4.10857e+007 4.10857e+007 4.10857e+007 2900 1;
#X obj 320 191 flatgui/knob 30 30 0 1 0 1 \$0-grid-knob-1-s \$0-grid-knob-1-r
empty 8 38 1 8 4.10857e+007 4.10857e+007 4.10857e+007 2200 1;
#X obj 370 191 flatgui/knob 30 30 0 1 0 1 \$0-grid-knob-2-s \$0-grid-knob-2-r
empty 8 38 1 8 4.10857e+007 4.10857e+007 4.10857e+007 0 1;
#X obj 420 191 flatgui/knob 30 30 0 1 0 1 \$0-grid-knob-3-s \$0-grid-knob-3-r
empty 8 38 1 8 4.10857e+007 4.10857e+007 4.10857e+007 0 1;
#X obj 270 241 flatgui/knob 30 30 0 1 0 1 \$0-grid-knob-4-s \$0-grid-knob-4-r
empty 8 38 1 8 4.10857e+007 4.10857e+007 4.10857e+007 0 1;
#X obj 320 241 flatgui/knob 30 30 0 1 0 1 \$0-grid-knob-5-s \$0-grid-knob-5-r
empty 8 38 1 8 4.10857e+007 4.10857e+007 4.10857e+007 2900 1;
#X obj 370 241 flatgui/knob 30 30 0 1 0 1 \$0-grid-knob-6-s \$0-grid-knob-6-r
empty 8 38 1 8 4.10857e+007 4.10857e+007 4.10857e+007 2900 1;
#X obj 420 241 flatgui/knob 30 30 0 1 0 1 \$0-grid-knob-7-s \$0-grid-knob-7-r
empty 8 38 1 8 4.10857e+007 4.10857e+007 4.10857e+007 2900 1;
#X obj 270 291 flatgui/knob 30 30 0 1 0 1 \$0-grid-knob-8-s \$0-grid-knob-8-r
empty 8 38 1 8 4.10857e+007 4.10857e+007 4.10857e+007 2900 1;
#X obj 320 291 flatgui/knob 30 30 0 1 0 1 \$0-grid-knob-9-s \$0-grid-knob-9-r
empty 8 38 1 8 4.10857e+007 4.10857e+007 4.10857e+007 2100 1;
#X obj 370 291 flatgui/knob 30 30 0 1 0 1 \$0-grid-knob-10-s \$0-grid-knob-10-r
empty 8 38 1 8 4.10857e+007 4.10857e+007 4.10857e+007 2000 1;
#X obj 420 291 flatgui/knob 30 30 0 1 0 1 \$0-grid-knob-11-s \$0-grid-knob-11-r
empty 8 38 1 8 4.10857e+007 4.10857e+007 4.10857e+007 2900 1;
#X obj 270 341 flatgui/knob 30 30 0 1 0 1 \$0-grid-knob-12-s \$0-grid-knob-12-r
empty 8 38 1 8 4.10857e+007 4.10857e+007 4.10857e+007 2900 1;
#X obj 320 341 flatgui/knob 30 30 0 1 0 1 \$0-grid-knob-13-s \$0-grid-knob-13-r
empty 8 38 1 8 4.10857e+007 4.10857e+007 4.10857e+007 2900 1;
#X obj 370 341 flatgui/knob 30 30 0 1 0 1 \$0-grid-knob-14-s \$0-grid-knob-14-r
empty 8 38 1 8 4.10857e+007 4.10857e+007 4.10857e+007 2900 1;
#X obj 420 341 flatgui/knob 30 30 0 1 0 1 \$0-grid-knob-15-s \$0-grid-knob-15-r
empty 8 38 1 8 4.10857e+007 4.10857e+007 4.10857e+007 0 1;
#X obj 735 80 r \$0-playing;
#X obj 0 0 tbc-images/startup-animation;
#X obj 817 628 r \$0-current-step-early;
#N canvas 329 468 528 261 exp-out 0;
#X obj 41 180 f \$0;
#X obj 41 95 r \$0-bang-on-load-1;
#X obj 41 207 outlet;
#X text 91 184 <-- \$0 aka patch id;
#X text 39 33 Used for expander modules;
#X text 39 13 The patch ID for this instance of The Beat Cop;
#X msg 41 120 1;
#X obj 41 150 metro 250;
#X connect 0 0 2 0;
#X connect 1 0 6 0;
#X connect 6 0 7 0;
#X connect 7 0 0 0;
#X restore 1409 690 pd exp-out;
#X obj 1409 735 outlet exp;
#N canvas 0 105 1215 814 modifier-buttons 0;
#X obj 761 321 r \$0-samples-btn-s;
#X obj 265 319 r \$0-pattern-btn-s;
#X obj 2138 320 r \$0-fx-btn-s;
#X obj 523 320 r \$0-bpm-btn-s;
#X obj 761 406 t f f f f;
#X obj 830 459 s \$0-samples-btn-0-s;
#X obj 807 479 s \$0-samples-btn-1-s;
#X obj 784 499 s \$0-samples-btn-2-s;
#X obj 761 519 s \$0-samples-btn-3-s;
#X obj 265 404 t f f f f;
#X obj 2138 405 t f f f f;
#X obj 523 406 t f f f f;
#X obj 288 497 s \$0-pattern-btn-2-s;
#X obj 311 477 s \$0-pattern-btn-1-s;
#X obj 334 457 s \$0-pattern-btn-0-s;
#X obj 265 517 s \$0-pattern-btn-3-s;
#X obj 2207 458 s \$0-fx-btn-0-s;
#X obj 2184 478 s \$0-fx-btn-1-s;
#X obj 2161 498 s \$0-fx-btn-2-s;
#X obj 2138 518 s \$0-fx-btn-3-s;
#X obj 592 459 s \$0-bpm-btn-0-s;
#X obj 569 479 s \$0-bpm-btn-1-s;
#X obj 546 499 s \$0-bpm-btn-2-s;
#X obj 523 519 s \$0-bpm-btn-3-s;
#X obj 1901 406 t f f f f;
#X obj 1970 459 s \$0-funct-btn-0-s;
#X obj 1947 479 s \$0-funct-btn-1-s;
#X obj 1924 499 s \$0-funct-btn-2-s;
#X obj 1901 519 s \$0-funct-btn-3-s;
#X text 554 2 0-s - Used within the states subpatch;
#X text 555 42 2-s - Unused;
#X text 555 62 3-s - Unused;
#X obj 2855 323 r \$0-select-pattern-to-paste;
#X obj 2855 404 t f f f f;
#X obj 2924 462 s \$0-select-pattern-to-paste-0;
#X obj 2901 482 s \$0-select-pattern-to-paste-1;
#X obj 2878 502 s \$0-select-pattern-to-paste-2;
#X obj 2855 522 s \$0-select-pattern-to-paste-3;
#X obj 312 566 s \$0-save-pattern;
#X obj 312 542 t b;
#X obj 1605 406 t f f f f;
#X obj 1283 405 t f f f f;
#X obj 2385 408 t f f f f;
#X obj 2628 409 t f f f f;
#X obj 2697 462 s \$0-write-btn-0-s;
#X obj 2674 482 s \$0-write-btn-1-s;
#X obj 2651 502 s \$0-write-btn-2-s;
#X obj 2628 522 s \$0-write-btn-3-s;
#X obj 2628 323 r \$0-write-btn-s;
#X obj 2385 323 r \$0-play-btn-s;
#X obj 2385 521 s \$0-play-btn-3-s;
#X obj 2408 501 s \$0-play-btn-2-s;
#X obj 2431 481 s \$0-play-btn-1-s;
#X obj 2454 461 s \$0-play-btn-0-s;
#X obj 41 320 r \$0-sound-btn-s;
#X obj 41 405 t f f f f;
#X obj 110 458 s \$0-sound-btn-0-s;
#X obj 87 478 s \$0-sound-btn-1-s;
#X obj 64 498 s \$0-sound-btn-2-s;
#X obj 41 518 s \$0-sound-btn-3-s;
#X obj 1901 320 r \$0-funct-btn-s;
#X obj 1674 459 s \$0-midi-control-btn-0-s;
#X obj 1651 479 s \$0-midi-control-btn-1-s;
#X obj 1628 499 s \$0-midi-control-btn-2-s;
#X obj 1605 519 s \$0-midi-control-btn-3-s;
#X obj 1031 406 t f f f f;
#X obj 1031 321 r \$0-ext-step-btn-s;
#X obj 1100 459 s \$0-ext-step-btn-0-s;
#X obj 1077 479 s \$0-ext-step-btn-1-s;
#X obj 1054 499 s \$0-ext-step-btn-2-s;
#X obj 1031 519 s \$0-ext-step-btn-3-s;
#X obj 3185 404 t f f f f;
#X obj 3185 323 r \$0-midi-mapper-state;
#X obj 3231 470 s \$0-midi-mapper-state-1;
#X obj 3208 490 s \$0-midi-mapper-state-2;
#X obj 3185 510 s \$0-midi-mapper-state-3;
#X obj 41 375 spigot 1;
#X obj 265 375 spigot 1;
#X obj 523 375 spigot 1;
#X obj 761 375 spigot 1;
#X obj 1031 375 spigot 1;
#X obj 1283 375 spigot 1;
#X obj 1901 375 spigot 1;
#X obj 2138 375 spigot 1;
#X obj 2385 375 spigot 1;
#X obj 2628 375 spigot 1;
#X obj 1283 319 r \$0-key-control-btn-s;
#X obj 1352 458 s \$0-key-control-btn-0-s;
#X obj 1328 478 s \$0-key-control-btn-1-s;
#X obj 1306 498 s \$0-key-control-btn-2-s;
#X obj 1283 518 s \$0-key-control-btn-3-s;
#X obj 1605 320 r \$0-midi-control-btn-s;
#X obj 3254 450 s \$0-midi-mapper-state-0;
#X obj 462 114 r \$0-midi-mapper-active;
#X obj 499 229 == 0;
#X obj 278 249 t f;
#X obj 1605 375 spigot 1;
#X obj 462 144 t f f;
#X obj 1666 269 sel 1;
#X msg 1666 294 1;
#X obj 278 114 r \$0-can-change-state;
#X text 554 22 1-s - Unused;
#X text 33 7 Originally the modifier buttons were used in mulitple
places throughout the patch \, so I needed to be able to sequence them
together. I later moved this to the global-state instead. These sends
might still be useful for other purposes \, but currently only \$0-....-0-s
is used.;
#X text 1601 178 We need to be able to read input from the midi button
in order to turn off the midi mapper.;
#X obj 2855 374 spigot 1;
#X obj 3185 374 spigot 1;
#X connect 0 0 79 0;
#X connect 1 0 77 0;
#X connect 2 0 83 0;
#X connect 3 0 78 0;
#X connect 4 0 8 0;
#X connect 4 1 7 0;
#X connect 4 2 6 0;
#X connect 4 3 5 0;
#X connect 9 0 15 0;
#X connect 9 1 12 0;
#X connect 9 1 39 0;
#X connect 9 2 13 0;
#X connect 9 3 14 0;
#X connect 10 0 19 0;
#X connect 10 1 18 0;
#X connect 10 2 17 0;
#X connect 10 3 16 0;
#X connect 11 0 23 0;
#X connect 11 1 22 0;
#X connect 11 2 21 0;
#X connect 11 3 20 0;
#X connect 24 0 28 0;
#X connect 24 1 27 0;
#X connect 24 2 26 0;
#X connect 24 3 25 0;
#X connect 32 0 104 0;
#X connect 33 0 37 0;
#X connect 33 1 36 0;
#X connect 33 2 35 0;
#X connect 33 3 34 0;
#X connect 39 0 38 0;
#X connect 40 0 64 0;
#X connect 40 1 63 0;
#X connect 40 2 62 0;
#X connect 40 3 61 0;
#X connect 41 0 90 0;
#X connect 41 1 89 0;
#X connect 41 2 88 0;
#X connect 41 3 87 0;
#X connect 42 0 50 0;
#X connect 42 1 51 0;
#X connect 42 2 52 0;
#X connect 42 3 53 0;
#X connect 43 0 47 0;
#X connect 43 1 46 0;
#X connect 43 2 45 0;
#X connect 43 3 44 0;
#X connect 48 0 85 0;
#X connect 49 0 84 0;
#X connect 54 0 76 0;
#X connect 55 0 59 0;
#X connect 55 1 58 0;
#X connect 55 2 57 0;
#X connect 55 3 56 0;
#X connect 60 0 82 0;
#X connect 65 0 70 0;
#X connect 65 1 69 0;
#X connect 65 2 68 0;
#X connect 65 3 67 0;
#X connect 66 0 80 0;
#X connect 71 0 75 0;
#X connect 71 1 74 0;
#X connect 71 2 73 0;
#X connect 71 3 92 0;
#X connect 72 0 105 0;
#X connect 76 0 55 0;
#X connect 77 0 9 0;
#X connect 78 0 11 0;
#X connect 79 0 4 0;
#X connect 80 0 65 0;
#X connect 81 0 41 0;
#X connect 82 0 24 0;
#X connect 83 0 10 0;
#X connect 84 0 42 0;
#X connect 85 0 43 0;
#X connect 86 0 81 0;
#X connect 91 0 96 0;
#X connect 93 0 97 0;
#X connect 94 0 95 0;
#X connect 95 0 76 1;
#X connect 95 0 77 1;
#X connect 95 0 78 1;
#X connect 95 0 79 1;
#X connect 95 0 80 1;
#X connect 95 0 81 1;
#X connect 95 0 82 1;
#X connect 95 0 83 1;
#X connect 95 0 84 1;
#X connect 95 0 85 1;
#X connect 95 0 96 1;
#X connect 95 0 104 1;
#X connect 95 0 105 1;
#X connect 96 0 40 0;
#X connect 97 0 98 0;
#X connect 97 1 94 0;
#X connect 98 0 99 0;
#X connect 99 0 96 1;
#X connect 100 0 95 0;
#X connect 104 0 33 0;
#X connect 105 0 71 0;
#X restore 525 266 pd modifier-buttons;
#X text 347 -94 There is a hidden subpatch here that is used for the
startup animation.;
#X text 347 -58 V;
#X text 347 -38 V;
#X text 347 -18 V;
#N canvas 124 261 590 593 sound-pattern-samples-fx-buttons 0;
#X obj 45 502 cnv 15 250 60 empty empty empty 20 12 0 14 -261234 -66577
0;
#N canvas 783 59 1083 841 handle-selector-actions 0;
#X text 129 433 Clear grid;
#X obj 46 426 sel 1;
#X obj 110 457 s \$0-clear-grid;
#N canvas 692 165 806 632 select-sample 0;
#X obj 595 453 r \$0-current-sound;
#X obj 595 479 route float;
#X obj 321 299 r \$0-packed-grid-buttons;
#X msg 56 295 1;
#X msg 208 271 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
#X obj 574 503 f;
#X obj 145 227 t b b;
#X floatatom 625 508 5 0 0 0 - - -;
#X text 571 390 Flash current toggle;
#X text 55 196 Switch to selected sound;
#X obj 574 539 s \$0-flash-grid-button;
#X obj 296 510 pack s f;
#X obj 275 586 s;
#X obj 296 560 symbol;
#X floatatom 357 487 5 0 15 1 Grid_button - -;
#X text 350 560 Buttons;
#X obj 296 453 symbol \$0-pick-sample;
#X text 341 591 Send out the bang to open the correct sampler's dialog
;
#N canvas 203 87 958 846 get-next-button-and-keep-polling 0;
#X obj 389 23 inlet packed-grid;
#X obj 405 622 f;
#X obj 415 602 f;
#X obj 425 582 f;
#X obj 435 562 f;
#X obj 445 542 f;
#X obj 455 522 f;
#X obj 465 502 f;
#X obj 475 482 f;
#X obj 485 462 f;
#X obj 495 442 f;
#X obj 505 422 f;
#X obj 515 402 f;
#X obj 525 382 f;
#X obj 535 362 f;
#X obj 545 342 f;
#X obj 555 322 f;
#X obj 67 272 sel 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15;
#X obj 426 272 unpack f f f f f f f f f f f f f f f f;
#X obj 555 654 f;
#X obj 89 14 inlet on-off;
#X obj 44 199 f 0;
#X obj 82 199 + 1;
#X msg 101 160 0;
#X obj 69 760 f;
#X floatatom 69 785 5 0 0 0 - - -;
#X obj 69 807 outlet next-button;
#X floatatom 505 679 5 0 0 0 - - -;
#X obj 555 679 sel 1;
#X text 453 185 This subpatch will get the next grid button that is
pressed.;
#X text 453 205 It checks all of the grid buttons to see if any of
them are equal to 1;
#X obj 555 704 t b;
#X obj 44 95 spigot;
#X obj 389 48 t b a;
#X msg 44 65 16;
#X obj 44 160 until;
#X floatatom 98 50 5 0 0 0 - - -;
#X obj 44 237 t b a a b;
#X obj 44 120 t f b;
#X connect 0 0 33 0;
#X connect 1 0 19 0;
#X connect 2 0 19 0;
#X connect 3 0 19 0;
#X connect 4 0 19 0;
#X connect 5 0 19 0;
#X connect 6 0 19 0;
#X connect 7 0 19 0;
#X connect 8 0 19 0;
#X connect 9 0 19 0;
#X connect 10 0 19 0;
#X connect 11 0 19 0;
#X connect 12 0 19 0;
#X connect 13 0 19 0;
#X connect 14 0 19 0;
#X connect 15 0 19 0;
#X connect 16 0 19 0;
#X connect 17 0 1 0;
#X connect 17 1 2 0;
#X connect 17 2 3 0;
#X connect 17 3 4 0;
#X connect 17 4 5 0;
#X connect 17 5 6 0;
#X connect 17 6 7 0;
#X connect 17 7 8 0;
#X connect 17 8 9 0;
#X connect 17 9 10 0;
#X connect 17 10 11 0;
#X connect 17 11 12 0;
#X connect 17 12 13 0;
#X connect 17 13 14 0;
#X connect 17 14 15 0;
#X connect 17 15 16 0;
#X connect 18 0 1 1;
#X connect 18 1 2 1;
#X connect 18 2 3 1;
#X connect 18 3 4 1;
#X connect 18 4 5 1;
#X connect 18 5 6 1;
#X connect 18 6 7 1;
#X connect 18 7 8 1;
#X connect 18 8 9 1;
#X connect 18 9 10 1;
#X connect 18 10 11 1;
#X connect 18 11 12 1;
#X connect 18 12 13 1;
#X connect 18 13 14 1;
#X connect 18 14 15 1;
#X connect 18 15 16 1;
#X connect 19 0 27 0;
#X connect 19 0 28 0;
#X connect 20 0 32 1;
#X connect 20 0 36 0;
#X connect 21 0 22 0;
#X connect 21 0 37 0;
#X connect 22 0 21 1;
#X connect 23 0 21 1;
#X connect 24 0 25 0;
#X connect 25 0 26 0;
#X connect 28 0 31 0;
#X connect 31 0 24 0;
#X connect 32 0 38 0;
#X connect 33 0 34 0;
#X connect 33 1 18 0;
#X connect 34 0 32 0;
#X connect 35 0 21 0;
#X connect 37 1 17 0;
#X connect 37 2 24 1;
#X connect 38 0 35 0;
#X connect 38 1 23 0;
#X restore 44 326 pd get-next-button-and-keep-polling;
#X msg 44 270 0;
#X obj 76 510 pack s f;
#X obj 55 586 s;
#X obj 76 560 symbol;
#X floatatom 137 487 5 0 15 1 Grid_button - -;
#X text 130 560 Buttons;
#X obj 76 452 symbol \$0-grid-btn;
#X msg 37 560 0;
#X obj 145 110 t b b;
#X obj 328 66 inlet stop-polling;
#X obj 328 206 s \$0-save-sample-paths;
#X obj 574 423 del 1;
#X obj 328 176 spigot;
#X msg 328 120 0;
#X obj 328 145 t f f;
#X obj 328 91 sel 0;
#X obj 145 59 inlet bang;
#X msg 76 535 \$1-\$2-r;
#X msg 296 535 \$1-\$2-r;
#X obj 44 350 t b b b f f b;
#X text 44 12 Select which sample to open a dialog box for.;
#X obj 145 412 s \$0-flash-current-grid-button;
#X msg 145 382 0;
#X connect 0 0 1 0;
#X connect 1 0 5 1;
#X connect 1 0 7 0;
#X connect 2 0 18 1;
#X connect 3 0 18 0;
#X connect 3 0 31 1;
#X connect 4 0 18 1;
#X connect 5 0 10 0;
#X connect 6 0 3 0;
#X connect 6 1 4 0;
#X connect 11 0 37 0;
#X connect 13 0 12 1;
#X connect 14 0 11 1;
#X connect 16 0 11 0;
#X connect 18 0 38 0;
#X connect 19 0 18 0;
#X connect 20 0 36 0;
#X connect 22 0 21 1;
#X connect 23 0 20 1;
#X connect 25 0 20 0;
#X connect 26 0 21 0;
#X connect 27 0 6 0;
#X connect 27 1 30 0;
#X connect 28 0 34 0;
#X connect 30 0 5 0;
#X connect 31 0 29 0;
#X connect 32 0 33 0;
#X connect 33 0 31 1;
#X connect 33 1 31 0;
#X connect 34 0 32 0;
#X connect 34 0 19 0;
#X connect 35 0 27 0;
#X connect 36 0 22 0;
#X connect 37 0 13 0;
#X connect 38 1 12 0;
#X connect 38 1 26 0;
#X connect 38 2 16 0;
#X connect 38 2 25 0;
#X connect 38 3 14 0;
#X connect 38 3 23 0;
#X connect 38 4 10 0;
#X connect 38 5 41 0;
#X connect 41 0 40 0;
#X restore 46 773 pd select-sample;
#X obj 46 457 t b b;
#N canvas 749 195 805 575 select-sound 0;
#X obj 547 268 r \$0-current-sound;
#X obj 547 294 route float;
#X obj 181 257 r \$0-packed-grid-buttons;
#N canvas 577 159 1271 783 get-next-button 0;
#X obj 400 63 inlet packed-grid;
#X obj 379 592 f;
#X obj 389 572 f;
#X obj 399 552 f;
#X obj 409 532 f;
#X obj 419 512 f;
#X obj 429 492 f;
#X obj 439 472 f;
#X obj 449 452 f;
#X obj 459 432 f;
#X obj 469 412 f;
#X obj 479 392 f;
#X obj 489 372 f;
#X obj 499 352 f;
#X obj 509 332 f;
#X obj 519 312 f;
#X obj 529 292 f;
#X obj 44 242 sel 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15;
#X obj 400 242 unpack f f f f f f f f f f f f f f f f;
#X obj 529 624 f;
#X obj 44 92 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0 1
;
#X obj 44 114 metro 10;
#X obj 44 40 inlet on-off;
#X obj 44 139 f 0;
#X obj 82 139 + 1;
#X obj 114 139 sel 15;
#X msg 114 164 0;
#X obj 60 730 f;
#X obj 529 674 t b b;
#X msg 566 701 0;
#X floatatom 60 755 5 0 0 0 - - -;
#X obj 60 777 outlet next-button;
#X floatatom 54 164 5 0 0 0 - - -;
#X floatatom 479 649 5 0 0 0 - - -;
#X obj 44 197 t a a;
#X obj 529 649 sel 1;
#X text 552 138 This subpatch will get the next grid button that is
pressed.;
#X text 552 158 It checks all of the grid buttons to see if any of
them are equal to 1;
#X obj 50 66 r \$0-turn-off-get-next-button-sound;
#X obj 566 727 s \$0-turn-off-get-next-button-sound;
#X connect 0 0 18 0;
#X connect 1 0 19 0;
#X connect 2 0 19 0;
#X connect 3 0 19 0;
#X connect 4 0 19 0;
#X connect 5 0 19 0;
#X connect 6 0 19 0;
#X connect 7 0 19 0;
#X connect 8 0 19 0;
#X connect 9 0 19 0;
#X connect 10 0 19 0;
#X connect 11 0 19 0;
#X connect 12 0 19 0;
#X connect 13 0 19 0;
#X connect 14 0 19 0;
#X connect 15 0 19 0;
#X connect 16 0 19 0;
#X connect 17 0 1 0;
#X connect 17 1 2 0;
#X connect 17 2 3 0;
#X connect 17 3 4 0;
#X connect 17 4 5 0;
#X connect 17 5 6 0;
#X connect 17 6 7 0;
#X connect 17 7 8 0;
#X connect 17 8 9 0;
#X connect 17 9 10 0;
#X connect 17 10 11 0;
#X connect 17 11 12 0;
#X connect 17 12 13 0;
#X connect 17 13 14 0;
#X connect 17 14 15 0;
#X connect 17 15 16 0;
#X connect 18 0 1 1;
#X connect 18 1 2 1;
#X connect 18 2 3 1;
#X connect 18 3 4 1;
#X connect 18 4 5 1;
#X connect 18 5 6 1;
#X connect 18 6 7 1;
#X connect 18 7 8 1;
#X connect 18 8 9 1;
#X connect 18 9 10 1;
#X connect 18 10 11 1;
#X connect 18 11 12 1;
#X connect 18 12 13 1;
#X connect 18 13 14 1;
#X connect 18 14 15 1;
#X connect 18 15 16 1;
#X connect 19 0 33 0;
#X connect 19 0 35 0;
#X connect 20 0 21 0;
#X connect 21 0 23 0;
#X connect 22 0 20 0;
#X connect 23 0 24 0;
#X connect 23 0 25 0;
#X connect 23 0 32 0;
#X connect 23 0 34 0;
#X connect 24 0 23 1;
#X connect 25 0 26 0;
#X connect 26 0 23 1;
#X connect 27 0 30 0;
#X connect 28 0 27 0;
#X connect 28 1 29 0;
#X connect 29 0 39 0;
#X connect 30 0 31 0;
#X connect 34 0 17 0;
#X connect 34 1 27 1;
#X connect 35 0 28 0;
#X connect 38 0 20 0;
#X restore 40 283 pd get-next-button;
#X obj 93 356 s \$0-current-sound;
#X obj 66 450 s \$0-sound-btn-r;
#X msg 66 420 0, f 2;
#X msg 40 257 1;
#X msg 194 229 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
#X obj 526 318 f;
#X obj 141 185 t b b;
#X floatatom 577 323 5 0 0 0 - - -;
#X text 544 233 Flash current toggle;
#X obj 526 343 s \$0-flash-grid-button;
#X text 92 377 Switch the sequence to the current sound. Done in the
sequencer sub patch.;
#X obj 236 53 inlet bang;
#X obj 236 118 t b b;
#X obj 365 54 inlet stop;
#X obj 365 134 s \$0-turn-off-get-next-button-sound;
#X msg 365 109 0;
#X obj 365 79 sel 0;
#X obj 487 287 del 1;
#X text 459 51 Stop waiting for a button to be pressed;
#X text 64 474 Turn off the sound button toggle;
#X obj 40 307 t b b f;
#X msg 40 490 1, f 2;
#X obj 40 520 s \$0-write-btn-r;
#X text 38 544 Turn on the write button toggle;
#X text 27 10 Select which sound to sequence.;
#X connect 0 0 1 0;
#X connect 1 0 9 1;
#X connect 1 0 11 0;
#X connect 2 0 3 1;
#X connect 3 0 24 0;
#X connect 6 0 5 0;
#X connect 7 0 3 0;
#X connect 8 0 3 1;
#X connect 9 0 13 0;
#X connect 10 0 7 0;
#X connect 10 1 8 0;
#X connect 15 0 16 0;
#X connect 16 0 10 0;
#X connect 16 1 21 0;
#X connect 17 0 20 0;
#X connect 19 0 18 0;
#X connect 20 0 19 0;
#X connect 21 0 9 0;
#X connect 24 0 25 0;
#X connect 24 1 6 0;
#X connect 24 2 4 0;
#X connect 25 0 26 0;
#X restore 188 773 pd select-sound;
#N canvas 955 371 890 526 select-pattern 0;
#X obj 174 209 r \$0-packed-grid-buttons;
#X msg 33 209 1;
#X msg 187 181 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
#X obj 134 137 t b b;
#X obj 322 39 inlet bang;
#X obj 322 108 t b b;
#X obj 419 39 inlet stop;
#X msg 419 90 0;
#X obj 419 115 s \$0-turn-off-get-next-button-pattern;
#X obj 419 64 sel 0;
#X text 521 39 Stop waiting for a button to be pressed;
#N canvas 155 97 1077 846 get-next-button-and-keep-polling 0;
#X obj 389 23 inlet packed-grid;
#X obj 405 622 f;
#X obj 415 602 f;
#X obj 425 582 f;
#X obj 435 562 f;
#X obj 445 542 f;
#X obj 455 522 f;
#X obj 465 502 f;
#X obj 475 482 f;
#X obj 485 462 f;
#X obj 495 442 f;
#X obj 505 422 f;
#X obj 515 402 f;
#X obj 525 382 f;
#X obj 535 362 f;
#X obj 545 342 f;
#X obj 555 322 f;
#X obj 67 272 sel 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15;
#X obj 426 272 unpack f f f f f f f f f f f f f f f f;
#X obj 555 654 f;
#X obj 89 14 inlet on-off;
#X obj 44 199 f 0;
#X obj 82 199 + 1;
#X msg 101 160 0;
#X obj 69 760 f;
#X floatatom 69 785 5 0 0 0 - - -;
#X obj 69 807 outlet next-button;
#X floatatom 505 679 5 0 0 0 - - -;
#X obj 555 679 sel 1;
#X text 552 168 This subpatch will get the next grid button that is
pressed.;
#X text 552 188 It checks all of the grid buttons to see if any of
them are equal to 1;
#X obj 555 704 t b;
#X obj 44 95 spigot;
#X obj 389 48 t b a;
#X msg 44 65 16;
#X obj 44 160 until;
#X floatatom 98 50 5 0 0 0 - - -;
#X obj 44 237 t b a a b;
#X obj 44 120 t f b;
#X obj 102 75 r \$0-turn-off-get-next-button-pattern;
#X connect 0 0 33 0;
#X connect 1 0 19 0;
#X connect 2 0 19 0;
#X connect 3 0 19 0;
#X connect 4 0 19 0;
#X connect 5 0 19 0;
#X connect 6 0 19 0;
#X connect 7 0 19 0;
#X connect 8 0 19 0;
#X connect 9 0 19 0;
#X connect 10 0 19 0;
#X connect 11 0 19 0;
#X connect 12 0 19 0;
#X connect 13 0 19 0;
#X connect 14 0 19 0;
#X connect 15 0 19 0;
#X connect 16 0 19 0;
#X connect 17 0 1 0;
#X connect 17 1 2 0;
#X connect 17 2 3 0;
#X connect 17 3 4 0;
#X connect 17 4 5 0;
#X connect 17 5 6 0;
#X connect 17 6 7 0;
#X connect 17 7 8 0;
#X connect 17 8 9 0;
#X connect 17 9 10 0;
#X connect 17 10 11 0;
#X connect 17 11 12 0;
#X connect 17 12 13 0;
#X connect 17 13 14 0;
#X connect 17 14 15 0;
#X connect 17 15 16 0;
#X connect 18 0 1 1;
#X connect 18 1 2 1;
#X connect 18 2 3 1;
#X connect 18 3 4 1;
#X connect 18 4 5 1;
#X connect 18 5 6 1;
#X connect 18 6 7 1;
#X connect 18 7 8 1;
#X connect 18 8 9 1;
#X connect 18 9 10 1;
#X connect 18 10 11 1;
#X connect 18 11 12 1;
#X connect 18 12 13 1;
#X connect 18 13 14 1;
#X connect 18 14 15 1;
#X connect 18 15 16 1;
#X connect 19 0 27 0;
#X connect 19 0 28 0;
#X connect 20 0 32 1;
#X connect 20 0 36 0;
#X connect 21 0 22 0;
#X connect 21 0 37 0;
#X connect 22 0 21 1;
#X connect 23 0 21 1;
#X connect 24 0 25 0;
#X connect 25 0 26 0;
#X connect 28 0 31 0;
#X connect 31 0 24 0;
#X connect 32 0 38 0;
#X connect 33 0 34 0;
#X connect 33 1 18 0;
#X connect 34 0 32 0;
#X connect 35 0 21 0;
#X connect 37 1 17 0;
#X connect 37 2 24 1;
#X connect 38 0 35 0;
#X connect 38 1 23 0;
#X connect 39 0 32 1;
#X restore 33 242 pd get-next-button-and-keep-polling;
#N canvas 641 321 1104 494 create-pattern-chain 0;
#X obj 723 229 + 1;
#X obj 664 318 t f b;
#X obj 685 207 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 664 272 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 287 319 list append;
#X obj 372 262 list prepend;
#X obj 432 294 t l;
#X obj 453 156 t b b;
#X obj 664 352 array size \$0-pattern-chain;
#X floatatom 346 167 5 0 0 0 - - -;
#X obj 356 404 array set \$0-pattern-chain;
#X obj 346 33 inlet;
#X obj 453 35 inlet flush;
#X obj 346 58 t a b;
#X obj 453 110 spigot 0;
#X msg 514 82 1, f 1;
#X msg 535 82 0, f 1;
#X msg 722 195 0;
#X obj 664 293 f 0;
#X text 731 293 Resize the array to the size of the chain;
#X obj 78 264 s \$0-flash-grid-button;
#X obj 389 319 s \$0-temp-pattern-chain-labels;
#X obj 287 434 s \$0-restart-pattern-chain;
#X obj 346 189 t f f b;
#X obj 425 354 t b;
#X obj 287 374 t b b b l;
#X text 575 404 <-- Set the chain array;
#X text 541 109 <-- Don't flush unless at least one pattern was selected
;
#X floatatom 748 257 5 0 0 0 - - -;
#X floatatom 703 257 5 0 0 0 - - -;
#X obj 685 229 f 1;
#X connect 0 0 28 0;
#X connect 0 0 30 1;
#X connect 1 0 8 0;
#X connect 1 1 17 0;
#X connect 2 0 30 0;
#X connect 3 0 18 0;
#X connect 4 0 25 0;
#X connect 5 0 4 1;
#X connect 5 0 6 0;
#X connect 5 0 21 0;
#X connect 6 0 5 1;
#X connect 7 0 4 0;
#X connect 7 1 3 0;
#X connect 9 0 23 0;
#X connect 11 0 13 0;
#X connect 12 0 14 0;
#X connect 13 0 9 0;
#X connect 13 1 15 0;
#X connect 14 0 7 0;
#X connect 15 0 14 1;
#X connect 16 0 14 1;
#X connect 17 0 30 0;
#X connect 18 0 1 0;
#X connect 23 1 5 0;
#X connect 23 2 2 0;
#X connect 24 0 4 1;
#X connect 24 0 5 1;
#X connect 25 0 22 0;
#X connect 25 1 16 0;
#X connect 25 2 24 0;
#X connect 25 3 10 0;
#X connect 30 0 0 0;
#X connect 30 0 18 1;
#X connect 30 0 29 0;
#X restore 56 358 pd create-pattern-chain;
#X obj 396 119 bng 15 250 50 0 empty empty empty 17 7 0 10 -262144
-1 -1;
#X obj 396 383 s \$0-pattern-end;
#X obj 396 359 spigot 1;
#X obj 457 330 r \$0-get-new-pattern-immediately;
#X text 393 411 If the play button is off \, load the pattern immediately.
;
#N canvas 782 556 423 348 turn-off-old-button 0;
#X obj 37 36 inlet;
#X obj 37 68 t b b b f;
#X obj 99 164 pack s f;
#X obj 78 240 s;
#X obj 99 214 symbol;
#X floatatom 160 141 5 0 15 1 Grid_button - -;
#X text 164 211 Buttons;
#X obj 99 106 symbol \$0-grid-btn;
#X msg 60 214 0;
#X text 140 40 Turn off button;
#X msg 99 189 \$1-\$2-r;
#X connect 0 0 1 0;
#X connect 1 1 8 0;
#X connect 1 2 7 0;
#X connect 1 3 5 0;
#X connect 2 0 10 0;
#X connect 4 0 3 1;
#X connect 5 0 2 1;
#X connect 7 0 2 0;
#X connect 8 0 3 0;
#X connect 10 0 4 0;
#X restore 33 408 pd turn-off-old-button;
#X msg 469 179 1, f 2;
#X msg 506 179 0, f 2;
#N canvas 204 563 474 362 flash-playing-pattern 0;
#X obj 102 208 route float;
#X obj 81 252 f;
#X floatatom 155 238 5 0 0 0 - - -;
#X obj 81 311 s \$0-flash-grid-button;
#X obj 102 182 r \$0-current-pattern;
#X text 270 182 <-- Current pattern;
#X obj 51 208 del 1;
#X obj 73 34 inlet on-off;
#X obj 51 110 sel 1;
#X obj 81 284 spigot 0;
#X obj 73 60 t f f f;
#X connect 0 0 2 0;
#X connect 0 0 1 0;
#X connect 0 0 1 1;
#X connect 1 0 9 0;
#X connect 4 0 0 0;
#X connect 6 0 1 0;
#X connect 7 0 10 0;
#X connect 8 0 6 0;
#X connect 9 0 3 0;
#X connect 10 0 8 0;
#X connect 10 1 9 1;
#X restore 479 216 pd flash-playing-pattern;
#X obj 33 267 t f f b f;
#X obj 396 301 spigot;
#X obj 396 234 t b b;
#X msg 396 261 0;
#X text 28 7 Select a chain of patterns;
#X obj 506 246 s \$0-flash-current-grid-button;
#X connect 0 0 11 1;
#X connect 1 0 11 0;
#X connect 2 0 11 1;
#X connect 3 0 1 0;
#X connect 3 1 2 0;
#X connect 4 0 5 0;
#X connect 5 0 3 0;
#X connect 5 1 19 0;
#X connect 6 0 9 0;
#X connect 7 0 8 0;
#X connect 9 0 7 0;
#X connect 9 0 13 0;
#X connect 9 0 20 0;
#X connect 11 0 22 0;
#X connect 13 0 12 1;
#X connect 13 0 24 0;
#X connect 15 0 14 0;
#X connect 16 0 15 1;
#X connect 19 0 21 0;
#X connect 19 0 23 1;
#X connect 20 0 21 0;
#X connect 20 0 27 0;
#X connect 22 0 18 0;
#X connect 22 1 12 0;
#X connect 23 0 15 0;
#X connect 24 0 25 0;
#X connect 24 1 23 0;
#X connect 25 0 23 1;
#X restore 330 773 pd select-pattern;
#X obj 188 569 spigot;
#X obj 330 569 spigot;
#X obj 46 568 spigot;
#X obj 54 257 t f f;
#X obj 490 571 spigot;
#N canvas 652 147 886 785 select-fx 0;
#X obj 354 195 r \$0-packed-grid-buttons;
#X msg 99 188 1;
#X msg 330 169 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
#X obj 178 123 t b b;
#X obj 56 693 tabwrite \$0-fx-array;
#N canvas 22 125 1265 837 get-next-button-and-keep-polling 0;
#X obj 400 23 inlet packed-grid;
#X obj 402 590 f;
#X obj 412 570 f;
#X obj 422 550 f;
#X obj 432 530 f;
#X obj 442 510 f;
#X obj 452 490 f;
#X obj 462 470 f;
#X obj 472 450 f;
#X obj 482 430 f;
#X obj 492 410 f;
#X obj 502 390 f;
#X obj 512 370 f;
#X obj 522 350 f;
#X obj 532 330 f;
#X obj 542 310 f;
#X obj 552 290 f;
#X obj 67 240 sel 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15;
#X obj 423 240 unpack f f f f f f f f f f f f f f f f;
#X obj 89 14 inlet on-off;
#X obj 44 175 f 0;
#X obj 82 175 + 1;
#X msg 103 146 0;
#X obj 69 711 f;
#X floatatom 69 736 5 0 0 0 - - -;
#X obj 69 758 outlet next-button;
#X text 486 153 This subpatch will get the next grid button that is
pressed.;
#X text 486 173 It checks all of the grid buttons to see if any of
them are equal to 1;
#X obj 44 95 spigot;
#X obj 400 48 t b a;
#X floatatom 96 44 5 0 0 0 - - -;
#X obj 44 120 t f b;
#X obj 44 145 until;
#X obj 104 668 t b;
#N canvas 714 162 623 517 turn-off-old-button 0;
#X obj 83 36 inlet;
#X obj 122 319 t b b b f;
#X obj 184 415 pack s f;
#X obj 163 491 s;
#X obj 184 465 symbol;
#X floatatom 245 392 5 0 15 1 Grid_button - -;
#X text 249 465 Buttons;
#X obj 184 357 symbol \$0-grid-btn;
#X msg 145 465 0;
#X text 207 318 Turn off old button;
#X obj 133 36 inlet bang;
#X obj 90 155 t f b;
#X msg 184 440 \$1-\$2-r;
#X obj 90 90 f -1;
#X obj 90 130 change -1;
#X obj 61 205 f -1;
#X obj 61 250 route -1;
#X text 135 204 <- Old button saved;
#X text 135 250 <- Ignore initial case when no button was pressed before
this new button \, thus button number is -1;
#X connect 0 0 13 1;
#X connect 1 1 8 0;
#X connect 1 2 7 0;
#X connect 1 3 5 0;
#X connect 2 0 12 0;
#X connect 4 0 3 1;
#X connect 5 0 2 1;
#X connect 7 0 2 0;
#X connect 8 0 3 0;
#X connect 10 0 13 0;
#X connect 11 0 15 1;
#X connect 11 1 15 0;
#X connect 12 0 4 0;
#X connect 13 0 14 0;
#X connect 14 0 11 0;
#X connect 15 0 16 0;
#X connect 16 1 1 0;
#X restore 379 746 pd turn-off-old-button;
#X msg 44 65 16;
#X obj 44 205 t b f f f;
#X obj 552 622 t f;
#X obj 552 687 sel 1;
#X obj 552 712 t b b b;
#X connect 0 0 29 0;
#X connect 1 0 37 0;
#X connect 2 0 37 0;
#X connect 3 0 37 0;
#X connect 4 0 37 0;
#X connect 5 0 37 0;
#X connect 6 0 37 0;
#X connect 7 0 37 0;
#X connect 8 0 37 0;
#X connect 9 0 37 0;
#X connect 10 0 37 0;
#X connect 11 0 37 0;
#X connect 12 0 37 0;
#X connect 13 0 37 0;
#X connect 14 0 37 0;
#X connect 15 0 37 0;
#X connect 16 0 37 0;
#X connect 17 0 1 0;
#X connect 17 1 2 0;
#X connect 17 2 3 0;
#X connect 17 3 4 0;
#X connect 17 4 5 0;
#X connect 17 5 6 0;
#X connect 17 6 7 0;
#X connect 17 7 8 0;
#X connect 17 8 9 0;
#X connect 17 9 10 0;
#X connect 17 10 11 0;
#X connect 17 11 12 0;
#X connect 17 12 13 0;
#X connect 17 13 14 0;
#X connect 17 14 15 0;
#X connect 17 15 16 0;
#X connect 18 0 1 1;
#X connect 18 1 2 1;
#X connect 18 2 3 1;
#X connect 18 3 4 1;
#X connect 18 4 5 1;
#X connect 18 5 6 1;
#X connect 18 6 7 1;
#X connect 18 7 8 1;
#X connect 18 8 9 1;
#X connect 18 9 10 1;
#X connect 18 10 11 1;
#X connect 18 11 12 1;
#X connect 18 12 13 1;
#X connect 18 13 14 1;
#X connect 18 14 15 1;
#X connect 18 15 16 1;
#X connect 19 0 28 1;
#X connect 19 0 30 0;
#X connect 20 0 21 0;
#X connect 20 0 36 0;
#X connect 21 0 20 1;
#X connect 22 0 20 1;
#X connect 23 0 24 0;
#X connect 24 0 25 0;
#X connect 28 0 31 0;
#X connect 29 0 35 0;
#X connect 29 1 18 0;
#X connect 31 0 32 0;
#X connect 31 1 22 0;
#X connect 32 0 20 0;
#X connect 33 0 23 0;
#X connect 35 0 28 0;
#X connect 36 1 17 0;
#X connect 36 2 23 1;
#X connect 36 3 34 0;
#X connect 37 0 38 0;
#X connect 38 0 39 0;
#X connect 39 0 34 1;
#X connect 39 1 33 0;
#X restore 77 259 pd get-next-button-and-keep-polling;
#X msg 117 446 1;
#X msg 125 571 0;
#X obj 178 41 inlet;
#X obj 258 41 inlet stop-polling;
#X obj 258 66 sel 0;
#X msg 77 159 0;
#X text 488 65 2 Write the effect to the fx array;
#X text 488 85 3 Read the effect at the current position;
#X text 488 45 1 Poll for button presses;
#X obj 134 473 r \$0-set-new-fx;
#X text 388 229 Since we could be reading the new FX from the grid
buttons \, or the FX inlet on TBC \, we need to set the FX from both
locations \, before determining what the current FX is.;
#X obj 77 379 spigot 1;
#X obj 56 663 spigot 0;
#X obj 56 602 spigot 0;
#X obj 117 633 r \$0-recording-fx;
#X obj 77 286 t f b;
#X obj 56 571 f;
#X obj 134 503 t b b b f;
#X obj 134 528 s \$0-update-fx-in-memory;
#X obj 99 228 s \$0-fx-polling-on-off;
#X obj 138 316 r \$0-playing;
#X text 36 7 Select the current effect to play;
#X obj 155 379 s \$0-new-fx;
#X connect 0 0 5 1;
#X connect 1 0 5 0;
#X connect 1 0 25 0;
#X connect 2 0 5 1;
#X connect 3 0 1 0;
#X connect 3 1 2 0;
#X connect 5 0 21 0;
#X connect 6 0 19 1;
#X connect 7 0 19 1;
#X connect 8 0 3 0;
#X connect 9 0 10 0;
#X connect 10 0 11 0;
#X connect 11 0 5 0;
#X connect 11 0 25 0;
#X connect 15 0 23 0;
#X connect 17 0 22 1;
#X connect 18 0 4 0;
#X connect 19 0 18 0;
#X connect 20 0 18 1;
#X connect 21 0 17 0;
#X connect 21 0 28 0;
#X connect 21 1 6 0;
#X connect 22 0 19 0;
#X connect 23 0 24 0;
#X connect 23 1 7 0;
#X connect 23 2 22 0;
#X connect 23 3 4 1;
#X connect 26 0 17 1;
#X restore 490 773 pd select-fx;
#X text 566 368 We need to disable polling whenever we press another
button;
#X obj 597 571 spigot;
#N canvas 475 150 895 663 select-paste 0;
#X obj 547 294 route float;
#X obj 181 257 r \$0-packed-grid-buttons;
#N canvas 74 123 1088 783 get-next-button 0;
#X obj 400 33 inlet packed-grid;
#X obj 379 562 f;
#X obj 389 542 f;
#X obj 399 522 f;
#X obj 409 502 f;
#X obj 419 482 f;
#X obj 429 462 f;
#X obj 439 442 f;
#X obj 449 422 f;
#X obj 459 402 f;
#X obj 469 382 f;
#X obj 479 362 f;
#X obj 489 342 f;
#X obj 499 322 f;
#X obj 509 302 f;
#X obj 519 282 f;
#X obj 529 262 f;
#X obj 44 212 sel 0 1 2 3 4 5 6 7 8 9 10 11 12 13 14 15;
#X obj 400 212 unpack f f f f f f f f f f f f f f f f;
#X obj 529 594 f;
#X obj 44 10 inlet on-off;
#X obj 44 109 f 0;
#X obj 82 109 + 1;
#X obj 114 109 sel 15;
#X msg 114 134 0;
#X obj 60 700 f;
#X obj 529 644 t b b;
#X msg 566 671 0;
#X floatatom 60 725 5 0 0 0 - - -;
#X obj 60 747 outlet next-button;
#X floatatom 54 134 5 0 0 0 - - -;
#X floatatom 479 619 5 0 0 0 - - -;
#X obj 44 167 t a a;
#X obj 529 619 sel 1;
#X text 552 108 This subpatch will get the next grid button that is
pressed.;
#X text 552 128 It checks all of the grid buttons to see if any of
them are equal to 1;
#X obj 50 36 r \$0-turn-off-get-next-button-sound;
#X obj 566 697 s \$0-turn-off-get-next-button-sound;
#X obj 44 85 metro 10;
#X obj 44 64 tgl 15 0 empty empty empty 17 7 0 10 -262144 -1 -1 0 1
;
#X connect 0 0 18 0;
#X connect 1 0 19 0;
#X connect 2 0 19 0;
#X connect 3 0 19 0;
#X connect 4 0 19 0;
#X connect 5 0 19 0;
#X connect 6 0 19 0;
#X connect 7 0 19 0;
#X connect 8 0 19 0;
#X connect 9 0 19 0;
#X connect 10 0 19 0;
#X connect 11 0 19 0;
#X connect 12 0 19 0;
#X connect 13 0 19 0;
#X connect 14 0 19 0;
#X connect 15 0 19 0;
#X connect 16 0 19 0;
#X connect 17 0 1 0;
#X connect 17 1 2 0;
#X connect 17 2 3 0;
#X connect 17 3 4 0;
#X connect 17 4 5 0;
#X connect 17 5 6 0;
#X connect 17 6 7 0;
#X connect 17 7 8 0;
#X connect 17 8 9 0;
#X connect 17 9 10 0;
#X connect 17 10 11 0;
#X connect 17 11 12 0;
#X connect 17 12 13 0;
#X connect 17 13 14 0;
#X connect 17 14 15 0;
#X connect 17 15 16 0;
#X connect 18 0 1 1;
#X connect 18 1 2 1;
#X connect 18 2 3 1;
#X connect 18 3 4 1;
#X connect 18 4 5 1;
#X connect 18 5 6 1;
#X connect 18 6 7 1;
#X connect 18 7 8 1;
#X connect 18 8 9 1;
#X connect 18 9 10 1;
#X connect 18 10 11 1;
#X connect 18 11 12 1;
#X connect 18 12 13 1;
#X connect 18 13 14 1;
#X connect 18 14 15 1;
#X connect 18 15 16 1;
#X connect 19 0 31 0;
#X connect 19 0 33 0;
#X connect 20 0 39 0;
#X connect 21 0 22 0;
#X connect 21 0 23 0;
#X connect 21 0 30 0;
#X connect 21 0 32 0;
#X connect 22 0 21 1;
#X connect 23 0 24 0;
#X connect 24 0 21 1;
#X connect 25 0 28 0;
#X connect 26 0 25 0;
#X connect 26 1 27 0;
#X connect 27 0 37 0;
#X connect 28 0 29 0;
#X connect 32 0 17 0;
#X connect 32 1 25 1;
#X connect 33 0 26 0;
#X connect 36 0 39 0;
#X connect 38 0 21 0;
#X connect 39 0 38 0;
#X restore 40 283 pd get-next-button;
#X msg 40 257 1;
#X msg 194 229 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
#X obj 526 318 f;
#X obj 141 185 t b b;
#X floatatom 577 323 5 0 0 0 - - -;
#X obj 526 343 s \$0-flash-grid-button;
#X obj 236 53 inlet bang;
#X obj 236 118 t b b;
#X obj 395 54 inlet stop;
#X obj 395 134 s \$0-turn-off-get-next-button-sound;
#X msg 395 109 0;
#X obj 395 79 sel 0;
#X obj 487 287 del 1;
#X text 489 51 Stop waiting for a button to be pressed;
#X obj 109 356 s \$0-paste-pattern-number;
#X obj 63 493 pack f f;
#X msg 63 518 label COPIED_PATT_\$2_TO_PATT_\$1;
#X obj 124 466 r \$0-current-pattern;
#X obj 86 426 s \$0-select-pattern-to-paste;
#X msg 86 395 0;
#X obj 547 268 r \$0-current-pattern;
#X obj 40 313 t f f b f;
#X text 40 620 Switch to the new pattern;
#X obj 40 595 array set \$0-pattern-chain;
#X obj 63 543 s \$0-lcd-2-r;
#X text 32 7 Select where to paste the current pattern;
#X text 463 372 Flash current toggle to indicate the copied pattern
;
#X connect 0 0 5 1;
#X connect 0 0 7 0;
#X connect 1 0 2 1;
#X connect 2 0 24 0;
#X connect 3 0 2 0;
#X connect 4 0 2 1;
#X connect 5 0 8 0;
#X connect 6 0 3 0;
#X connect 6 1 4 0;
#X connect 9 0 10 0;
#X connect 10 0 6 0;
#X connect 10 1 15 0;
#X connect 11 0 14 0;
#X connect 13 0 12 0;
#X connect 14 0 13 0;
#X connect 15 0 5 0;
#X connect 18 0 19 0;
#X connect 19 0 27 0;
#X connect 20 0 18 1;
#X connect 22 0 21 0;
#X connect 23 0 0 0;
#X connect 24 0 26 0;
#X connect 24 1 18 0;
#X connect 24 2 22 0;
#X connect 24 3 17 0;
#X restore 597 773 pd select-paste;
#X obj 726 75 r \$0-stop-waiting-for-button-presses;
#X obj 196 254 t f f;
#X obj 338 247 t f f;
#X obj 498 239 t f f;
#X obj 605 241 t f f;
#X msg 54 45 \$1 1;
#X obj 54 20 r \$0-global-state-on;
#X obj 688 20 r \$0-global-state-off;
#X obj 688 442 t f;
#X obj 714 623 t f;
#X obj 741 446 s \$0-flash-current-grid-button;
#X obj 54 75 route samples-mode sound-mode pattern-mode fx-mode paste-mode
;
#X obj 46 331 t f;
#X obj 688 45 t b;
#X msg 688 110 0;
#X obj 688 408 t f f f;
#X connect 1 0 4 0;
#X connect 4 0 7 0;
#X connect 4 0 9 0;
#X connect 4 0 8 0;
#X connect 4 0 11 0;
#X connect 4 0 14 0;
#X connect 4 1 2 0;
#X connect 7 0 5 0;
#X connect 8 0 6 0;
#X connect 9 0 3 0;
#X connect 10 0 28 0;
#X connect 10 1 9 1;
#X connect 11 0 12 0;
#X connect 14 0 15 0;
#X connect 16 0 30 0;
#X connect 17 0 28 0;
#X connect 17 1 7 1;
#X connect 18 0 28 0;
#X connect 18 1 8 1;
#X connect 19 0 28 0;
#X connect 19 1 11 1;
#X connect 20 0 28 0;
#X connect 20 1 14 1;
#X connect 21 0 27 0;
#X connect 22 0 21 0;
#X connect 23 0 29 0;
#X connect 24 0 7 1;
#X connect 24 0 9 1;
#X connect 24 0 8 1;
#X connect 24 0 11 1;
#X connect 24 0 14 1;
#X connect 25 0 3 1;
#X connect 25 0 5 1;
#X connect 25 0 6 1;
#X connect 25 0 12 1;
#X connect 25 0 15 1;
#X connect 27 0 10 0;
#X connect 27 1 17 0;
#X connect 27 2 18 0;
#X connect 27 3 19 0;
#X connect 27 4 20 0;
#X connect 28 0 1 0;
#X connect 29 0 30 0;
#X connect 30 0 31 0;
#X connect 31 0 24 0;
#X connect 31 1 25 0;
#X connect 31 2 26 0;
#X restore 64 522 pd handle-selector-actions;
#X text 42 125 Each one has it's own quirks:;
#X text 55 336 FX mode leaves the grid button on until you turn it
off \, or pick a different grid button.;
#X text 55 152 SAMPLE mode allows you to select one button at a time
\, but after the button is selected \, you can select a different one
\, and keep repeating this until you exit SAMPLES mode.;
#X text 55 212 SOUND mode only allows you to select one grid button
\, sets the current sound to the selected button \, then switches to
write mode.;
#X text 55 272 PATTERN mode builds a chain of all of the grid buttons
that you select \, and allows you to select the same grid button multiple
times.;
#X text 42 65 All of the different modes that require selecting a grid
button are very similar \, so I grouped them together in this subpatch.
;
#X text 55 382 PASTE mode is similar to SOUND mode \, as you can only
choose one grid button (where you want to paste the pattern) \, but
when it finishes it exits PASTE mode and returns to FUNCT mode.;
#X text 44 475 Open the subpatch below;
#X text 42 17 PATTERN \, SAMPLES \, SOUND \, FX \, and PASTE selection
happens here;
#X restore 871 228 pd sound-pattern-samples-fx-buttons;
#X obj 967 658 r \$0-current-pattern-early;
#X text 22 482 A drum machine made in Pure Data Vanilla 0.48 using
vanilla objects and the "flatgui" knobs.;
#N canvas 523 365 480 174 grid-colors 0;
#N canvas 710 66 894 809 midi-mapper-mode 0;
#X obj 539 238 + 1;
#X obj 505 238 f 0;
#X obj 505 188 until;
#X obj 304 68 r \$0-bang-on-load-1;
#X obj 304 93 del 50;
#X obj 676 511 r \$0-midi-mapper-active;
#X obj 676 538 f;
#N canvas 304 231 1401 765 apply-color 0;
#X obj 57 349 pack s f;
#X obj 36 425 s;
#X obj 57 399 symbol;
#X obj 57 252 symbol \$0-grid-btn;
#X floatatom 118 326 5 0 15 1 Grid_button - -;
#X obj 396 348 pack s f;
#X obj 375 424 s;
#X obj 396 398 symbol;
#X floatatom 457 325 5 0 15 1 Grid_knob - -;
#X obj 396 211 symbol \$0-grid-knob;
#X text 487 399 Knobs;
#X text 121 395 Buttons;
#X msg 57 374 \$1-\$2-r;
#X msg 396 373 \$1-\$2-r;
#X obj 36 10 inlet;
#X obj 995 734 s;
#X msg 995 197 color \$1 \$2 \$3;
#X msg 1036 440 \$1-sound-btn-r;
#X obj 1016 335 pack f \$0;
#X obj 36 192 t a b;
#X obj 375 159 t a b;
#X msg 36 222 color \$1 \$2 \$3;
#X obj 36 35 list trim;
#X obj 457 293 - 16;
#X msg 375 187 color \$2 \$3 \$3;
#X obj 118 275 r \$0-gui-element-index;
#X obj 457 238 r \$0-gui-element-index;
#X obj 1016 247 r \$0-gui-element-index;
#X obj 1034 280 r \$0-reset-backgrounds-index;
#X obj 469 265 r \$0-reset-backgrounds-index;
#X obj 128 300 r \$0-reset-backgrounds-index;
#X obj 1016 705 symbol;
#X msg 1046 460 \$1-pattern-btn-r;
#X msg 1056 480 \$1-bpm-btn-r;
#X msg 1066 500 \$1-samples-btn-r;
#X msg 1076 520 \$1-ext-step-r;
#X msg 1106 580 \$1-funct-btn-r;
#X msg 1116 600 \$1-fx-btn-r;
#X msg 1126 620 \$1-play-btn-r;
#X msg 1136 640 \$1-write-btn-r;
#X obj 1016 365 route 0 1 2 3 4 5 6 7 8 9 10 11 12;
#X msg 1086 540 \$1-key-control-btn-r;
#X msg 1096 560 \$1-midi-control-btn-r;
#X obj 715 484 s;
#X obj 736 310 - 32;
#X obj 736 335 pack f \$0;
#X obj 736 247 r \$0-gui-element-index;
#X obj 754 280 r \$0-reset-backgrounds-index;
#X obj 736 455 symbol;
#X msg 736 400 \$1-knob-0-r;
#X msg 746 420 \$1-knob-1-r;
#X obj 736 365 route 0 1;
#X obj 1016 310 - 32;
#X obj 36 73 route grid-btn grid-knob other-knob other-btn;
#X msg 715 197 color \$2 \$3 \$3;
#X connect 0 0 12 0;
#X connect 2 0 1 1;
#X connect 3 0 0 0;
#X connect 4 0 0 1;
#X connect 5 0 13 0;
#X connect 7 0 6 1;
#X connect 8 0 5 1;
#X connect 9 0 5 0;
#X connect 12 0 2 0;
#X connect 13 0 7 0;
#X connect 14 0 22 0;
#X connect 16 0 15 0;
#X connect 17 0 31 0;
#X connect 18 0 40 0;
#X connect 19 0 21 0;
#X connect 19 1 3 0;
#X connect 20 0 24 0;
#X connect 20 1 9 0;
#X connect 21 0 1 0;
#X connect 22 0 53 0;
#X connect 23 0 8 0;
#X connect 24 0 6 0;
#X connect 25 0 4 0;
#X connect 26 0 23 0;
#X connect 27 0 52 0;
#X connect 28 0 52 0;
#X connect 29 0 23 0;
#X connect 30 0 4 0;
#X connect 31 0 15 1;
#X connect 32 0 31 0;
#X connect 33 0 31 0;
#X connect 34 0 31 0;
#X connect 35 0 31 0;
#X connect 36 0 31 0;
#X connect 37 0 31 0;
#X connect 38 0 31 0;
#X connect 39 0 31 0;
#X connect 40 2 17 0;
#X connect 40 3 32 0;
#X connect 40 4 33 0;
#X connect 40 5 34 0;
#X connect 40 6 35 0;
#X connect 40 7 41 0;
#X connect 40 8 42 0;
#X connect 40 9 36 0;
#X connect 40 10 37 0;
#X connect 40 11 38 0;
#X connect 40 12 39 0;
#X connect 41 0 31 0;
#X connect 42 0 31 0;
#X connect 44 0 45 0;
#X connect 45 0 51 0;
#X connect 46 0 44 0;
#X connect 47 0 44 0;
#X connect 48 0 43 1;
#X connect 49 0 48 0;
#X connect 50 0 48 0;
#X connect 51 0 49 0;
#X connect 51 1 50 0;
#X connect 52 0 18 0;
#X connect 53 0 19 0;
#X connect 53 1 20 0;
#X connect 53 2 54 0;
#X connect 53 3 16 0;
#X connect 54 0 43 0;
#X restore 248 764 pd apply-color;
#X obj 248 574 spigot 0;
#X obj 505 572 spigot 0;
#X obj 631 570 spigot 0;
#X obj 13 623 r \$0-gui-element-to-map;
#X text 47 13 This patch is used to color the grid toggles and knobs
when midi mapping mode is active.;
#X obj 505 66 r \$0-reset-gui-backgrounds;
#X obj 558 292 s \$0-reset-backgrounds-index;
#X obj 505 262 t b f f;
#X text 638 28 Loop through all gui objects;
#X obj 505 344 sel 0 1;
#X obj 505 319 expr if ($f1 > 33 \, 1 \, 0);
#X msg 505 138 45;
#X obj 505 163 t f b;
#X msg 526 214 0;
#X obj 269 461 r \$0-hi-color-converted;
#X obj 539 418 r \$0-fg-color-converted;
#X obj 631 486 f;
#X obj 652 451 r \$0-bg-color-converted;
#X obj 248 486 f;
#X obj 505 443 f;
#X obj 531 394 f;
#X obj 552 369 r \$0-bg-color-converted;
#X obj 248 667 t b a;
#X obj 349 381 t b b;
#X obj 248 599 t a a;
#X obj 248 734 pack symbol 0 0 0;
#X obj 248 705 symbol grid-btn;
#X text 590 245 Reset color of all buttons;
#N canvas 678 475 534 382 midi-flash 0;
#X obj 68 180 metro 100;
#X obj 68 205 f 0;
#X obj 101 205 + 1;
#X msg 105 150 0;
#X msg 68 150 1;
#X obj 134 205 sel 1;
#X floatatom 68 230 5 0 0 0 - - -;
#X msg 13 120 0;
#X obj 68 112 t b b;
#X obj 33 64 sel 0 1;
#X obj 68 339 outlet;
#X obj 130 339 outlet;
#X obj 68 252 sel 0 1;
#X text 179 175 Metronome to flash between the two colors;
#X obj 33 9 r \$0-flash-current-gui-element;
#X obj 13 145 t b f;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 1 0 5 0;
#X connect 1 0 6 0;
#X connect 2 0 1 1;
#X connect 3 0 1 1;
#X connect 4 0 0 0;
#X connect 5 0 3 0;
#X connect 6 0 12 0;
#X connect 7 0 15 0;
#X connect 8 0 4 0;
#X connect 8 1 3 0;
#X connect 9 0 7 0;
#X connect 9 1 8 0;
#X connect 12 0 10 0;
#X connect 12 1 11 0;
#X connect 14 0 9 0;
#X connect 15 0 11 0;
#X connect 15 1 0 0;
#X restore 248 350 pd midi-flash;
#X obj 304 118 t b b;
#X obj 304 173 s \$0-gui-element-index;
#X msg 304 143 0;
#X connect 0 0 1 1;
#X connect 1 0 0 0;
#X connect 1 0 15 0;
#X connect 2 0 1 0;
#X connect 3 0 4 0;
#X connect 4 0 37 0;
#X connect 5 0 6 0;
#X connect 6 0 8 1;
#X connect 6 0 9 1;
#X connect 6 0 10 1;
#X connect 8 0 32 0;
#X connect 9 0 30 0;
#X connect 10 0 33 2;
#X connect 10 0 33 3;
#X connect 11 0 34 0;
#X connect 13 0 19 0;
#X connect 15 0 24 0;
#X connect 15 1 18 0;
#X connect 15 2 14 0;
#X connect 17 0 27 0;
#X connect 17 1 28 0;
#X connect 18 0 17 0;
#X connect 19 0 20 0;
#X connect 20 0 2 0;
#X connect 20 1 21 0;
#X connect 21 0 1 1;
#X connect 22 0 26 1;
#X connect 23 0 27 1;
#X connect 24 0 10 0;
#X connect 25 0 24 1;
#X connect 26 0 8 0;
#X connect 27 0 9 0;
#X connect 28 0 9 0;
#X connect 29 0 28 1;
#X connect 30 0 34 0;
#X connect 30 1 33 1;
#X connect 31 0 27 0;
#X connect 31 1 24 0;
#X connect 32 0 30 0;
#X connect 32 1 33 3;
#X connect 33 0 7 0;
#X connect 34 0 33 0;
#X connect 36 0 26 0;
#X connect 36 1 31 0;
#X connect 37 0 39 0;
#X connect 37 1 19 0;
#X connect 39 0 38 0;
#X restore 37 106 pd midi-mapper-mode;
#N canvas 808 50 1010 909 normal-operation 0;
#X obj 86 711 pack 0 0 0;
#X msg 86 737 color \$1 \$2 \$3;
#X obj 107 864 pack s f;
#X obj 86 940 s;
#X obj 107 914 symbol;
#X obj 107 767 symbol \$0-grid-btn;
#X floatatom 168 841 5 0 15 1 Grid_button - -;
#X obj 86 654 t a b;
#X obj 406 376 s \$0-current-grid-button;
#X obj 168 814 r \$0-current-grid-button;
#X obj 387 242 + 1;
#X msg 425 267 0;
#X obj 353 242 f 0;
#X obj 425 242 sel 15;
#X obj 112 244 s \$0-current-grid-button;
#X msg 353 152 16;
#X obj 353 212 until;
#X obj 86 2 r \$0-current-step;
#X obj 86 214 t b a b;
#X obj 86 151 spigot;
#X obj 375 91 r \$0-bang-on-load-1;
#N canvas 956 218 626 398 flash-button 0;
#X obj 120 229 metro 100;
#X obj 120 254 f 0;
#X obj 153 254 + 1;
#X msg 157 179 0;
#X msg 120 179 1;
#X obj 186 254 sel 1;
#X floatatom 120 299 5 0 0 0 - - -;
#X msg 66 154 0;
#X obj 120 141 t b b;
#X obj 85 8 r \$0-flash-current-grid-button;
#X obj 85 113 sel 0 1;
#X obj 120 358 outlet;
#X obj 182 358 outlet;
#X obj 85 87 spigot;
#X obj 130 33 r \$0-flash-buttons-and-knobs;
#X text 218 229 <-- metro used to flash between the two colors;
#X obj 120 321 sel 1 0;
#X msg 278 139 0;
#X obj 278 169 t f f;
#X obj 66 179 t f f;
#X connect 0 0 1 0;
#X connect 1 0 2 0;
#X connect 1 0 5 0;
#X connect 1 0 6 0;
#X connect 2 0 1 1;
#X connect 3 0 1 1;
#X connect 4 0 0 0;
#X connect 5 0 3 0;
#X connect 6 0 16 0;
#X connect 7 0 19 0;
#X connect 8 0 4 0;
#X connect 8 1 3 0;
#X connect 9 0 13 0;
#X connect 10 0 7 0;
#X connect 10 1 8 0;
#X connect 13 0 10 0;
#X connect 14 0 13 1;
#X connect 14 0 17 0;
#X connect 16 0 11 0;
#X connect 16 1 12 0;
#X connect 17 0 18 0;
#X connect 18 0 6 0;
#X connect 18 1 0 0;
#X connect 19 0 6 0;
#X connect 19 1 0 0;
#X restore 150 315 pd flash-button;
#X obj 353 54 r \$0-clear-toggle-backgrounds;
#X obj 386 711 pack 0 0 0;
#X obj 407 864 pack s f;
#X obj 386 940 s;
#X obj 407 914 symbol;
#X floatatom 468 841 5 0 15 1 Grid_knob - -;
#X obj 468 814 r \$0-current-grid-button;
#X obj 407 767 symbol \$0-grid-knob;
#X text 498 915 Knobs;
#X text 171 910 Buttons;
#X text 499 685 Due to the way the knobs are colored \, we use the
label color for forground instead;
#X msg 386 737 color \$1 \$2 \$3;
#X obj 375 116 del 50;
#N canvas 615 412 344 504 fx-display 0;
#X obj 44 12 r \$0-current-fx;
#X obj 44 291 spigot;
#X obj 89 97 r \$0-global-state-1;
#X obj 89 122 sel fx-mode;
#X msg 190 199 0;
#X obj 126 371 outlet clear;
#X obj 44 417 outlet current-fx;
#X obj 126 291 change;
#X msg 89 205 1;
#X obj 126 341 sel 1;
#X obj 89 230 t f f;
#X obj 190 224 t f f;
#X floatatom 126 316 5 0 0 0 - - -;
#X obj 89 147 del 100;
#X connect 0 0 1 0;
#X connect 1 0 6 0;
#X connect 2 0 3 0;
#X connect 3 0 13 0;
#X connect 3 1 4 0;
#X connect 4 0 11 0;
#X connect 7 0 12 0;
#X connect 8 0 10 0;
#X connect 9 0 5 0;
#X connect 10 0 1 1;
#X connect 10 1 7 0;
#X connect 11 0 1 1;
#X connect 11 1 7 0;
#X connect 12 0 9 0;
#X connect 13 0 8 0;
#X restore 101 179 pd fx-display;
#X obj 111 274 r \$0-color-grid-button;
#X msg 107 889 \$1-\$2-r;
#X msg 407 889 \$1-\$2-r;
#X obj 540 517 r \$0-midi-mapper-active;
#X obj 540 547 == 0;
#X obj 86 585 spigot 1;
#X obj 353 589 spigot 1;
#X obj 479 587 spigot 1;
#X obj 86 454 spigot;
#X obj 353 182 spigot;
#X obj 131 424 r \$0-flash-buttons-and-knobs;
#X obj 398 152 r \$0-flash-buttons-and-knobs;
#X obj 500 493 r \$0-bg-color-converted;
#X obj 107 486 r \$0-hi-color-converted;
#X obj 374 464 r \$0-fg-color-converted;
#X obj 86 516 f;
#X obj 353 500 f;
#X obj 479 523 f;
#X obj 386 654 t a a b;
#X obj 86 617 t a a;
#X obj 353 347 t b b f;
#X obj 267 347 t b b;
#X obj 390 307 r \$0-clear-specific-button;
#X obj 152 67 r \$0-view-retrig-seq;
#X obj 133 128 ||;
#X obj 152 92 t b f;
#X text 417 210 Loop through all buttons/knobs;
#X text 313 7 This patch is used to color the grid buttons and knobs.
;
#X obj 133 37 r \$0-view-sequencer;
#X connect 0 0 1 0;
#X connect 1 0 3 0;
#X connect 2 0 37 0;
#X connect 4 0 3 1;
#X connect 5 0 2 0;
#X connect 6 0 2 1;
#X connect 7 0 0 0;
#X connect 7 1 5 0;
#X connect 9 0 6 0;
#X connect 10 0 12 1;
#X connect 11 0 12 1;
#X connect 12 0 10 0;
#X connect 12 0 13 0;
#X connect 12 0 56 0;
#X connect 13 0 11 0;
#X connect 15 0 45 0;
#X connect 16 0 12 0;
#X connect 17 0 19 0;
#X connect 18 0 44 0;
#X connect 18 1 14 0;
#X connect 18 2 15 0;
#X connect 19 0 18 0;
#X connect 20 0 34 0;
#X connect 21 0 44 0;
#X connect 21 1 57 0;
#X connect 22 0 15 0;
#X connect 23 0 33 0;
#X connect 24 0 38 0;
#X connect 26 0 25 1;
#X connect 27 0 24 1;
#X connect 28 0 27 0;
#X connect 29 0 24 0;
#X connect 33 0 25 0;
#X connect 34 0 15 0;
#X connect 35 0 18 0;
#X connect 36 0 44 0;
#X connect 37 0 4 0;
#X connect 38 0 26 0;
#X connect 39 0 40 0;
#X connect 40 0 41 1;
#X connect 40 0 42 1;
#X connect 40 0 43 1;
#X connect 41 0 55 0;
#X connect 41 0 54 0;
#X connect 42 0 7 0;
#X connect 43 0 0 1;
#X connect 43 0 54 0;
#X connect 43 0 0 2;
#X connect 44 0 51 0;
#X connect 45 0 16 0;
#X connect 46 0 44 1;
#X connect 47 0 45 1;
#X connect 48 0 53 1;
#X connect 49 0 51 1;
#X connect 50 0 52 1;
#X connect 51 0 41 0;
#X connect 52 0 42 0;
#X connect 53 0 43 0;
#X connect 54 0 23 0;
#X connect 54 1 23 1;
#X connect 54 1 23 2;
#X connect 54 2 29 0;
#X connect 55 0 7 0;
#X connect 55 1 0 2;
#X connect 56 0 52 0;
#X connect 56 1 53 0;
#X connect 56 2 8 0;
#X connect 57 0 52 0;
#X connect 57 1 53 0;
#X connect 58 0 56 0;
#X connect 59 0 61 0;
#X connect 60 0 19 1;
#X connect 61 0 60 0;
#X connect 61 1 60 1;
#X connect 64 0 60 0;
#X restore 37 76 pd normal-operation;
#X text 37 31 Color the GUI elements within the PD window;
#X restore 535 382 pd grid-colors;
#X obj 1043 24 inlet trigs;
#X obj 1216 24 inlet set-pitch;
#N canvas 177 81 1058 882 pack-gates 0;
#X obj 146 899 outlet;
#X obj 109 426 f;
#X msg 496 559 1;
#X msg 506 579 1;
#X msg 516 599 1;
#X msg 526 619 1;
#X msg 536 639 1;
#X msg 546 659 1;
#X msg 556 679 1;
#X msg 566 699 1;
#X msg 576 719 1;
#X msg 586 739 1;
#X msg 596 759 1;
#X msg 606 779 1;
#X msg 616 799 1;
#X msg 626 819 1;
#X msg 636 839 1;
#X msg 646 859 1;
#X obj 529 529 r \$0-play-sample-0-r;
#X obj 539 549 r \$0-play-sample-1-r;
#X obj 549 569 r \$0-play-sample-2-r;
#X obj 560 589 r \$0-play-sample-3-r;
#X obj 569 609 r \$0-play-sample-4-r;
#X obj 579 629 r \$0-play-sample-5-r;
#X obj 589 649 r \$0-play-sample-6-r;
#X obj 599 669 r \$0-play-sample-7-r;
#X obj 609 689 r \$0-play-sample-8-r;
#X obj 619 709 r \$0-play-sample-9-r;
#X obj 629 729 r \$0-play-sample-10-r;
#X obj 639 749 r \$0-play-sample-11-r;
#X obj 649 769 r \$0-play-sample-12-r;
#X obj 659 789 r \$0-play-sample-13-r;
#X obj 669 809 r \$0-play-sample-14-r;
#X obj 679 829 r \$0-play-sample-15-r;
#X obj 109 466 pack f f f f f f f f f f f f f f f f;
#X obj 109 496 t b a;
#X msg 47 429 0;
#X obj 109 90 r \$0-clock;
#X obj 244 74 r \$0-seq-gate-0-s;
#X obj 254 94 r \$0-seq-gate-1-s;
#X obj 264 114 r \$0-seq-gate-2-s;
#X obj 274 134 r \$0-seq-gate-3-s;
#X obj 284 154 r \$0-seq-gate-4-s;
#X obj 294 174 r \$0-seq-gate-5-s;
#X obj 304 194 r \$0-seq-gate-6-s;
#X obj 314 214 r \$0-seq-gate-7-s;
#X obj 324 234 r \$0-seq-gate-8-s;
#X obj 334 254 r \$0-seq-gate-9-s;
#X obj 344 274 r \$0-seq-gate-10-s;
#X obj 354 294 r \$0-seq-gate-11-s;
#X obj 364 314 r \$0-seq-gate-12-s;
#X obj 374 334 r \$0-seq-gate-13-s;
#X obj 384 354 r \$0-seq-gate-14-s;
#X obj 394 374 r \$0-seq-gate-15-s;
#X text 142 22 Pack the gates coming from the sequencer \, and also
send out gates when a sample is played in one shot mode.;
#X text 165 495 After sending the packed data \, reset all the floats
to 0;
#X obj 146 523 unpack f f f f f f f f f f f f f f f f;
#X msg 146 579 0 \$1;
#X msg 166 599 1 \$1;
#X msg 186 619 2 \$1;
#X msg 206 639 3 \$1;
#X msg 226 659 4 \$1;
#X msg 246 679 5 \$1;
#X msg 266 699 6 \$1;
#X msg 286 719 7 \$1;
#X msg 306 739 8 \$1;
#X msg 326 759 9 \$1;
#X msg 346 779 10 \$1;
#X msg 366 799 11 \$1;
#X msg 386 819 12 \$1;
#X msg 406 839 13 \$1;
#X msg 426 859 14 \$1;
#X msg 447 879 15 \$1;
#X text 424 466 <-- Doesn't have to be packed \, but it might be useful
later;
#X connect 1 0 34 0;
#X connect 2 0 57 0;
#X connect 3 0 58 0;
#X connect 4 0 59 0;
#X connect 5 0 60 0;
#X connect 6 0 61 0;
#X connect 7 0 62 0;
#X connect 8 0 63 0;
#X connect 9 0 64 0;
#X connect 10 0 65 0;
#X connect 11 0 66 0;
#X connect 12 0 67 0;
#X connect 13 0 68 0;
#X connect 14 0 69 0;
#X connect 15 0 70 0;
#X connect 16 0 71 0;
#X connect 17 0 72 0;
#X connect 18 0 2 0;
#X connect 19 0 3 0;
#X connect 20 0 4 0;
#X connect 21 0 5 0;
#X connect 22 0 6 0;
#X connect 23 0 7 0;
#X connect 24 0 8 0;
#X connect 25 0 9 0;
#X connect 26 0 10 0;
#X connect 27 0 11 0;
#X connect 28 0 12 0;
#X connect 29 0 13 0;
#X connect 30 0 14 0;
#X connect 31 0 15 0;
#X connect 32 0 16 0;
#X connect 33 0 17 0;
#X connect 34 0 35 0;
#X connect 35 0 36 0;
#X connect 35 1 56 0;
#X connect 36 0 34 15;
#X connect 36 0 34 14;
#X connect 36 0 34 13;
#X connect 36 0 34 12;
#X connect 36 0 34 11;
#X connect 36 0 34 10;
#X connect 36 0 34 9;
#X connect 36 0 34 8;
#X connect 36 0 34 7;
#X connect 36 0 34 6;
#X connect 36 0 34 5;
#X connect 36 0 34 4;
#X connect 36 0 34 3;
#X connect 36 0 34 2;
#X connect 36 0 34 1;
#X connect 36 0 1 1;
#X connect 37 0 1 0;
#X connect 38 0 1 1;
#X connect 39 0 34 1;
#X connect 40 0 34 2;
#X connect 41 0 34 3;
#X connect 42 0 34 4;
#X connect 43 0 34 5;
#X connect 44 0 34 6;
#X connect 45 0 34 7;
#X connect 46 0 34 8;
#X connect 47 0 34 9;
#X connect 48 0 34 10;
#X connect 49 0 34 11;
#X connect 50 0 34 12;
#X connect 51 0 34 13;
#X connect 52 0 34 14;
#X connect 53 0 34 15;
#X connect 56 0 57 0;
#X connect 56 1 58 0;
#X connect 56 2 59 0;
#X connect 56 3 60 0;
#X connect 56 4 61 0;
#X connect 56 5 62 0;
#X connect 56 6 63 0;
#X connect 56 7 64 0;
#X connect 56 8 65 0;
#X connect 56 9 66 0;
#X connect 56 10 67 0;
#X connect 56 11 68 0;
#X connect 56 12 69 0;
#X connect 56 13 70 0;
#X connect 56 14 71 0;
#X connect 56 15 72 0;
#X connect 57 0 0 0;
#X connect 58 0 0 0;
#X connect 59 0 0 0;
#X connect 60 0 0 0;
#X connect 61 0 0 0;
#X connect 62 0 0 0;
#X connect 63 0 0 0;
#X connect 64 0 0 0;
#X connect 65 0 0 0;
#X connect 66 0 0 0;
#X connect 67 0 0 0;
#X connect 68 0 0 0;
#X connect 69 0 0 0;
#X connect 70 0 0 0;
#X connect 71 0 0 0;
#X connect 72 0 0 0;
#X restore 1099 688 pd pack-gates;
#N canvas 168 245 850 851 pack-freqs 0;
#X obj 49 420 pack 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0;
#X obj 207 26 r \$0-seq-pitch-0-s;
#X obj 217 46 r \$0-seq-pitch-1-s;
#X obj 227 66 r \$0-seq-pitch-2-s;
#X obj 237 86 r \$0-seq-pitch-3-s;
#X obj 247 106 r \$0-seq-pitch-4-s;
#X obj 257 126 r \$0-seq-pitch-5-s;
#X obj 267 146 r \$0-seq-pitch-6-s;
#X obj 277 166 r \$0-seq-pitch-7-s;
#X obj 287 186 r \$0-seq-pitch-8-s;
#X obj 297 206 r \$0-seq-pitch-9-s;
#X obj 307 226 r \$0-seq-pitch-10-s;
#X obj 317 246 r \$0-seq-pitch-11-s;
#X obj 327 266 r \$0-seq-pitch-12-s;
#X obj 337 286 r \$0-seq-pitch-13-s;
#X obj 347 306 r \$0-seq-pitch-14-s;
#X obj 357 326 r \$0-seq-pitch-15-s;
#X obj 13 238 r \$0-clock;
#X obj 49 342 f;
#X obj 49 826 outlet;
#X obj 49 450 unpack f f f f f f f f f f f f f f f f;
#X msg 49 506 0 \$1;
#X msg 69 526 1 \$1;
#X msg 89 546 2 \$1;
#X msg 109 566 3 \$1;
#X msg 129 586 4 \$1;
#X msg 149 606 5 \$1;
#X msg 169 626 6 \$1;
#X msg 189 646 7 \$1;
#X msg 209 666 8 \$1;
#X msg 229 686 9 \$1;
#X msg 249 706 10 \$1;
#X msg 269 726 11 \$1;
#X msg 289 746 12 \$1;
#X msg 309 766 13 \$1;
#X msg 329 786 14 \$1;
#X msg 350 806 15 \$1;
#X text 362 430 <-- Doesn't have to be packed \, but it might be useful
later;
#X connect 0 0 20 0;
#X connect 1 0 18 1;
#X connect 2 0 0 1;
#X connect 3 0 0 2;
#X connect 4 0 0 3;
#X connect 5 0 0 4;
#X connect 6 0 0 5;
#X connect 7 0 0 6;
#X connect 8 0 0 7;
#X connect 9 0 0 8;
#X connect 10 0 0 9;
#X connect 11 0 0 10;
#X connect 12 0 0 11;
#X connect 13 0 0 12;
#X connect 14 0 0 13;
#X connect 15 0 0 14;
#X connect 16 0 0 15;
#X connect 17 0 18 0;
#X connect 18 0 0 0;
#X connect 20 0 21 0;
#X connect 20 1 22 0;
#X connect 20 2 23 0;
#X connect 20 3 24 0;
#X connect 20 4 25 0;
#X connect 20 5 26 0;
#X connect 20 6 27 0;
#X connect 20 7 28 0;
#X connect 20 8 29 0;
#X connect 20 9 30 0;
#X connect 20 10 31 0;
#X connect 20 11 32 0;
#X connect 20 12 33 0;
#X connect 20 13 34 0;
#X connect 20 14 35 0;
#X connect 20 15 36 0;
#X connect 21 0 19 0;
#X connect 22 0 19 0;
#X connect 23 0 19 0;
#X connect 24 0 19 0;
#X connect 25 0 19 0;
#X connect 26 0 19 0;
#X connect 27 0 19 0;
#X connect 28 0 19 0;
#X connect 29 0 19 0;
#X connect 30 0 19 0;
#X connect 31 0 19 0;
#X connect 32 0 19 0;
#X connect 33 0 19 0;
#X connect 34 0 19 0;
#X connect 35 0 19 0;
#X connect 36 0 19 0;
#X restore 1251 689 pd pack-freqs;
#X obj 1251 735 outlet freq-out;
#X text 23 728 This software is provided WITHOUT WARRANTY under the
GNU GPLv3 license.;
#X text 22 528 https://github.com/megalon/THE_BEAT_COP;
#X text 22 452 THE BEAT COP (TBC) V0.9.5 by Megalon 2020;
#X connect 12 0 1 1;
#X connect 22 0 12 0;
#X connect 27 0 34 0;
#X connect 29 0 1 2;
#X connect 33 0 41 0;
#X connect 33 1 42 0;
#X connect 44 0 46 0;
#X connect 45 0 47 0;
#X connect 49 0 30 0;
#X connect 79 0 119 0;
#X connect 80 0 94 0;
#X connect 83 0 86 0;
#X connect 85 0 82 1;
#X connect 86 0 82 0;
#X connect 87 0 86 1;
#X connect 88 0 86 0;
#X connect 94 0 79 0;
#X connect 94 0 88 0;
#X connect 95 0 119 1;
#X connect 118 0 1 0;
#X connect 120 0 91 0;
#X connect 121 0 122 0;
#X connect 129 0 90 0;
#X connect 132 0 61 0;
#X connect 133 0 48 0;
#X connect 134 0 28 0;
#X connect 135 0 136 0;
#X coords 0 -1 1 1 470 420 1 0 0;
